{"version":3,"sources":["webpack:///7-d3b981caa3eb21697c96.js","webpack:///./src/EditModel/EditDataSetSections.component.js","webpack:///./src/List/HelpLink.component.js?e268*****","webpack:///./src/config/inlinehelp-mapping.json?abd3*****","webpack:///./~/d2-ui/lib/i18n/TranslationDialog.component.js?7850***","webpack:///./~/d2-ui/lib/i18n/LocaleSelector.component.js?7c14***","webpack:///./~/d2-ui/lib/i18n/TranslationForm.component.js?f3ce***","webpack:///./~/d2-ui/lib/i18n/translationForm.actions.js?cdfe***","webpack:///./src/EditModel/FormHeading.js?6597***","webpack:///./src/EditModel/BackButton.component.js?d1ea***","webpack:///./src/EditModel/FormSubHeading.js?4a65*","webpack:///./~/d2-ui/lib/loading-mask/LoadingMask.component.js?df9e","webpack:///./src/EditModel/GreyFieldDialog.component.js","webpack:///./src/EditModel/SectionDialog.component.js"],"names":["webpackJsonp","1607","module","__webpack_exports__","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","n","__WEBPACK_IMPORTED_MODULE_1_prop_types__","__WEBPACK_IMPORTED_MODULE_1_prop_types___default","__WEBPACK_IMPORTED_MODULE_2_loglevel__","__WEBPACK_IMPORTED_MODULE_2_loglevel___default","__WEBPACK_IMPORTED_MODULE_3_d2_ui_lib_i18n_TranslationDialog_component__","__WEBPACK_IMPORTED_MODULE_4_d2_ui_lib_loading_mask_LoadingMask_component__","__WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_data_table_DataTable_component__","__WEBPACK_IMPORTED_MODULE_6_material_ui_FloatingActionButton_FloatingActionButton__","__WEBPACK_IMPORTED_MODULE_6_material_ui_FloatingActionButton_FloatingActionButton___default","__WEBPACK_IMPORTED_MODULE_7_material_ui_FontIcon_FontIcon__","__WEBPACK_IMPORTED_MODULE_7_material_ui_FontIcon_FontIcon___default","__WEBPACK_IMPORTED_MODULE_8__SectionDialog_component__","__WEBPACK_IMPORTED_MODULE_9__GreyFieldDialog_component__","__WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__","__WEBPACK_IMPORTED_MODULE_11__modelToEditStore__","__WEBPACK_IMPORTED_MODULE_12__FormHeading__","__WEBPACK_IMPORTED_MODULE_13__FormSubHeading__","_slicedToArray","sliceIterator","arr","i","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","length","err","Array","isArray","_createClass","defineProperties","target","props","descriptor","key","protoProps","staticProps","styles","heading","paddingBottom","fab","textAlign","marginTop","bottom","right","position","zIndex","EditDataSetSections","_Component","context","this","_this","getPrototypeOf","handleTranslationSaved","snackActions","show","message","translate","handleTranslationErrored","errorMessage","log","error","action","state","categoryCombos","editSectionModel","greyFieldSectionModel","Promise","all","d2","Api","getApi","get","params","modelId","join","fields","paging","then","_ref","_ref2","catComboList","sections","modelToEditStore","sectionArray","toArray","setState","sort","a","b","sortOrder","map","cc","id","text","displayName","getTranslation","handleAddSectionClick","bind","handleEditSectionClick","handleSectionSaved","handleDeleteSectionClick","handleTranslateSectionClick","handleSectionGreyFieldsClick","swapSections","moveSectionUp","moveSectionDown","i18n","newSection","models","assign","dataSet","reduce","p","s","Math","max","savedSection","_this2","replaced","forceUpdate","section","_this3","onActionTouchTap","delete","newSections","filter","catch","warn","translationModel","sectionA","sectionB","_this4","swapOrder","save","currentIndex","indexOf","swapSection","_this5","contextActions","edit","manage_grey_fields","move_up","move_down","contextMenuIcons","contextActionChecker","model","createElement","schema","groupName","columns","rows","contextMenuActions","primaryAction","isContextActionAllowed","open","sectionModel","onRequestClose","onSaveSection","onRequestSave","objectToTranslate","objectTypeToTranslate","modelDefinition","onTranslationSaved","onTranslationError","fieldsToTranslate","style","onClick","className","Component","propTypes","PropTypes","any","isRequired","contextTypes","1654","mappingPathExists","mappingKey","inlineHelpMapping","getDocsVersion","major","minor","snapshot","replacePlaceholder","variablesToReplace","placeholderRegex","replace","match","variable","has","replaceMappingPathPlaceholder","path","keys","find","pathToMatch","RegExp","test","getPartialHelpContentPath","replacedMappingPath","variablesToReplaceCamel","findHelpLinkForPath","Map","camelCaseToUnderscores","HelpLink","_ref3","window","location","hash","docsLink","system","version","helpLink","__WEBPACK_IMPORTED_MODULE_2_material_ui_IconButton___default","href","rel","tooltip","tooltipPosition","iconClassName","iconStyle","top","__WEBPACK_IMPORTED_MODULE_2_material_ui_IconButton__","__WEBPACK_IMPORTED_MODULE_3_d2_utilizr__","__WEBPACK_IMPORTED_MODULE_4__config_inlinehelp_mapping_json__","__WEBPACK_IMPORTED_MODULE_4__config_inlinehelp_mapping_json___default","string","object","1656","exports","/edit/categorySection/categoryOptionGroupSet","/edit/categorySection/categoryOptionGroup","/edit/categorySection/categoryOptionCombo","/edit/categorySection/categoryOption","/edit/categorySection/categoryCombo","/edit/categorySection/category","/list/categorySection","/edit/dataElementSection/dataElementGroupSet","/edit/dataElementSection/dataElementGroup","/edit/dataElementSection/dataElement","/list/dataElementSection","/edit/dataSetSection/dataSet/${objectId}/sections","/edit/dataSetSection/dataSet","/list/dataSetSection/dataSet","/edit/indicatorSection/programIndicatorGroup","/list/indicatorSection/programIndicatorGroup","/edit/indicatorSection/programIndicator","/list/indicatorSection/programIndicator","/edit/indicatorSection/indicatorGroupSet","/edit/indicatorSection/indicatorGroup","/edit/indicatorSection/indicatorType","/edit/indicatorSection/indicator","/list/indicatorSection","/edit/organisationUnitSection/organisationUnitGroupSet","/edit/organisationUnitSection/organisationUnitGroup","/edit/organisationUnitSection/organisationUnitLevel","/edit/organisationUnitSection/organisationUnit","/list/organisationUnitSection","/edit/programSection/trackedEntityAttribute","/edit/programSection/programRuleVariable","/edit/programSection/relationshipType","/edit/programSection/trackedEntity","/edit/programSection/programRule","/edit/programSection/program","/list/programSection","/edit/validationSection/validationNotificationTemplate","/edit/validationSection/validationRuleGroup","/edit/validationSection/validationRule","/list/validationSection","/edit/otherSection/legendSet","/list/otherSection/legendSet","/edit/otherSection/pushAnalysis","/list/otherSection/pushAnalysis","/edit/otherSection/externalMapLayer","/list/otherSection/externalMapLayer","/edit/otherSection/${objectType}","/list/otherSection/${objectType}","1659","__WEBPACK_IMPORTED_MODULE_2_d2_lib_d2__","__WEBPACK_IMPORTED_MODULE_3_material_ui_Dialog_Dialog__","__WEBPACK_IMPORTED_MODULE_3_material_ui_Dialog_Dialog___default","__WEBPACK_IMPORTED_MODULE_4__TranslationForm_component__","_extends","arguments","source","hasOwnProperty","TranslationDialog","TranslationForm","translationSaved","translationError","closeTranslationDialog","title","autoDetectWindowHeight","autoScrollBodyContent","onCancel","newProps","args","shape","func","bool","array","1681","__WEBPACK_IMPORTED_MODULE_2_material_ui_SelectField_SelectField__","__WEBPACK_IMPORTED_MODULE_2_material_ui_SelectField_SelectField___default","__WEBPACK_IMPORTED_MODULE_3_material_ui_MenuItem_MenuItem__","__WEBPACK_IMPORTED_MODULE_3_material_ui_MenuItem_MenuItem___default","LocaleSelector","onLocaleChange","event","index","locale","onChange","localeMenuItems","payload","concat","locales","primaryText","name","fullWidth","hintText","arrayOf","1682","getTranslationFormData","translationStore","__WEBPACK_IMPORTED_MODULE_9__store_Store__","__WEBPACK_IMPORTED_MODULE_7__translationForm_actions__","subscribe","translations","__WEBPACK_IMPORTED_MODULE_5_rxjs__","combineLatest","_len","data","_key","apply","setTranslations","getTranslationFormFor","__WEBPACK_IMPORTED_MODULE_8__component_helpers_withStateFrom__","__WEBPACK_IMPORTED_MODULE_2_material_ui_TextField_TextField__","__WEBPACK_IMPORTED_MODULE_2_material_ui_TextField_TextField___default","__WEBPACK_IMPORTED_MODULE_3_d2_utilizr_lib_camelCaseToUnderscores__","__WEBPACK_IMPORTED_MODULE_3_d2_utilizr_lib_camelCaseToUnderscores___default","__WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton__","__WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton___default","__WEBPACK_IMPORTED_MODULE_6__i18n_LocaleSelector_component__","__WEBPACK_IMPORTED_MODULE_10__circular_progress_CircularProgress__","loading","translationValues","currentSelectedLocale","setCurrentLocale","setValue","property","newTranslations","translation","t","toLowerCase","toUpperCase","saveTranslations","mode","fieldName","floatingLabelText","getTranslationValueFor","renderFieldsToTranslate","label","primary","marginLeft","minHeight","renderForm","renderHelpText","getLoadingdataElement","defaultProps","1683","getLocales","localePromise","__WEBPACK_IMPORTED_MODULE_0_d2_lib_d2__","__WEBPACK_IMPORTED_MODULE_1_rxjs__","fromPromise","getModelHref","apiEndpoint","getTranslationsForModel","of","flatMap","reject","Error","d","__WEBPACK_IMPORTED_MODULE_2__action_Action__","_ref$data","complete","translationHref","update","dataType","1684","_objectWithoutProperties","obj","FormHeading","level","children","isDirtyHandler","__WEBPACK_IMPORTED_MODULE_3_d2_ui_lib_headings_Heading_component__","__WEBPACK_IMPORTED_MODULE_5__BackButton_component__","goToAndScrollUp","__WEBPACK_IMPORTED_MODULE_4__List_HelpLink_component__","__WEBPACK_IMPORTED_MODULE_2_d2_ui_lib_component_helpers_addD2Context__","__WEBPACK_IMPORTED_MODULE_6__router_utils__","oneOfType","number","addD2Context","1687","BackButton","_props$isDirtyHandler","getState","otherProps","onClickWithConfirm","dirty","confirm","__WEBPACK_IMPORTED_MODULE_1_material_ui_IconButton_IconButton___default","__WEBPACK_IMPORTED_MODULE_1_material_ui_IconButton_IconButton__","__WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__","__WEBPACK_IMPORTED_MODULE_4__EditModel_modelToEditStore__","React","1776","FormSubHeading","defaultStyle","__WEBPACK_IMPORTED_MODULE_1_d2_ui_lib_headings_Heading_component__","fontSize","paddingTop","fontWeight","1779","LoadingMask","_ref$style","_ref$large","large","_ref$small","small","__WEBPACK_IMPORTED_MODULE_1_react___default","loadingStatusMask","__WEBPACK_IMPORTED_MODULE_2__circular_progress_CircularProgress__","__WEBPACK_IMPORTED_MODULE_0_prop_types__","__WEBPACK_IMPORTED_MODULE_0_prop_types___default","__WEBPACK_IMPORTED_MODULE_1_react__","left","2198","_toConsumableArray","arr2","from","__WEBPACK_IMPORTED_MODULE_1_loglevel__","__WEBPACK_IMPORTED_MODULE_1_loglevel___default","__WEBPACK_IMPORTED_MODULE_2_material_ui_Dialog_Dialog__","__WEBPACK_IMPORTED_MODULE_2_material_ui_Dialog_Dialog___default","__WEBPACK_IMPORTED_MODULE_3_material_ui_FlatButton_FlatButton__","__WEBPACK_IMPORTED_MODULE_3_material_ui_FlatButton_FlatButton___default","__WEBPACK_IMPORTED_MODULE_5_material_ui_Checkbox_Checkbox__","__WEBPACK_IMPORTED_MODULE_5_material_ui_Checkbox_Checkbox___default","__WEBPACK_IMPORTED_MODULE_6__forms_form_fields_drop_down__","__WEBPACK_IMPORTED_MODULE_7__Snackbar_snack_actions__","__WEBPACK_IMPORTED_MODULE_8__modelToEditStore__","dialogContent","maxWidth","dialogDiv","overflowX","overflowY","table","borderSpacing","borderCollapse","margin","th","whiteSpace","border","padding","thDataElements","background","td","minWidth","tdDataElement","GreyFieldDialog","_React$Component","categories","closeDialog","handleSaveClick","dataElements","info","cocMap","categoryArrayToMap","appendage","reduceAppendage","prev","categoryOption","out","pop","categoryOptions","assignCocs","options","coc","keyPos","splice","list","forEach","categoryCombo","JSON","parse","stringify","categoryOptionCombos","optionPath","o","greyedFields","gf","dataElement","categoryOptionCombo","currentCategoryCombo","optionCount","oc","c","size","res","prevRowColCount","cat","catNum","colSpan","slice","product","isLastHeader","row","e","rep","opt","optNum","fieldArray","fieldNum","resolveCoc","shift","isGreyed","toggleBoggle","dataElementId","categoryOptionComboId","disable","greyedCocs","includes","deId","checked","labelPosition","labelStyle","onCheck","_this6","getCocFields","pout","currentSectionDataElementIds","de","dataSetElements","dse","deNum","cocFields","renderCheckbox","_this7","_props","extraProps","uniqueCatComboIds","sectionDataElementIds","categoryCombosForSection","catCombos","catCombo","localeCompare","contentStyle","actions","onTouchTap","marginRight","labelText","width","renderTableHeader","renderDataElements","2199","__WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField__","__WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField___default","__WEBPACK_IMPORTED_MODULE_6_d2_ui_lib_group_editor_GroupEditorWithOrdering_component__","__WEBPACK_IMPORTED_MODULE_7_d2_ui_lib_store_Store__","__WEBPACK_IMPORTED_MODULE_8_material_ui_Checkbox__","__WEBPACK_IMPORTED_MODULE_8_material_ui_Checkbox___default","__WEBPACK_IMPORTED_MODULE_9__forms_form_fields_drop_down__","dataElementStore","Store","assignedDataElementStore","indicatorStore","assignedIndicatorStore","SectionDialog","setAssignedDataElements","setAssignedIndicators","indicators","removeIndicators","resolve","assignIndicators","handleRowTotalsChange","showRowTotals","handleColumnTotalsChange","showColumnTotals","handleFilterChange","filterText","handleNameChange","nameDupe","nameError","handleCodeChange","codeDupe","code","codeError","handleDescriptionChange","description","assignDataElements","removeDataElements","handleCategoryComboChange","categoryComboId","filterDataElementIds","saveSection","trim","response","uid","renderFilters","disabled","defaultValue","renderAvailableOptions","display","lineHeight","color","editorStyle","marginBottom","itemStore","assignedItemStore","onAssignItems","onRemoveItems","onOrderChanged","height","subscriptions","currentSectionId","otherSections","elements","disposable","unsubscribe","sectionIdDiv","float","fontFamily","validateName","errorText","onBlur","multiLine"],"mappings":"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","file":"7-d3b981caa3eb21697c96.js","sourcesContent":["webpackJsonp([7],{\n\n/***/ 1607:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_loglevel__ = __webpack_require__(20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_loglevel___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_loglevel__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_ui_lib_i18n_TranslationDialog_component__ = __webpack_require__(1659);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_d2_ui_lib_loading_mask_LoadingMask_component__ = __webpack_require__(1779);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_data_table_DataTable_component__ = __webpack_require__(651);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_material_ui_FloatingActionButton_FloatingActionButton__ = __webpack_require__(652);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_material_ui_FloatingActionButton_FloatingActionButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_material_ui_FloatingActionButton_FloatingActionButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_material_ui_FontIcon_FontIcon__ = __webpack_require__(217);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_material_ui_FontIcon_FontIcon___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_material_ui_FontIcon_FontIcon__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__SectionDialog_component__ = __webpack_require__(2199);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__GreyFieldDialog_component__ = __webpack_require__(2198);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__ = __webpack_require__(62);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__ = __webpack_require__(120);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__FormHeading__ = __webpack_require__(1684);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__FormSubHeading__ = __webpack_require__(1776);\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar styles = {\n    heading: {\n        paddingBottom: 18\n    },\n    fab: {\n        textAlign: 'right',\n        marginTop: '1rem',\n        bottom: '1.5rem',\n        right: '1.5rem',\n        position: 'fixed',\n        zIndex: 10\n    }\n};\n\nvar EditDataSetSections = function (_Component) {\n    _inherits(EditDataSetSections, _Component);\n\n    function EditDataSetSections(props, context) {\n        _classCallCheck(this, EditDataSetSections);\n\n        var _this = _possibleConstructorReturn(this, (EditDataSetSections.__proto__ || Object.getPrototypeOf(EditDataSetSections)).call(this, props, context));\n\n        _this.handleTranslationSaved = function () {\n            __WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__[\"a\" /* default */].show({ message: 'translation_saved', translate: true });\n        };\n\n        _this.handleTranslationErrored = function (errorMessage) {\n            __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.error(errorMessage);\n            __WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__[\"a\" /* default */].show({ message: 'translation_save_error', action: 'ok', translate: true });\n        };\n\n        _this.state = {\n            categoryCombos: null,\n            editSectionModel: false,\n            greyFieldSectionModel: false\n        };\n\n        Promise.all([context.d2.Api.getApi().get(['dataSets', props.params.modelId, 'categoryCombos'].join('/'), { fields: 'id,displayName', paging: false })]).then(function (_ref) {\n            var _ref2 = _slicedToArray(_ref, 1),\n                catComboList = _ref2[0];\n\n            var sections = __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].state.sections;\n            var sectionArray = Array.isArray(sections) ? sections : sections.toArray();\n            _this.setState({\n                sections: sectionArray.sort(function (a, b) {\n                    return a.sortOrder - b.sortOrder;\n                }),\n                categoryCombos: catComboList.categoryCombos.map(function (cc) {\n                    return {\n                        value: cc.id,\n                        text: cc.displayName === 'default' ? _this.getTranslation('none') : cc.displayName\n                    };\n                })\n            });\n        });\n\n        _this.handleAddSectionClick = _this.handleAddSectionClick.bind(_this);\n        _this.handleEditSectionClick = _this.handleEditSectionClick.bind(_this);\n        _this.handleSectionSaved = _this.handleSectionSaved.bind(_this);\n\n        _this.handleDeleteSectionClick = _this.handleDeleteSectionClick.bind(_this);\n        _this.handleTranslateSectionClick = _this.handleTranslateSectionClick.bind(_this);\n        _this.handleTranslationSaved = _this.handleTranslationSaved.bind(_this);\n        _this.handleTranslationErrored = _this.handleTranslationErrored.bind(_this);\n\n        _this.handleSectionGreyFieldsClick = _this.handleSectionGreyFieldsClick.bind(_this);\n\n        _this.swapSections = _this.swapSections.bind(_this);\n        _this.moveSectionUp = _this.moveSectionUp.bind(_this);\n        _this.moveSectionDown = _this.moveSectionDown.bind(_this);\n\n        _this.getTranslation = context.d2.i18n.getTranslation.bind(context.d2.i18n);\n        return _this;\n    }\n\n    _createClass(EditDataSetSections, [{\n        key: 'handleAddSectionClick',\n        value: function handleAddSectionClick() {\n            var newSection = this.context.d2.models.sections.create();\n            this.setState(function (state) {\n                return {\n                    editSectionModel: Object.assign(newSection, {\n                        dataSet: { id: __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].state.id },\n                        sortOrder: state.sections.reduce(function (p, s) {\n                            return Math.max(s.sortOrder, p);\n                        }, 0) + 1\n                    })\n                };\n            });\n        }\n    }, {\n        key: 'handleEditSectionClick',\n        value: function handleEditSectionClick(editSectionModel) {\n            this.setState({ editSectionModel: editSectionModel });\n        }\n    }, {\n        key: 'handleSectionSaved',\n        value: function handleSectionSaved(savedSection) {\n            var _this2 = this;\n\n            this.setState(function (state) {\n                var replaced = false;\n                var sections = state.sections.map(function (s) {\n                    if (s.id === savedSection.id) {\n                        replaced = true;\n                        return savedSection;\n                    }\n                    return s;\n                }).sort(function (a, b) {\n                    return a.sortOrder - b.sortOrder;\n                });\n                if (!replaced) {\n                    sections.push(savedSection);\n                }\n\n                __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].setState(Object.assign(__WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].state, { sections: sections }));\n                return {\n                    editSectionModel: false,\n                    greyFieldSectionModel: false,\n                    sections: sections\n                };\n            }, function () {\n                _this2.forceUpdate();\n            });\n        }\n    }, {\n        key: 'handleDeleteSectionClick',\n        value: function handleDeleteSectionClick(section) {\n            var _this3 = this;\n\n            __WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__[\"a\" /* default */].show({\n                message: this.getTranslation('confirm_delete_section') + ' ' + section.displayName,\n                action: 'confirm',\n                onActionTouchTap: function onActionTouchTap() {\n                    section.delete().then(function () {\n                        var newSections = __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].state.sections;\n                        __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].setState(Object.assign(__WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].state, {\n                            sections: (Array.isArray(newSections) ? newSections : newSections.toArray()).filter(function (s) {\n                                return s.id !== section.id;\n                            })\n                        }));\n\n                        __WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__[\"a\" /* default */].show({ message: _this3.getTranslation('section_deleted') });\n                        _this3.setState(function (state) {\n                            return {\n                                sections: state.sections.filter(function (s) {\n                                    return s.id !== section.id;\n                                })\n                            };\n                        });\n                    }).catch(function (err) {\n                        __WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__[\"a\" /* default */].show({ message: _this3.getTranslation('failed_to_delete_section'), action: 'ok' });\n                        __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.warn('Failed to delete section', err);\n                    });\n                }\n            });\n        }\n    }, {\n        key: 'handleTranslateSectionClick',\n        value: function handleTranslateSectionClick(section) {\n            this.setState({\n                translationModel: section\n            });\n        }\n    }, {\n        key: 'handleSectionGreyFieldsClick',\n        value: function handleSectionGreyFieldsClick(section) {\n            this.setState({ greyFieldSectionModel: section });\n        }\n    }, {\n        key: 'swapSections',\n        value: function swapSections(sectionA, sectionB) {\n            var _this4 = this;\n\n            this.setState(function (state) {\n                var swapOrder = sectionA.sortOrder;\n                sectionA.sortOrder = sectionB.sortOrder; // eslint-disable-line\n                sectionB.sortOrder = swapOrder; // eslint-disable-line\n\n                Promise.all([sectionA.save(), sectionB.save()]).then(function () {\n                    __WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__[\"a\" /* default */].show({ message: _this4.getTranslation('section_moved') });\n                }).catch(function (err) {\n                    __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.warn('Failed to swap sections:', err);\n                    __WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__[\"a\" /* default */].show({ message: _this4.getTranslation('failed_to_move_section'), action: 'ok' });\n                });\n\n                return {\n                    sections: state.sections.sort(function (a, b) {\n                        return a.sortOrder - b.sortOrder;\n                    })\n                };\n            });\n        }\n    }, {\n        key: 'moveSectionUp',\n        value: function moveSectionUp(section) {\n            var currentIndex = this.state.sections.indexOf(section);\n            if (currentIndex > 0) {\n                var swapSection = this.state.sections[currentIndex - 1];\n                this.swapSections(swapSection, section);\n            }\n        }\n    }, {\n        key: 'moveSectionDown',\n        value: function moveSectionDown(section) {\n            var currentIndex = this.state.sections.indexOf(section);\n            if (currentIndex < this.state.sections.length - 1) {\n                var swapSection = this.state.sections[currentIndex + 1];\n                this.swapSections(swapSection, section);\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this5 = this;\n\n            var contextActions = {\n                edit: this.handleEditSectionClick,\n                delete: this.handleDeleteSectionClick,\n                translate: this.handleTranslateSectionClick,\n                manage_grey_fields: this.handleSectionGreyFieldsClick,\n                move_up: this.moveSectionUp,\n                move_down: this.moveSectionDown\n            };\n\n            var contextMenuIcons = {\n                edit: 'edit',\n                move_up: 'arrow_upward',\n                move_down: 'arrow_downward',\n                manage_grey_fields: 'do_not_disturb'\n            };\n\n            var contextActionChecker = function contextActionChecker(model, action) {\n                if (action === 'move_up') {\n                    return _this5.state.sections.indexOf(model) > 0;\n                } else if (action === 'move_down') {\n                    return _this5.state.sections.indexOf(model) < _this5.state.sections.length - 1;\n                }\n\n                return true;\n            };\n\n            return this.state.sections === undefined ? __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4_d2_ui_lib_loading_mask_LoadingMask_component__[\"a\" /* default */], null) : __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                null,\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    __WEBPACK_IMPORTED_MODULE_12__FormHeading__[\"a\" /* default */],\n                    { schema: 'dataSet', groupName: 'dataSetSection' },\n                    'section_management'\n                ),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    __WEBPACK_IMPORTED_MODULE_13__FormSubHeading__[\"a\" /* default */],\n                    null,\n                    __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].state.displayName\n                ),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_data_table_DataTable_component__[\"a\" /* default */], {\n                    columns: ['name'],\n                    rows: this.state.sections,\n                    contextMenuActions: contextActions,\n                    contextMenuIcons: contextMenuIcons,\n                    primaryAction: contextActions.edit,\n                    isContextActionAllowed: contextActionChecker\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8__SectionDialog_component__[\"a\" /* default */], {\n                    open: !!this.state.editSectionModel,\n                    sectionModel: this.state.editSectionModel,\n                    categoryCombos: this.state.categoryCombos,\n                    onRequestClose: function onRequestClose() {\n                        _this5.setState({ editSectionModel: false });\n                    },\n                    onSaveSection: this.handleSectionSaved\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_9__GreyFieldDialog_component__[\"a\" /* default */], {\n                    open: !!this.state.greyFieldSectionModel,\n                    sectionModel: this.state.greyFieldSectionModel,\n                    onRequestClose: function onRequestClose() {\n                        _this5.setState({ greyFieldSectionModel: false });\n                    },\n                    onRequestSave: this.handleSectionSaved\n                }),\n                this.state.translationModel ? __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_d2_ui_lib_i18n_TranslationDialog_component__[\"a\" /* default */], {\n                    objectToTranslate: this.state.translationModel,\n                    objectTypeToTranslate: this.state.translationModel && this.state.translationModel.modelDefinition,\n                    open: !!this.state.translationModel,\n                    onTranslationSaved: this.handleTranslationSaved,\n                    onTranslationError: this.handleTranslationErrored,\n                    onRequestClose: function onRequestClose() {\n                        _this5.setState({ translationModel: null });\n                    },\n                    fieldsToTranslate: ['name']\n                }) : null,\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'div',\n                    { style: styles.fab },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        __WEBPACK_IMPORTED_MODULE_6_material_ui_FloatingActionButton_FloatingActionButton___default.a,\n                        { onClick: this.handleAddSectionClick },\n                        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                            __WEBPACK_IMPORTED_MODULE_7_material_ui_FontIcon_FontIcon___default.a,\n                            { className: 'material-icons' },\n                            'add'\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n\n    return EditDataSetSections;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);\n\nEditDataSetSections.propTypes = {\n    params: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.any.isRequired\n};\nEditDataSetSections.contextTypes = {\n    d2: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.any.isRequired\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (EditDataSetSections);\n\n/***/ }),\n\n/***/ 1654:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = HelpLink;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_IconButton__ = __webpack_require__(42);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_IconButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_material_ui_IconButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_utilizr__ = __webpack_require__(339);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_utilizr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_d2_utilizr__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__config_inlinehelp_mapping_json__ = __webpack_require__(1656);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__config_inlinehelp_mapping_json___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__config_inlinehelp_mapping_json__);\n\n\n\n\n\n\n\n\n\nfunction mappingPathExists(mappingKey) {\n    return mappingKey && __WEBPACK_IMPORTED_MODULE_4__config_inlinehelp_mapping_json___default.a[mappingKey];\n}\n\n/**\n * Returns the \"version\" of the documentation that corresponds with the current dhis2 version.\n *\n * @param {Object} version - The version definition as provided by d2.system.version.\n * @param {number} version.minor - The minor dhis2 version. e.g. The 25 in 2.25.\n * @param {boolean} version.snapshot - True when the current version is the snapshot(master/development) branch.\n *\n * @returns {string} `master` for a snapshot branch. `25` for 2.25 etc.\n */\nfunction getDocsVersion(_ref) {\n    var major = _ref.major,\n        minor = _ref.minor,\n        snapshot = _ref.snapshot;\n\n    if (snapshot) {\n        return 'master';\n    }\n    return major + '.' + minor;\n}\n\n/** \n * If ${placeholder} is found in mappingKey, it will be replaced with a matching name if \n * present from variablesToReplace.  \n * \n * Eg. for the mappingKey \"/edit/otherSection/${objectType}\" the placeholder objectType\n * will be found. If an entry in variablesToReplace exists objectType will be replaced \n * with the value to this entry, say constant. This will result in the new path  \"/edit/otherSection/constant\".\n * If no match is found, the path will return.\n * \n * @param {string} mappingKey The mapping that may have a placeholder to replace\n * @param {Map} variablesToReplace The variables that are to be replaced with the placeholder \n *\n * @returns {string} The matched path with replaced placeholders if found\n */\nfunction replacePlaceholder(mappingKey, variablesToReplace) {\n    var placeholderRegex = /\\$\\{(.+?)\\}/g;\n\n    return mappingKey.replace(placeholderRegex, function (match, variable) {\n        if (variablesToReplace.has(variable)) {\n            return variablesToReplace.get(variable);\n        }\n        return '.+?';\n    });\n}\n\n/** \n * Checks if the mappingKeyPath with replaced placeholders matches the path were currently on.\n * \n * @param {string} path The path to be matched with a mappingKey \n * @param {Map} variablesToReplace The variables that are to be replaced with a placeholder \n *\n * @returns {string} The matched mappingKey with replaced placeholders if found\n */\nfunction replaceMappingPathPlaceholder(path, variablesToReplace) {\n    return Object.keys(__WEBPACK_IMPORTED_MODULE_4__config_inlinehelp_mapping_json___default.a).find(function (mappingKey) {\n        var pathToMatch = replacePlaceholder(mappingKey, variablesToReplace);\n        return new RegExp(pathToMatch).test(path);\n    });\n}\n\n// Replaces the placeholders of the matched mappingKey url to create the complete partial help content path.\nfunction getPartialHelpContentPath(replacedMappingPath, variablesToReplaceCamel) {\n    if (mappingPathExists(replacedMappingPath)) {\n        return replacePlaceholder(__WEBPACK_IMPORTED_MODULE_4__config_inlinehelp_mapping_json___default.a[replacedMappingPath], variablesToReplaceCamel);\n    }\n\n    return '';\n}\n\n/**\n * Attempts to find a help link as defined in the inlinehelp-mapping.js It will always pick the first match that it finds. Help links should therefore be\n * sorted with the longer links first.\n * The search is done using a regular expression that matches the path from the start. This means that paths that are longer/dynamic can still show help links.\n *\n * For example a help link key that is defined as  `/edit/dataElementSection/dataElement` would show up on both `/edit/dataElementSection/dataElement/add` and `/edit/dataElementSection/dataElement/wap68IYzTXr`.\n *\n * @param {string} path The current path/route that the browser is on. This is the path that the help link should be used for.\n * @param {string} schema The name of the schema to find help for.\n *\n * @returns {string} The partial path that the refers to the help content in the documentation.  e.g. `/en/user/html/manage_org_unit.html`\n */\nfunction findHelpLinkForPath(path, schema) {\n    var variablesToReplace = new Map([['objectType', schema]]);\n    var variablesToReplaceCamel = new Map([['objectType', __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_d2_utilizr__[\"camelCaseToUnderscores\"])(schema)]]);\n\n    var replacedMappingPath = replaceMappingPathPlaceholder(path, variablesToReplace);\n\n    return getPartialHelpContentPath(replacedMappingPath, variablesToReplaceCamel);\n}\n\nfunction HelpLink(_ref2, _ref3) {\n    var schema = _ref2.schema;\n    var d2 = _ref3.d2;\n\n    var path = window.location.hash.replace(/^#/, '') // Remove leading hash\n    .replace(/\\?.+?$/, ''); // Remove query param/cache breaker\n    var docsLink = 'https://docs.dhis2.org/' + getDocsVersion(d2.system.version);\n    var helpLink = findHelpLinkForPath(path, schema);\n\n    if (helpLink) {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            __WEBPACK_IMPORTED_MODULE_2_material_ui_IconButton___default.a,\n            {\n                href: '' + docsLink + helpLink,\n                target: '_blank',\n                rel: 'noopener noreferrer',\n                tooltip: d2.i18n.getTranslation('open_user_guide'),\n                tooltipPosition: 'bottom-center',\n                iconClassName: 'material-icons',\n                iconStyle: { top: -2 }\n            },\n            'help_outline'\n        );\n    }\n\n    return null;\n}\n\nHelpLink.propTypes = {\n    schema: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string.isRequired\n};\n\nHelpLink.contextTypes = {\n    d2: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.object\n};\n\n/***/ }),\n\n/***/ 1656:\n/***/ (function(module, exports) {\n\nmodule.exports = {\"/edit/categorySection/categoryOptionGroupSet\":\"/en/user/html/manage_category.html#create_category_option_group_set\",\"/edit/categorySection/categoryOptionGroup\":\"/en/user/html/manage_category.html#create_category_option_group\",\"/edit/categorySection/categoryOptionCombo\":\"/en/user/html/manage_category.html#assign_code_category_option_combo\",\"/edit/categorySection/categoryOption\":\"/en/user/html/manage_category.html#create_category_option\",\"/edit/categorySection/categoryCombo\":\"/en/user/html/manage_category.html#create_category_combination\",\"/edit/categorySection/category\":\"/en/user/html/manage_category.html#create_category\",\"/list/categorySection\":\"/en/user/html/manage_category.html\",\"/edit/dataElementSection/dataElementGroupSet\":\"/en/user/html/manage_data_element.html#create_data_element_group_set\",\"/edit/dataElementSection/dataElementGroup\":\"/en/user/html/manage_data_element.html#create_data_element_group\",\"/edit/dataElementSection/dataElement\":\"/en/user/html/manage_data_element.html#create_data_element\",\"/list/dataElementSection\":\"/en/user/html/manage_data_element.html\",\"/edit/dataSetSection/dataSet/${objectId}/sections\":\"/en/user/html/manage_data_set.html#manage_section_form\",\"/edit/dataSetSection/dataSet\":\"/en/user/html/manage_data_set.html#create_data_set\",\"/list/dataSetSection/dataSet\":\"/en/user/html/manage_data_set.html\",\"/edit/indicatorSection/programIndicatorGroup\":\"/en/user/html/configure_program_indicator.html#create_program_indicator_group\",\"/list/indicatorSection/programIndicatorGroup\":\"/en/user/html/configure_program_indicator.html\",\"/edit/indicatorSection/programIndicator\":\"/en/user/html/configure_program_indicator.html#create_program_indicator\",\"/list/indicatorSection/programIndicator\":\"/en/user/html/configure_program_indicator.html\",\"/edit/indicatorSection/indicatorGroupSet\":\"/en/user/html/manage_indicator.html#create_indicator_group_set\",\"/edit/indicatorSection/indicatorGroup\":\"/en/user/html/manage_indicator.html#create_indicator_group\",\"/edit/indicatorSection/indicatorType\":\"/en/user/html/manage_indicator.html#create_indicator_type\",\"/edit/indicatorSection/indicator\":\"/en/user/html/manage_indicator.html#create_indicator\",\"/list/indicatorSection\":\"/en/user/html/manage_indicator.html\",\"/edit/organisationUnitSection/organisationUnitGroupSet\":\"/en/user/html/manage_organisation_unit.html#create_organisation_unit_group_set\",\"/edit/organisationUnitSection/organisationUnitGroup\":\"/en/user/html/manage_organisation_unit.html#create_organisation_unit_group\",\"/edit/organisationUnitSection/organisationUnitLevel\":\"/en/user/html/manage_organisation_unit.html#name_organisation_unit_level\",\"/edit/organisationUnitSection/organisationUnit\":\"/en/user/html/manage_organisation_unit.html#create_organisation_unit\",\"/list/organisationUnitSection\":\"/en/user/html/manage_organisation_unit.html\",\"/edit/programSection/trackedEntityAttribute\":\"/en/user/html/configure_tracked_entity.html#create_tracked_entity_attribute\",\"/edit/programSection/programRuleVariable\":\"/en/user/html/configure_program_rule.html#create_program_rule_variable\",\"/edit/programSection/relationshipType\":\"/en/user/html/configure_relationship_type.html#create_relationship_type\",\"/edit/programSection/trackedEntity\":\"/en/user/html/configure_tracked_entity.html#about_tracked_entity\",\"/edit/programSection/programRule\":\"/en/user/html/configure_program_rule.html#create_program_rule\",\"/edit/programSection/program\":\"/en/user/html/configure_event_program_in_maintenance_app.html#create_event_program\",\"/list/programSection\":\"/en/user/html/configure_programs_in_maintenance_app.html\",\"/edit/validationSection/validationNotificationTemplate\":\"/en/user/html/manage_validation_rule.html#create_validation_notification\",\"/edit/validationSection/validationRuleGroup\":\"/en/user/html/manage_validation_rule.html#create_validation_rule_group\",\"/edit/validationSection/validationRule\":\"/en/user/html/manage_validation_rule.html#create_validation_rule\",\"/list/validationSection\":\"/en/user/html/manage_validation_rule.html\",\"/edit/otherSection/legendSet\":\"/en/user/html/manage_legend.html#create_legend\",\"/list/otherSection/legendSet\":\"/en/user/html/manage_legend.html\",\"/edit/otherSection/pushAnalysis\":\"/en/user/html/manage_push_report.html#create_push_report\",\"/list/otherSection/pushAnalysis\":\"/en/user/html/manage_push_report.html\",\"/edit/otherSection/externalMapLayer\":\"/en/user/html/manage_external_maplayer.html#create_external_map_layer\",\"/list/otherSection/externalMapLayer\":\"/en/user/html/manage_external_maplayer.html\",\"/edit/otherSection/${objectType}\":\"/en/user/html/manage_${objectType}.html#create_${objectType}\",\"/list/otherSection/${objectType}\":\"/en/user/html/manage_${objectType}.html\"}\n\n/***/ }),\n\n/***/ 1659:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_d2_lib_d2__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_d2_lib_d2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_d2_lib_d2__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_Dialog_Dialog__ = __webpack_require__(338);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_Dialog_Dialog___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_material_ui_Dialog_Dialog__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__TranslationForm_component__ = __webpack_require__(1682);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\nvar TranslationDialog = function (_Component) {\n    _inherits(TranslationDialog, _Component);\n\n    function TranslationDialog(props, context) {\n        _classCallCheck(this, TranslationDialog);\n\n        var _this = _possibleConstructorReturn(this, (TranslationDialog.__proto__ || Object.getPrototypeOf(TranslationDialog)).call(this, props, context));\n\n        _this.i18n = context.d2.i18n;\n\n        _this.state = {\n            TranslationForm: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__TranslationForm_component__[\"a\" /* getTranslationFormFor */])(_this.props.objectToTranslate)\n        };\n\n        _this.translationSaved = _this.translationSaved.bind(_this);\n        _this.translationError = _this.translationError.bind(_this);\n        _this.closeTranslationDialog = _this.closeTranslationDialog.bind(_this);\n        return _this;\n    }\n\n    _createClass(TranslationDialog, [{\n        key: 'render',\n        value: function render() {\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                __WEBPACK_IMPORTED_MODULE_3_material_ui_Dialog_Dialog___default.a,\n                _extends({\n                    title: this.i18n.getTranslation('translation_dialog_title'),\n                    autoDetectWindowHeight: true,\n                    autoScrollBodyContent: true\n                }, this.props),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(this.state.TranslationForm, {\n                    onTranslationSaved: this.translationSaved,\n                    onTranslationError: this.translationError,\n                    onCancel: this.closeTranslationDialog,\n                    fieldsToTranslate: this.props.fieldsToTranslate\n                })\n            );\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(newProps) {\n            if (newProps.objectToTranslate) {\n                this.setState({\n                    TranslationForm: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__TranslationForm_component__[\"a\" /* getTranslationFormFor */])(newProps.objectToTranslate)\n                });\n            }\n        }\n    }, {\n        key: 'closeTranslationDialog',\n        value: function closeTranslationDialog() {\n            this.props.onRequestClose();\n        }\n    }, {\n        key: 'translationSaved',\n        value: function translationSaved(args) {\n            this.props.onTranslationSaved(args);\n            this.closeTranslationDialog();\n        }\n    }, {\n        key: 'translationError',\n        value: function translationError(err) {\n            this.props.onTranslationError(err);\n        }\n    }]);\n\n    return TranslationDialog;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);\n\nTranslationDialog.propTypes = {\n    objectToTranslate: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.shape({\n        id: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string.isRequired\n    }).isRequired,\n    onTranslationSaved: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func.isRequired,\n    onTranslationError: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func.isRequired,\n    open: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.bool,\n    onRequestClose: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func.isRequired,\n    fieldsToTranslate: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.array\n};\n\nTranslationDialog.contextTypes = {\n    d2: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.object\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (TranslationDialog);\n\n/***/ }),\n\n/***/ 1681:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_SelectField_SelectField__ = __webpack_require__(155);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_SelectField_SelectField___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_material_ui_SelectField_SelectField__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_MenuItem_MenuItem__ = __webpack_require__(102);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_MenuItem_MenuItem___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_material_ui_MenuItem_MenuItem__);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\nvar LocaleSelector = function (_Component) {\n    _inherits(LocaleSelector, _Component);\n\n    function LocaleSelector(props, context) {\n        _classCallCheck(this, LocaleSelector);\n\n        var _this = _possibleConstructorReturn(this, (LocaleSelector.__proto__ || Object.getPrototypeOf(LocaleSelector)).call(this, props, context));\n\n        _this.onLocaleChange = function (event, index, locale) {\n            _this.setState({\n                locale: locale\n            });\n\n            _this.props.onChange(locale, event);\n        };\n\n        var i18n = _this.context.d2.i18n;\n        _this.getTranslation = i18n.getTranslation.bind(i18n);\n        return _this;\n    }\n\n    _createClass(LocaleSelector, [{\n        key: 'render',\n        value: function render() {\n            var localeMenuItems = [{ payload: '', text: '' }].concat(this.props.locales).map(function (locale, index) {\n                return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_material_ui_MenuItem_MenuItem___default.a, { key: index, primaryText: locale.name, value: locale.locale });\n            });\n\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                __WEBPACK_IMPORTED_MODULE_2_material_ui_SelectField_SelectField___default.a,\n                _extends({\n                    fullWidth: true\n                }, this.props, {\n                    value: this.state && this.state.locale,\n                    hintText: this.getTranslation('select_locale'),\n                    onChange: this.onLocaleChange\n                }),\n                localeMenuItems\n            );\n        }\n    }]);\n\n    return LocaleSelector;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);\n\nLocaleSelector.propTypes = {\n    value: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string,\n    locales: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.arrayOf(__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.shape({\n        name: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string.isRequired,\n        locale: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string.isRequired\n    })).isRequired,\n    onChange: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func.isRequired\n};\n\nLocaleSelector.contextTypes = {\n    d2: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.object\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (LocaleSelector);\n\n/***/ }),\n\n/***/ 1682:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = getTranslationFormFor;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_TextField_TextField__ = __webpack_require__(54);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_TextField_TextField___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_material_ui_TextField_TextField__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_utilizr_lib_camelCaseToUnderscores__ = __webpack_require__(71);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_utilizr_lib_camelCaseToUnderscores___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_d2_utilizr_lib_camelCaseToUnderscores__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton__ = __webpack_require__(98);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs__ = __webpack_require__(16);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_rxjs__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__i18n_LocaleSelector_component__ = __webpack_require__(1681);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__translationForm_actions__ = __webpack_require__(1683);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__component_helpers_withStateFrom__ = __webpack_require__(215);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__store_Store__ = __webpack_require__(24);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__circular_progress_CircularProgress__ = __webpack_require__(101);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction getTranslationFormData(model) {\n    var translationStore = __WEBPACK_IMPORTED_MODULE_9__store_Store__[\"a\" /* default */].create();\n\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__translationForm_actions__[\"a\" /* getTranslationsForModel */])(model).subscribe(function (translations) {\n        translationStore.setState(translations);\n    });\n\n    return __WEBPACK_IMPORTED_MODULE_5_rxjs__[\"Observable\"].combineLatest(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__translationForm_actions__[\"b\" /* getLocales */])(), translationStore, function () {\n        for (var _len = arguments.length, data = Array(_len), _key = 0; _key < _len; _key++) {\n            data[_key] = arguments[_key];\n        }\n\n        return Object.assign.apply(Object, [{\n            objectToTranslate: model,\n            setTranslations: function setTranslations(translations) {\n                translationStore.setState({\n                    translations: translations\n                });\n            }\n        }].concat(data));\n    });\n}\n\nfunction getTranslationFormFor(model) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8__component_helpers_withStateFrom__[\"a\" /* default */])(getTranslationFormData(model), TranslationForm);\n}\n\nvar TranslationForm = function (_Component) {\n    _inherits(TranslationForm, _Component);\n\n    function TranslationForm(props, context) {\n        _classCallCheck(this, TranslationForm);\n\n        var _this = _possibleConstructorReturn(this, (TranslationForm.__proto__ || Object.getPrototypeOf(TranslationForm)).call(this, props, context));\n\n        _this.state = {\n            loading: true,\n            translations: {},\n            translationValues: {},\n            currentSelectedLocale: ''\n        };\n\n        _this.setCurrentLocale = function (locale) {\n            _this.setState({\n                currentSelectedLocale: locale\n            });\n        };\n\n        _this.setValue = function (property, event) {\n            var newTranslations = [].concat(_this.props.translations);\n            var translation = newTranslations.find(function (t) {\n                return t.locale === _this.state.currentSelectedLocale && t.property.toLowerCase() === __WEBPACK_IMPORTED_MODULE_3_d2_utilizr_lib_camelCaseToUnderscores___default()(property);\n            });\n\n            if (translation) {\n                if (event.target.value) {\n                    translation.value = event.target.value;\n                } else {\n                    // Remove translation from the array\n                    newTranslations = newTranslations.filter(function (t) {\n                        return t !== translation;\n                    });\n                }\n            } else {\n                translation = {\n                    property: __WEBPACK_IMPORTED_MODULE_3_d2_utilizr_lib_camelCaseToUnderscores___default()(property).toUpperCase(),\n                    locale: _this.state.currentSelectedLocale,\n                    value: event.target.value\n                };\n\n                newTranslations.push(translation);\n            }\n\n            _this.props.setTranslations(newTranslations);\n        };\n\n        _this.saveTranslations = function () {\n            __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__translationForm_actions__[\"c\" /* saveTranslations */])(_this.props.objectToTranslate, _this.props.translations).subscribe(_this.props.onTranslationSaved, _this.props.onTranslationError);\n        };\n\n        var i18n = _this.context.d2.i18n;\n        _this.getTranslation = i18n.getTranslation.bind(i18n);\n        return _this;\n    }\n\n    _createClass(TranslationForm, [{\n        key: 'getLoadingdataElement',\n        value: function getLoadingdataElement() {\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                { style: { textAlign: 'center' } },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_10__circular_progress_CircularProgress__[\"a\" /* default */], { mode: 'indeterminate' })\n            );\n        }\n    }, {\n        key: 'renderFieldsToTranslate',\n        value: function renderFieldsToTranslate() {\n            var _this2 = this;\n\n            return this.props.fieldsToTranslate.filter(function (fieldName) {\n                return fieldName;\n            }).map(function (fieldName) {\n                return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'div',\n                    { key: fieldName },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_material_ui_TextField_TextField___default.a, {\n                        floatingLabelText: _this2.getTranslation(__WEBPACK_IMPORTED_MODULE_3_d2_utilizr_lib_camelCaseToUnderscores___default()(fieldName)),\n                        value: _this2.getTranslationValueFor(fieldName),\n                        fullWidth: true,\n                        onChange: _this2.setValue.bind(_this2, fieldName)\n                    }),\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        'div',\n                        null,\n                        _this2.props.objectToTranslate[fieldName]\n                    )\n                );\n            });\n        }\n    }, {\n        key: 'renderForm',\n        value: function renderForm() {\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                null,\n                this.renderFieldsToTranslate(),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton___default.a, {\n                    label: this.getTranslation('save'),\n                    primary: true,\n                    onClick: this.saveTranslations\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton___default.a, {\n                    style: { marginLeft: '1rem' },\n                    label: this.getTranslation('cancel'),\n                    onClick: this.props.onCancel\n                })\n            );\n        }\n    }, {\n        key: 'renderHelpText',\n        value: function renderHelpText() {\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                null,\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'p',\n                    null,\n                    this.getTranslation('select_a_locale_to_enter_translations_for_that_language')\n                )\n            );\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            if (!this.props.locales && !this.props.translations) {\n                return this.getLoadingdataElement();\n            }\n\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                { style: { minHeight: 250 } },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6__i18n_LocaleSelector_component__[\"a\" /* default */], { locales: this.props.locales, onChange: this.setCurrentLocale }),\n                this.state.currentSelectedLocale ? this.renderForm() : this.renderHelpText()\n            );\n        }\n    }, {\n        key: 'getTranslationValueFor',\n        value: function getTranslationValueFor(fieldName) {\n            var _this3 = this;\n\n            var translation = this.props.translations.find(function (t) {\n                return t.locale === _this3.state.currentSelectedLocale && t.property.toLowerCase() === __WEBPACK_IMPORTED_MODULE_3_d2_utilizr_lib_camelCaseToUnderscores___default()(fieldName);\n            });\n\n            if (translation) {\n                return translation.value;\n            }\n        }\n    }]);\n\n    return TranslationForm;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);\n\nTranslationForm.propTypes = {\n    onTranslationSaved: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func.isRequired,\n    onTranslationError: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func.isRequired,\n    objectToTranslate: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.shape({\n        id: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string.isRequired\n    }),\n    fieldsToTranslate: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.arrayOf(__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string)\n};\n\nTranslationForm.defaultProps = {\n    fieldsToTranslate: ['name', 'shortName', 'description']\n};\n\nTranslationForm.contextTypes = {\n    d2: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.object\n};\n\n/* unused harmony default export */ var _unused_webpack_default_export = (TranslationForm);\n\n/***/ }),\n\n/***/ 1683:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = getLocales;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = getTranslationsForModel;\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return saveTranslations; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_d2_lib_d2__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_d2_lib_d2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_d2_lib_d2__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs__ = __webpack_require__(16);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_rxjs__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__action_Action__ = __webpack_require__(41);\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\n\n\n\n\n\nfunction getLocales() {\n    if (!getLocales.localePromise) {\n        getLocales.localePromise = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d2_lib_d2__[\"getInstance\"])().then(function (d2) {\n            var api = d2.Api.getApi();\n\n            return api.get('locales/db');\n        }).then(function (locales) {\n            return {\n                locales: locales\n            };\n        });\n    }\n\n    return __WEBPACK_IMPORTED_MODULE_1_rxjs__[\"Observable\"].fromPromise(getLocales.localePromise);\n}\n\nfunction getModelHref(model) {\n    if (model.href) {\n        return model.href;\n    }\n\n    return model.modelDefinition.apiEndpoint + '/' + model.id;\n}\n\nfunction getTranslationsForModel(model) {\n    return __WEBPACK_IMPORTED_MODULE_1_rxjs__[\"Observable\"].of(model).flatMap(function (model) {\n        var modelDefinition = model.modelDefinition;\n\n        if (!modelDefinition && !modelDefinition.name) {\n            return Promise.reject(new Error('Can not find modelDefinition for ' + model.id));\n        }\n\n        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d2_lib_d2__[\"getInstance\"])().then(function (d2) {\n            var api = d2.Api.getApi();\n\n            return api.get(getModelHref(model) + '/translations');\n        });\n    });\n}\n\nvar saveTranslations = __WEBPACK_IMPORTED_MODULE_2__action_Action__[\"a\" /* default */].create('saveTranslations');\n\nsaveTranslations.subscribe(function (_ref) {\n    var _ref$data = _slicedToArray(_ref.data, 2),\n        model = _ref$data[0],\n        translations = _ref$data[1],\n        complete = _ref.complete,\n        error = _ref.error;\n\n    var translationHref = getModelHref(model) + '/translations';\n\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_d2_lib_d2__[\"getInstance\"])().then(function (d2) {\n        var api = d2.Api.getApi();\n\n        api.update(translationHref, { translations: translations }, { dataType: 'text' }).then(function () {\n            return complete(translations);\n        }).catch(error);\n    });\n});\n\n/***/ }),\n\n/***/ 1684:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_d2_ui_lib_component_helpers_addD2Context__ = __webpack_require__(34);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_ui_lib_headings_Heading_component__ = __webpack_require__(153);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__List_HelpLink_component__ = __webpack_require__(1654);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__BackButton_component__ = __webpack_require__(1687);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__router_utils__ = __webpack_require__(82);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\n\n\n\n\n\n\n\n\n\nfunction FormHeading(_ref, context) {\n    var level = _ref.level,\n        schema = _ref.schema,\n        children = _ref.children,\n        groupName = _ref.groupName,\n        isDirtyHandler = _ref.isDirtyHandler,\n        props = _objectWithoutProperties(_ref, ['level', 'schema', 'children', 'groupName', 'isDirtyHandler']);\n\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        __WEBPACK_IMPORTED_MODULE_3_d2_ui_lib_headings_Heading_component__[\"a\" /* default */],\n        _extends({}, props, { level: level }),\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5__BackButton_component__[\"a\" /* default */], {\n            onClick: function onClick() {\n                return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__router_utils__[\"a\" /* goToAndScrollUp */])('/list/' + groupName + '/' + schema);\n            },\n            iconStyle: { top: 3 },\n            isDirtyHandler: isDirtyHandler\n        }),\n        context.d2.i18n.getTranslation(children),\n        schema && __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__List_HelpLink_component__[\"a\" /* default */], { schema: schema })\n    );\n}\n\nFormHeading.propTypes = {\n    children: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.oneOfType([__WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string, __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.array]),\n    level: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.number,\n    isDirtyHandler: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func,\n    schema: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string.isRequired,\n    groupName: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.string.isRequired\n};\n\nFormHeading.defaultProps = {\n    isDirtyHandler: function isDirtyHandler() {},\n    level: 2,\n    children: ''\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_d2_ui_lib_component_helpers_addD2Context__[\"a\" /* default */])(FormHeading));\n\n/***/ }),\n\n/***/ 1687:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_IconButton_IconButton__ = __webpack_require__(103);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_IconButton_IconButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_material_ui_IconButton_IconButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_d2_ui_lib_component_helpers_addD2Context__ = __webpack_require__(34);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__EditModel_modelToEditStore__ = __webpack_require__(120);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\n\n\n\n\n\n\nfunction BackButton(props, context) {\n    var tooltip = props.tooltip,\n        onClick = props.onClick,\n        _props$isDirtyHandler = props.isDirtyHandler,\n        isDirtyHandler = _props$isDirtyHandler === undefined ? __WEBPACK_IMPORTED_MODULE_4__EditModel_modelToEditStore__[\"a\" /* default */].getState.bind(__WEBPACK_IMPORTED_MODULE_4__EditModel_modelToEditStore__[\"a\" /* default */]) : _props$isDirtyHandler,\n        otherProps = _objectWithoutProperties(props, ['tooltip', 'onClick', 'isDirtyHandler']);\n\n    var onClickWithConfirm = function onClickWithConfirm() {\n        var isDirty = isDirtyHandler && isDirtyHandler() && isDirtyHandler().dirty;\n\n        if (!isDirty) {\n            onClick.apply(undefined, arguments);\n        } else if (confirm(context.d2.i18n.getTranslation('abandon_unsaved_changes'))) {\n            onClick.apply(undefined, arguments);\n        }\n    };\n\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        __WEBPACK_IMPORTED_MODULE_1_material_ui_IconButton_IconButton___default.a,\n        _extends({\n            tooltip: tooltip || context.d2.i18n.getTranslation('back'),\n            tooltipPosition: 'bottom-right',\n            onClick: onClickWithConfirm\n        }, otherProps, {\n            iconClassName: 'material-icons'\n        }),\n        '\\uE5C4'\n    );\n}\nBackButton.propTypes = {\n    tooltip: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.string\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_d2_ui_lib_component_helpers_addD2Context__[\"a\" /* default */])(BackButton));\n\n/***/ }),\n\n/***/ 1776:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_d2_ui_lib_headings_Heading_component__ = __webpack_require__(153);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\n\n\n\nvar defaultStyle = {\n    fontSize: '1.25rem',\n    paddingTop: '.5rem',\n    fontWeight: 100\n};\n\nfunction FormSubHeading(_ref) {\n    var level = _ref.level,\n        children = _ref.children,\n        props = _objectWithoutProperties(_ref, ['level', 'children']);\n\n    var style = Object.assign({}, defaultStyle, props.style);\n\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        __WEBPACK_IMPORTED_MODULE_1_d2_ui_lib_headings_Heading_component__[\"a\" /* default */],\n        _extends({}, props, { style: style, level: level || 3 }),\n        children\n    );\n}\nFormSubHeading.propTypes = {\n    children: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.string,\n    level: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.number\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (FormSubHeading);\n\n/***/ }),\n\n/***/ 1779:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = LoadingMask;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_prop_types__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__circular_progress_CircularProgress__ = __webpack_require__(101);\n\n\n\n\nvar loadingStatusMask = {\n    left: '45%',\n    position: 'fixed',\n    top: '45%'\n};\n\nfunction LoadingMask(_ref) {\n    var _ref$style = _ref.style,\n        style = _ref$style === undefined ? {} : _ref$style,\n        _ref$large = _ref.large,\n        large = _ref$large === undefined ? false : _ref$large,\n        _ref$small = _ref.small,\n        small = _ref$small === undefined ? false : _ref$small;\n\n    return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(\n        'div',\n        { style: Object.assign({}, loadingStatusMask, style) },\n        __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2__circular_progress_CircularProgress__[\"a\" /* default */], { large: large, small: small })\n    );\n}\n\nLoadingMask.propTypes = {\n    style: __WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.object,\n    large: __WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.bool,\n    small: __WEBPACK_IMPORTED_MODULE_0_prop_types___default.a.bool\n};\n\n/***/ }),\n\n/***/ 2198:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_loglevel__ = __webpack_require__(20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_loglevel___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_loglevel__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_Dialog_Dialog__ = __webpack_require__(338);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_Dialog_Dialog___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_material_ui_Dialog_Dialog__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_FlatButton_FlatButton__ = __webpack_require__(83);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_FlatButton_FlatButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_material_ui_FlatButton_FlatButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton__ = __webpack_require__(98);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_material_ui_Checkbox_Checkbox__ = __webpack_require__(358);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_material_ui_Checkbox_Checkbox___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_material_ui_Checkbox_Checkbox__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__forms_form_fields_drop_down__ = __webpack_require__(47);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__Snackbar_snack_actions__ = __webpack_require__(62);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__modelToEditStore__ = __webpack_require__(120);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar styles = {\n    dialogContent: {\n        maxWidth: 'none'\n    },\n    dialogDiv: {\n        overflowX: 'auto',\n        overflowY: 'hidden'\n    },\n    table: {\n        borderSpacing: 0,\n        borderCollapse: 'collapse',\n        margin: '32px auto'\n    },\n    th: {\n        whiteSpace: 'nowrap',\n        textAlign: 'center',\n        border: '1px solid #e0e0e0',\n        padding: 6\n    },\n    thDataElements: {\n        whiteSpace: 'nowrap',\n        border: '1px solid #e0e0e0',\n        background: '#f0f0f0',\n        textAlign: 'left',\n        padding: 6\n    },\n    td: {\n        whiteSpace: 'nowrap',\n        padding: 2,\n        border: '1px solid #e0e0e0',\n        minWidth: 105\n    },\n    tdDataElement: {\n        whiteSpace: 'nowrap',\n        padding: 6,\n        border: '1px solid #e0e0e0'\n    }\n};\n\nvar GreyFieldDialog = function (_React$Component) {\n    _inherits(GreyFieldDialog, _React$Component);\n\n    function GreyFieldDialog(props, context) {\n        _classCallCheck(this, GreyFieldDialog);\n\n        var _this = _possibleConstructorReturn(this, (GreyFieldDialog.__proto__ || Object.getPrototypeOf(GreyFieldDialog)).call(this, props, context));\n\n        _this.state = {\n            categories: []\n        };\n\n        _this.closeDialog = _this.closeDialog.bind(_this);\n        _this.handleSaveClick = _this.handleSaveClick.bind(_this);\n\n        _this.getTranslation = context.d2.i18n.getTranslation.bind(context.d2.i18n);\n        return _this;\n    }\n\n    _createClass(GreyFieldDialog, [{\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(props) {\n            var _this2 = this;\n\n            var d2 = this.context.d2;\n\n            if (props.sectionModel) {\n                var dataElements = props.sectionModel.dataElements.toArray();\n                if (dataElements.length < 1) {\n                    __WEBPACK_IMPORTED_MODULE_1_loglevel___default.a.info('Section ' + props.sectionModel.displayName + ' contains no data elements');\n                    __WEBPACK_IMPORTED_MODULE_7__Snackbar_snack_actions__[\"a\" /* default */].show({ message: this.getTranslation('this_section_has_no_data_elements'), action: 'ok' });\n                    this.props.onRequestClose();\n                    return;\n                }\n\n                var cocMap = {};\n\n                var categoryArrayToMap = function categoryArrayToMap(categories) {\n                    var appendage = null;\n\n                    var reduceAppendage = function reduceAppendage(prev, categoryOption) {\n                        var out = prev;\n                        out[categoryOption.id] = appendage;\n                        return out;\n                    };\n\n                    while (categories.length > 0) {\n                        appendage = categories.pop().categoryOptions.toArray().reduce(reduceAppendage, {});\n                    }\n                    return appendage;\n                };\n\n                var assignCocs = function assignCocs(cocMap, options, coc) {\n                    if (options.length > 0) {\n                        return Object.keys(cocMap).reduce(function (prev, key) {\n                            var out = prev;\n                            var keyPos = options.indexOf(key);\n                            if (keyPos !== -1) {\n                                options.splice(keyPos, 1);\n                                out[key] = assignCocs(cocMap[key], options, coc);\n                                return out;\n                            }\n                            out[key] = cocMap[key];\n                            return out;\n                        }, {});\n                    }\n                    return coc;\n                };\n\n                // Use the categoryCombos associated with the section to get categories and their category options\n                d2.models.categoryCombos.list({\n                    filter: 'id:in:[' + props.sectionModel.categoryCombos.toArray().map(function (coc) {\n                        return coc.id;\n                    }) + ']',\n                    paging: false,\n                    fields: ['id,displayName', 'categories[id,displayName,categoryOptions[id,displayName]]', 'categoryOptionCombos[id,displayName', 'categoryOptions[id,displayName]]'].join(',')\n                }).then(function (categoryCombos) {\n                    categoryCombos.forEach(function (categoryCombo) {\n                        // Build a nested map of categories:\n                        // { cat1_opt1 : { cat2_opt1: { cat3_opt1: null, cat3_opt2: null }, cat2_opt2: {...}, ... }, ... }\n                        //\n                        // Then convert to JSON and back as a fast way to remove any references within the structure\n                        Object.assign(cocMap, JSON.parse(JSON.stringify(categoryArrayToMap(categoryCombo.categories.toArray()))));\n\n                        // Fill in the leaf nodes in the cocMap with the actual coc's\n                        categoryCombo.categoryOptionCombos.toArray().forEach(function (coc) {\n                            var optionPath = coc.categoryOptions.toArray().map(function (o) {\n                                return o.id;\n                            });\n                            cocMap = assignCocs(cocMap, optionPath, { id: coc.id, displayName: coc.displayName });\n                        });\n                    });\n\n                    var greyedFields = props.sectionModel.greyedFields.reduce(function (prev, gf) {\n                        if (prev.hasOwnProperty(gf.dataElement.id)) {\n                            prev[gf.dataElement.id].push(gf.categoryOptionCombo.id);\n                            return prev;\n                        }\n\n                        var out = prev;\n                        out[gf.dataElement.id] = [gf.categoryOptionCombo.id];\n                        return out;\n                    }, {});\n\n                    _this2.setState({\n                        currentCategoryCombo: categoryCombos.toArray()[0].id,\n                        categoryCombos: categoryCombos,\n                        optionCount: categoryCombos.toArray().reduce(function (oc, cc) {\n                            oc[cc.id] = cc.categories.toArray().map(function (c) {\n                                return c.categoryOptions.size;\n                            });\n                            return oc;\n                        }, {}),\n                        cocMap: cocMap,\n                        greyedFields: greyedFields\n                    });\n                });\n            }\n        }\n    }, {\n        key: 'closeDialog',\n        value: function closeDialog() {\n            this.props.onRequestClose();\n        }\n    }, {\n        key: 'handleSaveClick',\n        value: function handleSaveClick() {\n            var _this3 = this;\n\n            var greyedFields = [];\n            Object.keys(this.state.greyedFields).forEach(function (dataElement) {\n                _this3.state.greyedFields[dataElement].forEach(function (coc) {\n                    greyedFields.push({\n                        dataElement: { id: dataElement },\n                        categoryOptionCombo: { id: coc }\n                    });\n                });\n            });\n\n            var section = Object.assign(this.props.sectionModel, { greyedFields: greyedFields });\n\n            section.save().then(function (res) {\n                __WEBPACK_IMPORTED_MODULE_1_loglevel___default.a.info('Section updated', res);\n                __WEBPACK_IMPORTED_MODULE_7__Snackbar_snack_actions__[\"a\" /* default */].show({ message: _this3.getTranslation('section_saved') });\n                _this3.props.onRequestSave(section);\n            }).catch(function (err) {\n                __WEBPACK_IMPORTED_MODULE_1_loglevel___default.a.error('Failed to save section:', err);\n                __WEBPACK_IMPORTED_MODULE_7__Snackbar_snack_actions__[\"a\" /* default */].show({ message: _this3.getTranslation('failed_to_save_section'), action: 'ok' });\n            });\n        }\n    }, {\n        key: 'renderTableHeader',\n        value: function renderTableHeader() {\n            var _this4 = this;\n\n            var prevRowColCount = 1;\n\n            return this.state.currentCategoryCombo && this.state.categoryCombos.get(this.state.currentCategoryCombo).categories.toArray().map(function (cat, catNum) {\n                var colSpan = _this4.state.optionCount[_this4.state.currentCategoryCombo].slice(catNum + 1).reduce(function (product, optionCount) {\n                    return optionCount * product;\n                }, 1);\n\n                var isLastHeader = catNum === _this4.state.categoryCombos.get(_this4.state.currentCategoryCombo).categories.size - 1;\n                var row = __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'tr',\n                    { key: catNum },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        'th',\n                        { style: styles.thDataElements },\n                        isLastHeader && _this4.getTranslation('data_element')\n                    ),\n\n                    // For each column in the previous row...\n                    Array.apply(undefined, _toConsumableArray(Array(prevRowColCount))).map(function (e, rep) {\n                        return (\n                            // ... render the columns for this row\n                            cat.categoryOptions.toArray().map(function (opt, optNum) {\n                                return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                                    'th',\n                                    {\n                                        key: optNum + '.' + rep,\n                                        colSpan: colSpan,\n                                        style: styles.th\n                                    },\n                                    opt.displayName === 'default' ? '' : opt.displayName\n                                );\n                            })\n                        );\n                    })\n                );\n                prevRowColCount *= cat.categoryOptions.size;\n                return row;\n            });\n        }\n    }, {\n        key: 'renderCheckbox',\n        value: function renderCheckbox(dataElement, fieldArray, fieldNum) {\n            var _this5 = this;\n\n            var resolveCoc = function resolveCoc(cocMap, fields) {\n                if (fields.length === 0) {\n                    return cocMap;\n                }\n\n                var field = fields.shift();\n                return resolveCoc(cocMap[field], fields);\n            };\n\n            var coc = resolveCoc(this.state.cocMap, fieldArray);\n\n            var isGreyed = this.state.greyedFields.hasOwnProperty(dataElement.id) && this.state.greyedFields[dataElement.id].indexOf(coc.id) !== -1;\n\n            var toggleBoggle = function (dataElementId, categoryOptionComboId, event, disable) {\n                _this5.setState(function (state) {\n                    var greyedCocs = (state.greyedFields[dataElementId] || []).slice();\n                    if (disable) {\n                        if (greyedCocs.includes(categoryOptionComboId)) {\n                            greyedCocs.splice(greyedCocs.indexOf(categoryOptionComboId), 1);\n                        }\n                    } else if (!greyedCocs.includes(categoryOptionComboId)) {\n                        greyedCocs.push(categoryOptionComboId);\n                    }\n\n                    var greyedFields = Object.keys(state.greyedFields).reduce(function (prev, deId) {\n                        var out = prev;\n                        out[deId] = deId === dataElementId ? greyedCocs : state.greyedFields[deId];\n                        return out;\n                    }, {});\n\n                    if (greyedCocs.length > 0 && !greyedFields.hasOwnProperty(dataElementId)) {\n                        greyedFields[dataElementId] = greyedCocs;\n                    }\n\n                    return { greyedFields: greyedFields };\n                });\n            }.bind(this, dataElement.id, coc.id);\n\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'td',\n                { key: fieldNum, style: styles.td },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_material_ui_Checkbox_Checkbox___default.a, {\n                    checked: !isGreyed,\n                    label: isGreyed ? this.getTranslation('disabled') : this.getTranslation('enabled'),\n                    labelPosition: 'right',\n                    labelStyle: { whiteSpace: 'nowrap' },\n                    onCheck: toggleBoggle\n                })\n            );\n        }\n    }, {\n        key: 'renderDataElements',\n        value: function renderDataElements() {\n            var _this6 = this;\n\n            var getCocFields = function getCocFields() {\n                return _this6.state.categoryCombos.get(_this6.state.currentCategoryCombo).categories.toArray().reduce(function (prev, cat) {\n                    if (prev.length > 0) {\n                        var out = [];\n                        prev.forEach(function (p) {\n                            cat.categoryOptions.toArray().forEach(function (opt) {\n                                var pout = p.slice();\n                                pout.push(opt.id);\n                                out.push(pout);\n                            });\n                        });\n                        return out;\n                    }\n\n                    cat.categoryOptions.toArray().forEach(function (opt) {\n                        prev.push([opt.id]);\n                    });\n                    return prev;\n                }, []);\n            };\n\n            var currentSectionDataElementIds = this.props.sectionModel.dataElements.toArray().map(function (de) {\n                return de.id;\n            });\n            return this.state.currentCategoryCombo ? __WEBPACK_IMPORTED_MODULE_8__modelToEditStore__[\"a\" /* default */].state.dataSetElements.filter(function (dse) {\n                return currentSectionDataElementIds.includes(dse.dataElement.id);\n            }).filter(function (dse) {\n                return (dse.categoryCombo ? dse.categoryCombo.id : dse.dataElement.categoryCombo.id) === _this6.state.currentCategoryCombo;\n            }).sort(function (a, b) {\n                return currentSectionDataElementIds.indexOf(a.dataElement.id) - currentSectionDataElementIds.indexOf(b.dataElement.id);\n            }).map(function (dse, deNum) {\n                var cocFields = getCocFields();\n                return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'tr',\n                    { key: deNum, style: { background: deNum % 2 === 0 ? 'none' : '#f0f0f0' } },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        'td',\n                        { style: styles.tdDataElement },\n                        dse.dataElement.displayName\n                    ),\n                    cocFields.map(function (fields, fieldNum) {\n                        return _this6.renderCheckbox(dse.dataElement, fields, fieldNum);\n                    })\n                );\n            }) : null;\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this7 = this;\n\n            var title = this.props.sectionModel.displayName;\n\n            var _props = this.props,\n                open = _props.open,\n                extraProps = _objectWithoutProperties(_props, ['open']);\n\n            var uniqueCatComboIds = [],\n                sectionDataElementIds = [],\n                categoryCombosForSection = [];\n\n            if (this.props.sectionModel) {\n                // Get data element ids for the current section\n                sectionDataElementIds = this.props.sectionModel.dataElements.toArray().map(function (de) {\n                    return de.id;\n                });\n\n                // Get unique cat combos for data elements in current section\n                categoryCombosForSection = __WEBPACK_IMPORTED_MODULE_8__modelToEditStore__[\"a\" /* default */].state.dataSetElements.filter(function (dse) {\n                    return sectionDataElementIds.includes(dse.dataElement.id);\n                }).map(function (dse) {\n                    return dse.categoryCombo || dse.dataElement.categoryCombo;\n                }).reduce(function (catCombos, catCombo) {\n                    if (!uniqueCatComboIds.includes(catCombo.id)) {\n                        uniqueCatComboIds.push(catCombo.id);\n                        catCombos.push(catCombo);\n                    }\n                    return catCombos;\n                }, []).sort(function (a, b) {\n                    return a.displayName.localeCompare(b.displayName);\n                });\n            }\n\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                __WEBPACK_IMPORTED_MODULE_2_material_ui_Dialog_Dialog___default.a,\n                _extends({\n                    autoScrollBodyContent: true,\n                    autoDetectWindowHeight: true,\n                    title: this.getTranslation('manage_grey_fields') + ': ' + title,\n                    style: { maxWidth: 'none' },\n                    contentStyle: styles.dialogContent,\n                    open: open && this.props.sectionModel.dataElements.size > 0\n                }, extraProps, {\n                    actions: [__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_material_ui_FlatButton_FlatButton___default.a, {\n                        label: this.getTranslation('cancel'),\n                        onTouchTap: this.closeDialog,\n                        style: { marginRight: 16 }\n                    }), __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton___default.a, {\n                        primary: true,\n                        label: this.getTranslation('save'),\n                        onTouchTap: this.handleSaveClick\n                    })],\n                    onRequestClose: this.closeDialog\n                }),\n                this.props.sectionModel && this.props.sectionModel.categoryCombos && this.props.sectionModel.categoryCombos.size > 1 ? __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6__forms_form_fields_drop_down__[\"a\" /* default */], {\n                    options: categoryCombosForSection.map(function (cc) {\n                        return {\n                            value: cc.id,\n                            text: cc.displayName === 'default' ? _this7.getTranslation('none') : cc.displayName\n                        };\n                    }),\n                    labelText: this.getTranslation('category_combo'),\n                    value: this.state.currentCategoryCombo,\n                    onChange: function onChange(e) {\n                        return _this7.setState({\n                            currentCategoryCombo: e.target.value\n                        });\n                    },\n                    style: { width: '33%' },\n                    isRequired: true\n                }) : null,\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'div',\n                    { style: styles.dialogDiv },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        'table',\n                        { style: styles.table },\n                        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                            'tbody',\n                            null,\n                            this.renderTableHeader(),\n                            this.state.currentCategoryCombo && this.props.sectionModel && this.renderDataElements()\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n\n    return GreyFieldDialog;\n}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Component);\n\nGreyFieldDialog.contextTypes = { d2: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.any.isRequired };\nGreyFieldDialog.propTypes = {\n    open: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.bool.isRequired,\n    sectionModel: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.any.isRequired,\n    onRequestClose: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func.isRequired,\n    onRequestSave: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func.isRequired\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (GreyFieldDialog);\n\n/***/ }),\n\n/***/ 2199:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_loglevel__ = __webpack_require__(20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_loglevel___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_loglevel__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_Dialog_Dialog__ = __webpack_require__(338);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_Dialog_Dialog___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_material_ui_Dialog_Dialog__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_FlatButton_FlatButton__ = __webpack_require__(83);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_FlatButton_FlatButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_material_ui_FlatButton_FlatButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton__ = __webpack_require__(98);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField__ = __webpack_require__(54);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_d2_ui_lib_group_editor_GroupEditorWithOrdering_component__ = __webpack_require__(361);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_d2_ui_lib_store_Store__ = __webpack_require__(24);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_material_ui_Checkbox__ = __webpack_require__(166);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_material_ui_Checkbox___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_material_ui_Checkbox__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__forms_form_fields_drop_down__ = __webpack_require__(47);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__ = __webpack_require__(62);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__ = __webpack_require__(120);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar dataElementStore = __WEBPACK_IMPORTED_MODULE_7_d2_ui_lib_store_Store__[\"a\" /* default */].create();\nvar assignedDataElementStore = __WEBPACK_IMPORTED_MODULE_7_d2_ui_lib_store_Store__[\"a\" /* default */].create();\nvar indicatorStore = __WEBPACK_IMPORTED_MODULE_7_d2_ui_lib_store_Store__[\"a\" /* default */].create();\nvar assignedIndicatorStore = __WEBPACK_IMPORTED_MODULE_7_d2_ui_lib_store_Store__[\"a\" /* default */].create();\n\nvar SectionDialog = function (_React$Component) {\n    _inherits(SectionDialog, _React$Component);\n\n    function SectionDialog(props, context) {\n        _classCallCheck(this, SectionDialog);\n\n        var _this = _possibleConstructorReturn(this, (SectionDialog.__proto__ || Object.getPrototypeOf(SectionDialog)).call(this, props, context));\n\n        _this.setAssignedDataElements = function (dataElements) {\n            assignedDataElementStore.setState(dataElements);\n        };\n\n        _this.setAssignedIndicators = function (indicators) {\n            assignedIndicatorStore.setState(indicators);\n        };\n\n        _this.removeIndicators = function (indicators) {\n            assignedIndicatorStore.setState(assignedIndicatorStore.state.filter(function (i) {\n                return indicators.indexOf(i) === -1;\n            }));\n            return Promise.resolve();\n        };\n\n        _this.assignIndicators = function (indicators) {\n            assignedIndicatorStore.setState(assignedIndicatorStore.state.concat(indicators));\n            return Promise.resolve();\n        };\n\n        _this.handleRowTotalsChange = function (e, value) {\n            _this.setState({ showRowTotals: value });\n        };\n\n        _this.handleColumnTotalsChange = function (e, value) {\n            _this.setState({ showColumnTotals: value });\n        };\n\n        _this.handleFilterChange = function (e) {\n            _this.setState({ filterText: e.target.value });\n        };\n\n        _this.handleNameChange = function (e) {\n            var sectionArray = Array.isArray(__WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].getState().sections) ? __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].getState().sections : __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].getState().sections.toArray();\n            var nameDupe = sectionArray.filter(function (s) {\n                return s.id !== _this.props.sectionModel.id;\n            }).reduce(function (res, s) {\n                return res || s.name === e.target.value;\n            }, false);\n\n            _this.setState({ name: e.target.value, nameError: nameDupe ? _this.getTranslation('value_not_unique') : '' });\n        };\n\n        _this.handleCodeChange = function (e) {\n            var sectionArray = Array.isArray(__WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].getState().sections) ? __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].getState().sections : __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].getState().sections.toArray();\n            var codeDupe = sectionArray.filter(function (s) {\n                return s.id !== _this.props.sectionModel.id;\n            }).reduce(function (res, s) {\n                return res || s.code && s.code === e.target.value;\n            }, false);\n\n            _this.setState({ code: e.target.value, codeError: codeDupe ? _this.getTranslation('value_not_unique') : '' });\n        };\n\n        _this.handleDescriptionChange = function (e) {\n            _this.setState({ description: e.target.value });\n        };\n\n        _this.assignDataElements = function (dataElements) {\n            assignedDataElementStore.setState(assignedDataElementStore.state.concat(dataElements));\n            return Promise.resolve();\n        };\n\n        _this.removeDataElements = function (dataElements) {\n            assignedDataElementStore.setState(assignedDataElementStore.state.filter(function (de) {\n                return dataElements.indexOf(de) === -1;\n            }));\n            return Promise.resolve();\n        };\n\n        _this.handleCategoryComboChange = function (event) {\n            var categoryComboId = event.target.value;\n\n            if (__WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].state.dataSetElements) {\n                dataElementStore.setState(__WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].state.dataSetElements.filter(function (dse) {\n                    if (categoryComboId) {\n                        return dse.categoryCombo ? dse.categoryCombo.id === categoryComboId : dse.dataElement.categoryCombo.id === categoryComboId;\n                    }\n                    return true;\n                }).filter(function (dse) {\n                    return _this.state.filterDataElementIds ? !_this.state.filterDataElementIds.includes(dse.dataElement.id) : true;\n                }).map(function (dse) {\n                    return { value: dse.dataElement.id, text: dse.dataElement.displayName };\n                }).sort(function (a, b) {\n                    return a.text.localeCompare(b.text);\n                }));\n            }\n\n            _this.setState({\n                categoryCombo: categoryComboId\n            });\n        };\n\n        _this.saveSection = function () {\n            if (!_this.state.name || _this.state.name.trim().length === 0) {\n                __WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__[\"a\" /* default */].show({\n                    message: _this.getTranslation('name_is_required'),\n                    action: _this.getTranslation('ok')\n                });\n                return;\n            }\n\n            var sectionModel = _this.props.sectionModel.id ? _this.props.sectionModel : _this.props.sectionModel.modelDefinition.create();\n            Object.assign(sectionModel, {\n                dataSet: { id: __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].state.id },\n                name: _this.state.name,\n                code: _this.state.code,\n                description: _this.state.description,\n                showRowTotals: _this.state.showRowTotals,\n                showColumnTotals: _this.state.showColumnTotals,\n                dataElements: assignedDataElementStore.state.map(function (de) {\n                    return { id: de };\n                }),\n                indicators: assignedIndicatorStore.state.map(function (i) {\n                    return { id: i };\n                }),\n                sortOrder: _this.props.sectionModel.sortOrder || __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].state.sections.toArray().reduce(function (prev, s) {\n                    return Math.max(prev, s.sortOrder + 1);\n                }, 0)\n            });\n            sectionModel.save().then(function (res) {\n                __WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__[\"a\" /* default */].show({ message: _this.getTranslation('section_saved') });\n                _this.context.d2.models.sections.get(res.response.uid, {\n                    fields: [':all,dataElements[id,categoryCombo[id,displayName]]', 'greyedFields[categoryOptionCombo,dataElement]'].join(',')\n                }).then(function (section) {\n                    _this.props.onSaveSection(section);\n                });\n            }).catch(function (err) {\n                __WEBPACK_IMPORTED_MODULE_1_loglevel___default.a.warn('Failed to save section:', err);\n                __WEBPACK_IMPORTED_MODULE_10__Snackbar_snack_actions__[\"a\" /* default */].show({\n                    message: _this.getTranslation('failed_to_save_section'),\n                    action: _this.getTranslation('ok')\n                });\n            });\n        };\n\n        _this.renderFilters = function () {\n            var catCombos = [{ value: false, text: _this.getTranslation('no_filter') }].concat(_this.props.categoryCombos.sort(function (a, b) {\n                return a.text.localeCompare(b.text);\n            }));\n\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                { style: { minWidth: 605 } },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_9__forms_form_fields_drop_down__[\"a\" /* default */], {\n                    options: catCombos,\n                    labelText: _this.getTranslation('category_combo_filter'),\n                    onChange: _this.handleCategoryComboChange,\n                    value: _this.state.categoryCombo,\n                    isRequired: true,\n                    disabled: _this.props.categoryCombos.length === 1,\n                    style: { width: 284 }\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField___default.a, {\n                    fullWidth: true,\n                    hintText: _this.getTranslation('search_available_selected_items'),\n                    defaultValue: _this.state.filterText,\n                    onChange: _this.handleFilterChange\n                })\n            );\n        };\n\n        _this.renderAvailableOptions = function () {\n            var labelStyle = {\n                position: 'relative',\n                display: 'block',\n                width: '100%',\n                lineHeight: '24px',\n                color: 'rgba(0,0,0,0.3)',\n                marginTop: '1.25rem',\n                fontSize: 16\n            };\n\n            var editorStyle = {\n                marginBottom: 80\n            };\n\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                null,\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField___default.a, {\n                    fullWidth: true,\n                    hintText: _this.getTranslation('filter'),\n                    defaultValue: _this.state.filterText,\n                    onChange: _this.handleFilterChange\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'div',\n                    { style: editorStyle },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        'label',\n                        { style: labelStyle },\n                        _this.getTranslation('data_elements')\n                    ),\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6_d2_ui_lib_group_editor_GroupEditorWithOrdering_component__[\"a\" /* default */], {\n                        itemStore: dataElementStore,\n                        assignedItemStore: assignedDataElementStore,\n                        onAssignItems: _this.assignDataElements,\n                        onRemoveItems: _this.removeDataElements,\n                        onOrderChanged: _this.setAssignedDataElements,\n                        height: 250,\n                        filterText: _this.state.filterText\n                    })\n                ),\n                indicatorStore.state.length ? __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'div',\n                    { style: editorStyle },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        'label',\n                        { style: labelStyle },\n                        _this.getTranslation('indicators')\n                    ),\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6_d2_ui_lib_group_editor_GroupEditorWithOrdering_component__[\"a\" /* default */], {\n                        itemStore: indicatorStore,\n                        assignedItemStore: assignedIndicatorStore,\n                        onAssignItems: _this.assignIndicators,\n                        onRemoveItems: _this.removeIndicators,\n                        onOrderChanged: _this.setAssignedIndicators,\n                        height: 250,\n                        filterText: _this.state.filterText\n                    })\n                ) : null\n            );\n        };\n\n        _this.state = {\n            categoryCombo: false\n        };\n        dataElementStore.setState([]);\n        assignedDataElementStore.setState([]);\n        indicatorStore.setState([]);\n        assignedIndicatorStore.setState([]);\n\n        _this.getTranslation = context.d2.i18n.getTranslation.bind(context.d2.i18n);\n        return _this;\n    }\n\n    _createClass(SectionDialog, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var _this2 = this;\n\n            this.subscriptions = [];\n            this.subscriptions.push(assignedDataElementStore.subscribe(function () {\n                _this2.forceUpdate();\n            }));\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(props) {\n            var _this3 = this;\n\n            if (props.sectionModel) {\n                var currentSectionId = props.sectionModel.id;\n                var sections = __WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].state.sections;\n                var sectionArray = Array.isArray(sections) ? sections : sections.toArray();\n                var otherSections = sectionArray.filter(function (s) {\n                    return s.id !== currentSectionId;\n                });\n                var filterDataElementIds = otherSections.reduce(function (elements, section) {\n                    return elements.concat((Array.isArray(section.dataElements) ? section.dataElements : section.dataElements.toArray()).map(function (de) {\n                        return de.id;\n                    }));\n                }, []);\n\n                // Default category combo filter = no filter\n                var categoryComboId = false;\n\n                assignedDataElementStore.setState(props.sectionModel.dataElements ? props.sectionModel.dataElements.toArray().map(function (de) {\n                    return de.id;\n                }) : []);\n\n                indicatorStore.setState(__WEBPACK_IMPORTED_MODULE_11__modelToEditStore__[\"a\" /* default */].state.indicators.toArray().map(function (i) {\n                    return { value: i.id, text: i.displayName };\n                }).sort(function (a, b) {\n                    return a.text.localeCompare(b.text);\n                }));\n                assignedIndicatorStore.setState(props.sectionModel.indicators ? props.sectionModel.indicators.toArray().map(function (i) {\n                    return i.id;\n                }) : []);\n\n                this.setState({\n                    name: props.sectionModel.name,\n                    code: props.sectionModel.code,\n                    nameError: '',\n                    codeError: '',\n                    description: props.sectionModel.description,\n                    showRowTotals: props.sectionModel.showRowTotals,\n                    showColumnTotals: props.sectionModel.showColumnTotals,\n                    filterText: '',\n                    filterDataElementIds: filterDataElementIds\n                }, function () {\n                    _this3.handleCategoryComboChange({ target: { value: categoryComboId } });\n                    _this3.forceUpdate();\n                });\n            }\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            this.subscriptions.forEach(function (disposable) {\n                return disposable.unsubscribe();\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this4 = this;\n\n            var title = this.getTranslation('add_section');\n            var sectionIdDiv = null;\n\n            if (this.props.sectionModel.id) {\n                title = this.getTranslation('edit_section');\n                sectionIdDiv = __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'div',\n                    { style: { float: 'left', padding: 8, color: 'rgba(0,0,0,0.5)' } },\n                    this.getTranslation('section_id'),\n                    ':',\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        'span',\n                        { style: { fontFamily: 'monospace' } },\n                        this.props.sectionModel.id\n                    )\n                );\n            }\n\n            var validateName = function validateName(e) {\n                _this4.setState({ nameError: e.target.value.trim().length > 0 ? '' : _this4.getTranslation('value_required') });\n            };\n\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                __WEBPACK_IMPORTED_MODULE_2_material_ui_Dialog_Dialog___default.a,\n                _extends({\n                    autoScrollBodyContent: true,\n                    title: title,\n                    actions: [sectionIdDiv, __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_material_ui_FlatButton_FlatButton___default.a, {\n                        label: this.getTranslation('cancel'),\n                        onTouchTap: this.props.onRequestClose,\n                        style: { marginRight: 24 }\n                    }), __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton___default.a, {\n                        primary: true,\n                        label: this.getTranslation('save'),\n                        onTouchTap: this.saveSection\n                    })]\n                }, this.props),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField___default.a, {\n                    floatingLabelText: this.getTranslation('name') + ' *',\n                    value: this.state.name || '',\n                    style: { width: '100%' },\n                    onChange: this.handleNameChange,\n                    errorText: this.state.nameError,\n                    onBlur: validateName\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField___default.a, {\n                    floatingLabelText: this.getTranslation('code'),\n                    value: this.state.code || '',\n                    style: { width: '100%' },\n                    onChange: this.handleCodeChange,\n                    errorText: this.state.codeError\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField___default.a, {\n                    floatingLabelText: this.getTranslation('description'),\n                    value: this.state.description || '',\n                    style: { width: '100%' },\n                    multiLine: true,\n                    onChange: this.handleDescriptionChange\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8_material_ui_Checkbox___default.a, {\n                    label: this.getTranslation('show_row_totals'),\n                    checked: this.state.showRowTotals,\n                    style: { margin: '16px 0' },\n                    onCheck: this.handleRowTotalsChange\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8_material_ui_Checkbox___default.a, {\n                    label: this.getTranslation('show_column_totals'),\n                    checked: this.state.showColumnTotals,\n                    style: { margin: '16px 0' },\n                    onCheck: this.handleColumnTotalsChange\n                }),\n                this.renderFilters(),\n                this.renderAvailableOptions()\n            );\n        }\n    }]);\n\n    return SectionDialog;\n}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Component);\n\nSectionDialog.propTypes = {\n    open: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.bool.isRequired,\n    sectionModel: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.any.isRequired,\n    categoryCombos: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.array.isRequired,\n    onRequestClose: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func.isRequired,\n    onSaveSection: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func.isRequired\n};\nSectionDialog.contextTypes = {\n    d2: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.any.isRequired\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (SectionDialog);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 7-d3b981caa3eb21697c96.js","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport log from 'loglevel';\n\nimport TranslationDialog from 'd2-ui/lib/i18n/TranslationDialog.component';\nimport LoadingMask from 'd2-ui/lib/loading-mask/LoadingMask.component';\n\nimport DataTable from 'd2-ui/lib/data-table/DataTable.component';\nimport FloatingActionButton from 'material-ui/FloatingActionButton/FloatingActionButton';\nimport FontIcon from 'material-ui/FontIcon/FontIcon';\n\nimport SectionDialog from './SectionDialog.component';\nimport GreyFieldDialog from './GreyFieldDialog.component';\n\nimport snackActions from '../Snackbar/snack.actions';\nimport modelToEditStore from './modelToEditStore';\nimport FormHeading from './FormHeading';\nimport FormSubHeading from './FormSubHeading';\n\nconst styles = {\n    heading: {\n        paddingBottom: 18,\n    },\n    fab: {\n        textAlign: 'right',\n        marginTop: '1rem',\n        bottom: '1.5rem',\n        right: '1.5rem',\n        position: 'fixed',\n        zIndex: 10,\n    },\n};\n\nclass EditDataSetSections extends Component {\n    constructor(props, context) {\n        super(props, context);\n\n        this.state = {\n            categoryCombos: null,\n            editSectionModel: false,\n            greyFieldSectionModel: false,\n        };\n\n        Promise.all([\n            context.d2.Api.getApi().get(\n                ['dataSets', props.params.modelId, 'categoryCombos'].join('/'),\n                { fields: 'id,displayName', paging: false },\n            ),\n        ]).then(([catComboList]) => {\n            const sections = modelToEditStore.state.sections;\n            const sectionArray = Array.isArray(sections) ? sections : sections.toArray();\n            this.setState({\n                sections: sectionArray.sort((a, b) => a.sortOrder - b.sortOrder),\n                categoryCombos: catComboList.categoryCombos.map(cc => ({\n                    value: cc.id,\n                    text: cc.displayName === 'default' ? this.getTranslation('none') : cc.displayName,\n                })),\n            });\n        });\n\n        this.handleAddSectionClick = this.handleAddSectionClick.bind(this);\n        this.handleEditSectionClick = this.handleEditSectionClick.bind(this);\n        this.handleSectionSaved = this.handleSectionSaved.bind(this);\n\n        this.handleDeleteSectionClick = this.handleDeleteSectionClick.bind(this);\n        this.handleTranslateSectionClick = this.handleTranslateSectionClick.bind(this);\n        this.handleTranslationSaved = this.handleTranslationSaved.bind(this);\n        this.handleTranslationErrored = this.handleTranslationErrored.bind(this);\n\n        this.handleSectionGreyFieldsClick = this.handleSectionGreyFieldsClick.bind(this);\n\n        this.swapSections = this.swapSections.bind(this);\n        this.moveSectionUp = this.moveSectionUp.bind(this);\n        this.moveSectionDown = this.moveSectionDown.bind(this);\n\n        this.getTranslation = context.d2.i18n.getTranslation.bind(context.d2.i18n);\n    }\n\n    handleAddSectionClick() {\n        const newSection = this.context.d2.models.sections.create();\n        this.setState(state => ({\n            editSectionModel: Object.assign(newSection, {\n                dataSet: { id: modelToEditStore.state.id },\n                sortOrder: state.sections.reduce((p, s) => Math.max(s.sortOrder, p), 0) + 1,\n            }),\n        }));\n    }\n\n    handleEditSectionClick(editSectionModel) {\n        this.setState({ editSectionModel });\n    }\n\n    handleSectionSaved(savedSection) {\n        this.setState((state) => {\n            let replaced = false;\n            const sections = state.sections\n                .map((s) => {\n                    if (s.id === savedSection.id) {\n                        replaced = true;\n                        return savedSection;\n                    }\n                    return s;\n                })\n                .sort((a, b) => a.sortOrder - b.sortOrder);\n            if (!replaced) {\n                sections.push(savedSection);\n            }\n\n            modelToEditStore.setState(Object.assign(modelToEditStore.state, { sections }));\n            return {\n                editSectionModel: false,\n                greyFieldSectionModel: false,\n                sections,\n            };\n        }, () => {\n            this.forceUpdate();\n        });\n    }\n\n    handleDeleteSectionClick(section) {\n        snackActions.show({\n            message: `${this.getTranslation('confirm_delete_section')} ${section.displayName}`,\n            action: 'confirm',\n            onActionTouchTap: () => {\n                section.delete()\n                    .then(() => {\n                        const newSections = modelToEditStore.state.sections;\n                        modelToEditStore.setState(Object.assign(modelToEditStore.state, {\n                            sections: (Array.isArray(newSections)\n                                ? newSections\n                                : newSections.toArray()).filter(s => s.id !== section.id),\n                        }));\n\n                        snackActions.show({ message: this.getTranslation('section_deleted') });\n                        this.setState(state => ({\n                            sections: state.sections.filter(s => s.id !== section.id),\n                        }));\n                    })\n                    .catch((err) => {\n                        snackActions.show({ message: this.getTranslation('failed_to_delete_section'), action: 'ok' });\n                        log.warn('Failed to delete section', err);\n                    });\n            },\n        });\n    }\n\n    handleTranslateSectionClick(section) {\n        this.setState({\n            translationModel: section,\n        });\n    }\n\n    handleTranslationSaved = () => {\n        snackActions.show({ message: 'translation_saved', translate: true });\n    }\n\n    handleTranslationErrored = (errorMessage) => {\n        log.error(errorMessage);\n        snackActions.show({ message: 'translation_save_error', action: 'ok', translate: true });\n    }\n\n    handleSectionGreyFieldsClick(section) {\n        this.setState({ greyFieldSectionModel: section });\n    }\n\n    swapSections(sectionA, sectionB) {\n        this.setState((state) => {\n            const swapOrder = sectionA.sortOrder;\n            sectionA.sortOrder = sectionB.sortOrder; // eslint-disable-line\n            sectionB.sortOrder = swapOrder; // eslint-disable-line\n\n            Promise.all([\n                sectionA.save(),\n                sectionB.save(),\n            ])\n                .then(() => {\n                    snackActions.show({ message: this.getTranslation('section_moved') });\n                })\n                .catch((err) => {\n                    log.warn('Failed to swap sections:', err);\n                    snackActions.show({ message: this.getTranslation('failed_to_move_section'), action: 'ok' });\n                });\n\n            return {\n                sections: state.sections.sort((a, b) => a.sortOrder - b.sortOrder),\n            };\n        });\n    }\n\n    moveSectionUp(section) {\n        const currentIndex = this.state.sections.indexOf(section);\n        if (currentIndex > 0) {\n            const swapSection = this.state.sections[currentIndex - 1];\n            this.swapSections(swapSection, section);\n        }\n    }\n\n    moveSectionDown(section) {\n        const currentIndex = this.state.sections.indexOf(section);\n        if (currentIndex < this.state.sections.length - 1) {\n            const swapSection = this.state.sections[currentIndex + 1];\n            this.swapSections(swapSection, section);\n        }\n    }\n\n    render() {\n        const contextActions = {\n            edit: this.handleEditSectionClick,\n            delete: this.handleDeleteSectionClick,\n            translate: this.handleTranslateSectionClick,\n            manage_grey_fields: this.handleSectionGreyFieldsClick,\n            move_up: this.moveSectionUp,\n            move_down: this.moveSectionDown,\n        };\n\n        const contextMenuIcons = {\n            edit: 'edit',\n            move_up: 'arrow_upward',\n            move_down: 'arrow_downward',\n            manage_grey_fields: 'do_not_disturb',\n        };\n\n        const contextActionChecker = (model, action) => {\n            if (action === 'move_up') {\n                return this.state.sections.indexOf(model) > 0;\n            } else if (action === 'move_down') {\n                return this.state.sections.indexOf(model) < this.state.sections.length - 1;\n            }\n\n            return true;\n        };\n\n        return this.state.sections === undefined ? <LoadingMask /> : (\n            <div>\n                <FormHeading schema=\"dataSet\" groupName=\"dataSetSection\">\n                    {'section_management'}\n                </FormHeading>\n                <FormSubHeading>\n                    {modelToEditStore.state.displayName}\n                </FormSubHeading>\n                <DataTable\n                    columns={['name']}\n                    rows={this.state.sections}\n                    contextMenuActions={contextActions}\n                    contextMenuIcons={contextMenuIcons}\n                    primaryAction={contextActions.edit}\n                    isContextActionAllowed={contextActionChecker}\n                />\n                <SectionDialog\n                    open={!!this.state.editSectionModel}\n                    sectionModel={this.state.editSectionModel}\n                    categoryCombos={this.state.categoryCombos}\n                    onRequestClose={() => { this.setState({ editSectionModel: false }); }}\n                    onSaveSection={this.handleSectionSaved}\n                />\n                <GreyFieldDialog\n                    open={!!this.state.greyFieldSectionModel}\n                    sectionModel={this.state.greyFieldSectionModel}\n                    onRequestClose={() => { this.setState({ greyFieldSectionModel: false }); }}\n                    onRequestSave={this.handleSectionSaved}\n                />\n                {this.state.translationModel ? <TranslationDialog\n                    objectToTranslate={this.state.translationModel}\n                    objectTypeToTranslate={this.state.translationModel && this.state.translationModel.modelDefinition}\n                    open={!!this.state.translationModel}\n                    onTranslationSaved={this.handleTranslationSaved}\n                    onTranslationError={this.handleTranslationErrored}\n                    onRequestClose={() => { this.setState({ translationModel: null }); }}\n                    fieldsToTranslate={['name']}\n                /> : null }\n                <div style={styles.fab}>\n                    <FloatingActionButton onClick={this.handleAddSectionClick}>\n                        <FontIcon className=\"material-icons\">add</FontIcon>\n                    </FloatingActionButton>\n                </div>\n            </div>\n        );\n    }\n}\n\nEditDataSetSections.propTypes = {\n    params: PropTypes.any.isRequired,\n};\nEditDataSetSections.contextTypes = {\n    d2: PropTypes.any.isRequired,\n};\n\nexport default EditDataSetSections;\n\n\n\n// WEBPACK FOOTER //\n// ./src/EditModel/EditDataSetSections.component.js","\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport IconButton from 'material-ui/IconButton';\nimport { camelCaseToUnderscores } from 'd2-utilizr';\n\nimport inlineHelpMapping from '../config/inlinehelp-mapping.json';\n\nfunction mappingPathExists(mappingKey) {\n    return mappingKey && inlineHelpMapping[mappingKey];\n}\n\n/**\n * Returns the \"version\" of the documentation that corresponds with the current dhis2 version.\n *\n * @param {Object} version - The version definition as provided by d2.system.version.\n * @param {number} version.minor - The minor dhis2 version. e.g. The 25 in 2.25.\n * @param {boolean} version.snapshot - True when the current version is the snapshot(master/development) branch.\n *\n * @returns {string} `master` for a snapshot branch. `25` for 2.25 etc.\n */\nfunction getDocsVersion({ major, minor, snapshot }) {\n    if (snapshot) {\n        return 'master';\n    }\n    return `${major}.${minor}`;\n}\n\n/** \n * If ${placeholder} is found in mappingKey, it will be replaced with a matching name if \n * present from variablesToReplace.  \n * \n * Eg. for the mappingKey \"/edit/otherSection/${objectType}\" the placeholder objectType\n * will be found. If an entry in variablesToReplace exists objectType will be replaced \n * with the value to this entry, say constant. This will result in the new path  \"/edit/otherSection/constant\".\n * If no match is found, the path will return.\n * \n * @param {string} mappingKey The mapping that may have a placeholder to replace\n * @param {Map} variablesToReplace The variables that are to be replaced with the placeholder \n *\n * @returns {string} The matched path with replaced placeholders if found\n */\nfunction replacePlaceholder(mappingKey, variablesToReplace) {\n    const placeholderRegex = /\\$\\{(.+?)\\}/g;\n\n    return mappingKey.replace(placeholderRegex, (match, variable) => {\n        if (variablesToReplace.has(variable)) {\n            return variablesToReplace.get(variable);\n        }\n        return '.+?';\n    });\n}\n\n/** \n * Checks if the mappingKeyPath with replaced placeholders matches the path were currently on.\n * \n * @param {string} path The path to be matched with a mappingKey \n * @param {Map} variablesToReplace The variables that are to be replaced with a placeholder \n *\n * @returns {string} The matched mappingKey with replaced placeholders if found\n */\nfunction replaceMappingPathPlaceholder(path, variablesToReplace) {\n    return Object.keys(inlineHelpMapping)\n        .find((mappingKey) => {\n            const pathToMatch = replacePlaceholder(mappingKey, variablesToReplace);\n            return (new RegExp(pathToMatch)).test(path);\n        });\n}\n\n// Replaces the placeholders of the matched mappingKey url to create the complete partial help content path.\nfunction getPartialHelpContentPath(replacedMappingPath, variablesToReplaceCamel) {\n    if (mappingPathExists(replacedMappingPath)) {\n        return replacePlaceholder(inlineHelpMapping[replacedMappingPath], variablesToReplaceCamel);\n    }\n\n    return '';\n}\n\n/**\n * Attempts to find a help link as defined in the inlinehelp-mapping.js It will always pick the first match that it finds. Help links should therefore be\n * sorted with the longer links first.\n * The search is done using a regular expression that matches the path from the start. This means that paths that are longer/dynamic can still show help links.\n *\n * For example a help link key that is defined as  `/edit/dataElementSection/dataElement` would show up on both `/edit/dataElementSection/dataElement/add` and `/edit/dataElementSection/dataElement/wap68IYzTXr`.\n *\n * @param {string} path The current path/route that the browser is on. This is the path that the help link should be used for.\n * @param {string} schema The name of the schema to find help for.\n *\n * @returns {string} The partial path that the refers to the help content in the documentation.  e.g. `/en/user/html/manage_org_unit.html`\n */\nfunction findHelpLinkForPath(path, schema) {\n    const variablesToReplace = new Map([['objectType', schema]]);\n    const variablesToReplaceCamel = new Map([['objectType', camelCaseToUnderscores(schema)]]);\n\n    const replacedMappingPath = replaceMappingPathPlaceholder(path, variablesToReplace);\n\n    return getPartialHelpContentPath(replacedMappingPath, variablesToReplaceCamel);\n}\n\nexport default function HelpLink({ schema }, { d2 }) {\n    const path = window.location.hash\n        .replace(/^#/, '') // Remove leading hash\n        .replace(/\\?.+?$/, ''); // Remove query param/cache breaker\n    const docsLink = `https://docs.dhis2.org/${getDocsVersion(d2.system.version)}`;\n    const helpLink = findHelpLinkForPath(path, schema);\n\n    if (helpLink) {\n        return (\n            <IconButton\n                href={`${docsLink}${helpLink}`}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                tooltip={d2.i18n.getTranslation('open_user_guide')}\n                tooltipPosition=\"bottom-center\"\n                iconClassName=\"material-icons\"\n                iconStyle={{ top: -2 }}\n            >\n                help_outline\n            </IconButton>\n        );\n    }\n\n    return null;\n}\n\nHelpLink.propTypes = {\n    schema: PropTypes.string.isRequired,\n};\n\nHelpLink.contextTypes = {\n    d2: PropTypes.object,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/List/HelpLink.component.js","module.exports = {\"/edit/categorySection/categoryOptionGroupSet\":\"/en/user/html/manage_category.html#create_category_option_group_set\",\"/edit/categorySection/categoryOptionGroup\":\"/en/user/html/manage_category.html#create_category_option_group\",\"/edit/categorySection/categoryOptionCombo\":\"/en/user/html/manage_category.html#assign_code_category_option_combo\",\"/edit/categorySection/categoryOption\":\"/en/user/html/manage_category.html#create_category_option\",\"/edit/categorySection/categoryCombo\":\"/en/user/html/manage_category.html#create_category_combination\",\"/edit/categorySection/category\":\"/en/user/html/manage_category.html#create_category\",\"/list/categorySection\":\"/en/user/html/manage_category.html\",\"/edit/dataElementSection/dataElementGroupSet\":\"/en/user/html/manage_data_element.html#create_data_element_group_set\",\"/edit/dataElementSection/dataElementGroup\":\"/en/user/html/manage_data_element.html#create_data_element_group\",\"/edit/dataElementSection/dataElement\":\"/en/user/html/manage_data_element.html#create_data_element\",\"/list/dataElementSection\":\"/en/user/html/manage_data_element.html\",\"/edit/dataSetSection/dataSet/${objectId}/sections\":\"/en/user/html/manage_data_set.html#manage_section_form\",\"/edit/dataSetSection/dataSet\":\"/en/user/html/manage_data_set.html#create_data_set\",\"/list/dataSetSection/dataSet\":\"/en/user/html/manage_data_set.html\",\"/edit/indicatorSection/programIndicatorGroup\":\"/en/user/html/configure_program_indicator.html#create_program_indicator_group\",\"/list/indicatorSection/programIndicatorGroup\":\"/en/user/html/configure_program_indicator.html\",\"/edit/indicatorSection/programIndicator\":\"/en/user/html/configure_program_indicator.html#create_program_indicator\",\"/list/indicatorSection/programIndicator\":\"/en/user/html/configure_program_indicator.html\",\"/edit/indicatorSection/indicatorGroupSet\":\"/en/user/html/manage_indicator.html#create_indicator_group_set\",\"/edit/indicatorSection/indicatorGroup\":\"/en/user/html/manage_indicator.html#create_indicator_group\",\"/edit/indicatorSection/indicatorType\":\"/en/user/html/manage_indicator.html#create_indicator_type\",\"/edit/indicatorSection/indicator\":\"/en/user/html/manage_indicator.html#create_indicator\",\"/list/indicatorSection\":\"/en/user/html/manage_indicator.html\",\"/edit/organisationUnitSection/organisationUnitGroupSet\":\"/en/user/html/manage_organisation_unit.html#create_organisation_unit_group_set\",\"/edit/organisationUnitSection/organisationUnitGroup\":\"/en/user/html/manage_organisation_unit.html#create_organisation_unit_group\",\"/edit/organisationUnitSection/organisationUnitLevel\":\"/en/user/html/manage_organisation_unit.html#name_organisation_unit_level\",\"/edit/organisationUnitSection/organisationUnit\":\"/en/user/html/manage_organisation_unit.html#create_organisation_unit\",\"/list/organisationUnitSection\":\"/en/user/html/manage_organisation_unit.html\",\"/edit/programSection/trackedEntityAttribute\":\"/en/user/html/configure_tracked_entity.html#create_tracked_entity_attribute\",\"/edit/programSection/programRuleVariable\":\"/en/user/html/configure_program_rule.html#create_program_rule_variable\",\"/edit/programSection/relationshipType\":\"/en/user/html/configure_relationship_type.html#create_relationship_type\",\"/edit/programSection/trackedEntity\":\"/en/user/html/configure_tracked_entity.html#about_tracked_entity\",\"/edit/programSection/programRule\":\"/en/user/html/configure_program_rule.html#create_program_rule\",\"/edit/programSection/program\":\"/en/user/html/configure_event_program_in_maintenance_app.html#create_event_program\",\"/list/programSection\":\"/en/user/html/configure_programs_in_maintenance_app.html\",\"/edit/validationSection/validationNotificationTemplate\":\"/en/user/html/manage_validation_rule.html#create_validation_notification\",\"/edit/validationSection/validationRuleGroup\":\"/en/user/html/manage_validation_rule.html#create_validation_rule_group\",\"/edit/validationSection/validationRule\":\"/en/user/html/manage_validation_rule.html#create_validation_rule\",\"/list/validationSection\":\"/en/user/html/manage_validation_rule.html\",\"/edit/otherSection/legendSet\":\"/en/user/html/manage_legend.html#create_legend\",\"/list/otherSection/legendSet\":\"/en/user/html/manage_legend.html\",\"/edit/otherSection/pushAnalysis\":\"/en/user/html/manage_push_report.html#create_push_report\",\"/list/otherSection/pushAnalysis\":\"/en/user/html/manage_push_report.html\",\"/edit/otherSection/externalMapLayer\":\"/en/user/html/manage_external_maplayer.html#create_external_map_layer\",\"/list/otherSection/externalMapLayer\":\"/en/user/html/manage_external_maplayer.html\",\"/edit/otherSection/${objectType}\":\"/en/user/html/manage_${objectType}.html#create_${objectType}\",\"/list/otherSection/${objectType}\":\"/en/user/html/manage_${objectType}.html\"}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/config/inlinehelp-mapping.json\n// module id = 1656\n// module chunks = 0 1 2 3 5 6 7","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { config } from 'd2/lib/d2';\nimport Dialog from 'material-ui/Dialog/Dialog';\nimport { getTranslationFormFor } from './TranslationForm.component';\n\nvar TranslationDialog = function (_Component) {\n    _inherits(TranslationDialog, _Component);\n\n    function TranslationDialog(props, context) {\n        _classCallCheck(this, TranslationDialog);\n\n        var _this = _possibleConstructorReturn(this, (TranslationDialog.__proto__ || Object.getPrototypeOf(TranslationDialog)).call(this, props, context));\n\n        _this.i18n = context.d2.i18n;\n\n        _this.state = {\n            TranslationForm: getTranslationFormFor(_this.props.objectToTranslate)\n        };\n\n        _this.translationSaved = _this.translationSaved.bind(_this);\n        _this.translationError = _this.translationError.bind(_this);\n        _this.closeTranslationDialog = _this.closeTranslationDialog.bind(_this);\n        return _this;\n    }\n\n    _createClass(TranslationDialog, [{\n        key: 'render',\n        value: function render() {\n            return React.createElement(\n                Dialog,\n                _extends({\n                    title: this.i18n.getTranslation('translation_dialog_title'),\n                    autoDetectWindowHeight: true,\n                    autoScrollBodyContent: true\n                }, this.props),\n                React.createElement(this.state.TranslationForm, {\n                    onTranslationSaved: this.translationSaved,\n                    onTranslationError: this.translationError,\n                    onCancel: this.closeTranslationDialog,\n                    fieldsToTranslate: this.props.fieldsToTranslate\n                })\n            );\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(newProps) {\n            if (newProps.objectToTranslate) {\n                this.setState({\n                    TranslationForm: getTranslationFormFor(newProps.objectToTranslate)\n                });\n            }\n        }\n    }, {\n        key: 'closeTranslationDialog',\n        value: function closeTranslationDialog() {\n            this.props.onRequestClose();\n        }\n    }, {\n        key: 'translationSaved',\n        value: function translationSaved(args) {\n            this.props.onTranslationSaved(args);\n            this.closeTranslationDialog();\n        }\n    }, {\n        key: 'translationError',\n        value: function translationError(err) {\n            this.props.onTranslationError(err);\n        }\n    }]);\n\n    return TranslationDialog;\n}(Component);\n\nTranslationDialog.propTypes = {\n    objectToTranslate: PropTypes.shape({\n        id: PropTypes.string.isRequired\n    }).isRequired,\n    onTranslationSaved: PropTypes.func.isRequired,\n    onTranslationError: PropTypes.func.isRequired,\n    open: PropTypes.bool,\n    onRequestClose: PropTypes.func.isRequired,\n    fieldsToTranslate: PropTypes.array\n};\n\nTranslationDialog.contextTypes = {\n    d2: PropTypes.object\n};\n\nexport default TranslationDialog;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d2-ui/lib/i18n/TranslationDialog.component.js\n// module id = 1659\n// module chunks = 1 2 3 5 7 8","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport SelectField from 'material-ui/SelectField/SelectField';\nimport MenuItem from 'material-ui/MenuItem/MenuItem';\n\nvar LocaleSelector = function (_Component) {\n    _inherits(LocaleSelector, _Component);\n\n    function LocaleSelector(props, context) {\n        _classCallCheck(this, LocaleSelector);\n\n        var _this = _possibleConstructorReturn(this, (LocaleSelector.__proto__ || Object.getPrototypeOf(LocaleSelector)).call(this, props, context));\n\n        _this.onLocaleChange = function (event, index, locale) {\n            _this.setState({\n                locale: locale\n            });\n\n            _this.props.onChange(locale, event);\n        };\n\n        var i18n = _this.context.d2.i18n;\n        _this.getTranslation = i18n.getTranslation.bind(i18n);\n        return _this;\n    }\n\n    _createClass(LocaleSelector, [{\n        key: 'render',\n        value: function render() {\n            var localeMenuItems = [{ payload: '', text: '' }].concat(this.props.locales).map(function (locale, index) {\n                return React.createElement(MenuItem, { key: index, primaryText: locale.name, value: locale.locale });\n            });\n\n            return React.createElement(\n                SelectField,\n                _extends({\n                    fullWidth: true\n                }, this.props, {\n                    value: this.state && this.state.locale,\n                    hintText: this.getTranslation('select_locale'),\n                    onChange: this.onLocaleChange\n                }),\n                localeMenuItems\n            );\n        }\n    }]);\n\n    return LocaleSelector;\n}(Component);\n\nLocaleSelector.propTypes = {\n    value: PropTypes.string,\n    locales: PropTypes.arrayOf(PropTypes.shape({\n        name: PropTypes.string.isRequired,\n        locale: PropTypes.string.isRequired\n    })).isRequired,\n    onChange: PropTypes.func.isRequired\n};\n\nLocaleSelector.contextTypes = {\n    d2: PropTypes.object\n};\n\nexport default LocaleSelector;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d2-ui/lib/i18n/LocaleSelector.component.js\n// module id = 1681\n// module chunks = 1 2 3 5 7 8","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport TextField from 'material-ui/TextField/TextField';\nimport camelCaseToUnderscores from 'd2-utilizr/lib/camelCaseToUnderscores';\nimport RaisedButton from 'material-ui/RaisedButton/RaisedButton';\nimport { Observable } from 'rxjs';\nimport LocaleSelector from '../i18n/LocaleSelector.component';\nimport { getLocales, getTranslationsForModel, saveTranslations } from './translationForm.actions';\nimport withStateFrom from '../component-helpers/withStateFrom';\nimport Store from '../store/Store';\nimport CircularProgress from '../circular-progress/CircularProgress';\n\nfunction getTranslationFormData(model) {\n    var translationStore = Store.create();\n\n    getTranslationsForModel(model).subscribe(function (translations) {\n        translationStore.setState(translations);\n    });\n\n    return Observable.combineLatest(getLocales(), translationStore, function () {\n        for (var _len = arguments.length, data = Array(_len), _key = 0; _key < _len; _key++) {\n            data[_key] = arguments[_key];\n        }\n\n        return Object.assign.apply(Object, [{\n            objectToTranslate: model,\n            setTranslations: function setTranslations(translations) {\n                translationStore.setState({\n                    translations: translations\n                });\n            }\n        }].concat(data));\n    });\n}\n\nexport function getTranslationFormFor(model) {\n    return withStateFrom(getTranslationFormData(model), TranslationForm);\n}\n\nvar TranslationForm = function (_Component) {\n    _inherits(TranslationForm, _Component);\n\n    function TranslationForm(props, context) {\n        _classCallCheck(this, TranslationForm);\n\n        var _this = _possibleConstructorReturn(this, (TranslationForm.__proto__ || Object.getPrototypeOf(TranslationForm)).call(this, props, context));\n\n        _this.state = {\n            loading: true,\n            translations: {},\n            translationValues: {},\n            currentSelectedLocale: ''\n        };\n\n        _this.setCurrentLocale = function (locale) {\n            _this.setState({\n                currentSelectedLocale: locale\n            });\n        };\n\n        _this.setValue = function (property, event) {\n            var newTranslations = [].concat(_this.props.translations);\n            var translation = newTranslations.find(function (t) {\n                return t.locale === _this.state.currentSelectedLocale && t.property.toLowerCase() === camelCaseToUnderscores(property);\n            });\n\n            if (translation) {\n                if (event.target.value) {\n                    translation.value = event.target.value;\n                } else {\n                    // Remove translation from the array\n                    newTranslations = newTranslations.filter(function (t) {\n                        return t !== translation;\n                    });\n                }\n            } else {\n                translation = {\n                    property: camelCaseToUnderscores(property).toUpperCase(),\n                    locale: _this.state.currentSelectedLocale,\n                    value: event.target.value\n                };\n\n                newTranslations.push(translation);\n            }\n\n            _this.props.setTranslations(newTranslations);\n        };\n\n        _this.saveTranslations = function () {\n            saveTranslations(_this.props.objectToTranslate, _this.props.translations).subscribe(_this.props.onTranslationSaved, _this.props.onTranslationError);\n        };\n\n        var i18n = _this.context.d2.i18n;\n        _this.getTranslation = i18n.getTranslation.bind(i18n);\n        return _this;\n    }\n\n    _createClass(TranslationForm, [{\n        key: 'getLoadingdataElement',\n        value: function getLoadingdataElement() {\n            return React.createElement(\n                'div',\n                { style: { textAlign: 'center' } },\n                React.createElement(CircularProgress, { mode: 'indeterminate' })\n            );\n        }\n    }, {\n        key: 'renderFieldsToTranslate',\n        value: function renderFieldsToTranslate() {\n            var _this2 = this;\n\n            return this.props.fieldsToTranslate.filter(function (fieldName) {\n                return fieldName;\n            }).map(function (fieldName) {\n                return React.createElement(\n                    'div',\n                    { key: fieldName },\n                    React.createElement(TextField, {\n                        floatingLabelText: _this2.getTranslation(camelCaseToUnderscores(fieldName)),\n                        value: _this2.getTranslationValueFor(fieldName),\n                        fullWidth: true,\n                        onChange: _this2.setValue.bind(_this2, fieldName)\n                    }),\n                    React.createElement(\n                        'div',\n                        null,\n                        _this2.props.objectToTranslate[fieldName]\n                    )\n                );\n            });\n        }\n    }, {\n        key: 'renderForm',\n        value: function renderForm() {\n            return React.createElement(\n                'div',\n                null,\n                this.renderFieldsToTranslate(),\n                React.createElement(RaisedButton, {\n                    label: this.getTranslation('save'),\n                    primary: true,\n                    onClick: this.saveTranslations\n                }),\n                React.createElement(RaisedButton, {\n                    style: { marginLeft: '1rem' },\n                    label: this.getTranslation('cancel'),\n                    onClick: this.props.onCancel\n                })\n            );\n        }\n    }, {\n        key: 'renderHelpText',\n        value: function renderHelpText() {\n            return React.createElement(\n                'div',\n                null,\n                React.createElement(\n                    'p',\n                    null,\n                    this.getTranslation('select_a_locale_to_enter_translations_for_that_language')\n                )\n            );\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            if (!this.props.locales && !this.props.translations) {\n                return this.getLoadingdataElement();\n            }\n\n            return React.createElement(\n                'div',\n                { style: { minHeight: 250 } },\n                React.createElement(LocaleSelector, { locales: this.props.locales, onChange: this.setCurrentLocale }),\n                this.state.currentSelectedLocale ? this.renderForm() : this.renderHelpText()\n            );\n        }\n    }, {\n        key: 'getTranslationValueFor',\n        value: function getTranslationValueFor(fieldName) {\n            var _this3 = this;\n\n            var translation = this.props.translations.find(function (t) {\n                return t.locale === _this3.state.currentSelectedLocale && t.property.toLowerCase() === camelCaseToUnderscores(fieldName);\n            });\n\n            if (translation) {\n                return translation.value;\n            }\n        }\n    }]);\n\n    return TranslationForm;\n}(Component);\n\nTranslationForm.propTypes = {\n    onTranslationSaved: PropTypes.func.isRequired,\n    onTranslationError: PropTypes.func.isRequired,\n    objectToTranslate: PropTypes.shape({\n        id: PropTypes.string.isRequired\n    }),\n    fieldsToTranslate: PropTypes.arrayOf(PropTypes.string)\n};\n\nTranslationForm.defaultProps = {\n    fieldsToTranslate: ['name', 'shortName', 'description']\n};\n\nTranslationForm.contextTypes = {\n    d2: PropTypes.object\n};\n\nexport default TranslationForm;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d2-ui/lib/i18n/TranslationForm.component.js\n// module id = 1682\n// module chunks = 1 2 3 5 7 8","var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nimport { getInstance as getD2 } from 'd2/lib/d2';\nimport { Observable } from 'rxjs';\nimport { getInstance } from 'd2/lib/d2';\nimport Action from '../action/Action';\n\nexport function getLocales() {\n    if (!getLocales.localePromise) {\n        getLocales.localePromise = getD2().then(function (d2) {\n            var api = d2.Api.getApi();\n\n            return api.get('locales/db');\n        }).then(function (locales) {\n            return {\n                locales: locales\n            };\n        });\n    }\n\n    return Observable.fromPromise(getLocales.localePromise);\n}\n\nfunction getModelHref(model) {\n    if (model.href) {\n        return model.href;\n    }\n\n    return model.modelDefinition.apiEndpoint + '/' + model.id;\n}\n\nexport function getTranslationsForModel(model) {\n    return Observable.of(model).flatMap(function (model) {\n        var modelDefinition = model.modelDefinition;\n\n        if (!modelDefinition && !modelDefinition.name) {\n            return Promise.reject(new Error('Can not find modelDefinition for ' + model.id));\n        }\n\n        return getInstance().then(function (d2) {\n            var api = d2.Api.getApi();\n\n            return api.get(getModelHref(model) + '/translations');\n        });\n    });\n}\n\nexport var saveTranslations = Action.create('saveTranslations');\n\nsaveTranslations.subscribe(function (_ref) {\n    var _ref$data = _slicedToArray(_ref.data, 2),\n        model = _ref$data[0],\n        translations = _ref$data[1],\n        complete = _ref.complete,\n        error = _ref.error;\n\n    var translationHref = getModelHref(model) + '/translations';\n\n    getInstance().then(function (d2) {\n        var api = d2.Api.getApi();\n\n        api.update(translationHref, { translations: translations }, { dataType: 'text' }).then(function () {\n            return complete(translations);\n        }).catch(error);\n    });\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d2-ui/lib/i18n/translationForm.actions.js\n// module id = 1683\n// module chunks = 1 2 3 5 7 8","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport addD2Context from 'd2-ui/lib/component-helpers/addD2Context';\nimport Heading from 'd2-ui/lib/headings/Heading.component';\nimport HelpLink from '../List/HelpLink.component';\nimport BackButton from './BackButton.component';\nimport { goToAndScrollUp } from '../router-utils';\n\nfunction FormHeading({ level, schema, children, groupName, isDirtyHandler, ...props }, context) {\n    return (\n        <Heading {...props} level={level}>\n            <BackButton\n                onClick={() => goToAndScrollUp(`/list/${groupName}/${schema}`)}\n                iconStyle={{ top: 3 }}\n                isDirtyHandler={isDirtyHandler}\n            />\n            {context.d2.i18n.getTranslation(children)}\n            {schema && (<HelpLink schema={schema} />)}\n        </Heading>\n    );\n}\n\nFormHeading.propTypes = {\n    children: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.array,\n    ]),\n    level: PropTypes.number,\n    isDirtyHandler: PropTypes.func,\n    schema: PropTypes.string.isRequired,\n    groupName: PropTypes.string.isRequired,\n};\n\nFormHeading.defaultProps = {\n    isDirtyHandler: () => {},\n    level: 2,\n    children: '',\n};\n\nexport default addD2Context(FormHeading);\n\n\n\n// WEBPACK FOOTER //\n// ./src/EditModel/FormHeading.js","import React from 'react';\nimport IconButton from 'material-ui/IconButton/IconButton';\nimport addD2Context from 'd2-ui/lib/component-helpers/addD2Context';\nimport { config } from 'd2/lib/d2';\nimport modelToEditStore from '../EditModel/modelToEditStore';\n\nfunction BackButton(props, context) {\n    const { tooltip, onClick, isDirtyHandler = modelToEditStore.getState.bind(modelToEditStore), ...otherProps } = props;\n    const onClickWithConfirm = (...params) => {\n        const isDirty = isDirtyHandler && isDirtyHandler() && isDirtyHandler().dirty;\n\n        if (!isDirty) {\n            onClick(...params);\n        } else if (confirm(context.d2.i18n.getTranslation('abandon_unsaved_changes'))) {\n            onClick(...params);\n        }\n    };\n\n    return (\n        <IconButton\n            tooltip={tooltip || context.d2.i18n.getTranslation('back')}\n            tooltipPosition=\"bottom-right\"\n            onClick={onClickWithConfirm}\n            {...otherProps}\n            iconClassName=\"material-icons\"\n        >\n            &#xE5C4;\n        </IconButton>\n    );\n}\nBackButton.propTypes = {\n    tooltip: React.PropTypes.string,\n};\n\nexport default addD2Context(BackButton);\n\n\n\n// WEBPACK FOOTER //\n// ./src/EditModel/BackButton.component.js","import React from 'react';\nimport Heading from 'd2-ui/lib/headings/Heading.component';\n\nconst defaultStyle = {\n    fontSize: '1.25rem',\n    paddingTop: '.5rem',\n    fontWeight: 100,\n};\n\nfunction FormSubHeading({ level, children, ...props }) {\n    const style = Object.assign({}, defaultStyle, props.style);\n\n    return (\n        <Heading {...props} style={style} level={level || 3}>\n            {children}\n        </Heading>\n    );\n}\nFormSubHeading.propTypes = {\n    children: React.PropTypes.string,\n    level: React.PropTypes.number,\n};\n\nexport default FormSubHeading;\n\n\n\n// WEBPACK FOOTER //\n// ./src/EditModel/FormSubHeading.js","import PropTypes from 'prop-types';\nimport React from 'react';\nimport CircularProgress from '../circular-progress/CircularProgress';\n\nvar loadingStatusMask = {\n    left: '45%',\n    position: 'fixed',\n    top: '45%'\n};\n\nexport default function LoadingMask(_ref) {\n    var _ref$style = _ref.style,\n        style = _ref$style === undefined ? {} : _ref$style,\n        _ref$large = _ref.large,\n        large = _ref$large === undefined ? false : _ref$large,\n        _ref$small = _ref.small,\n        small = _ref$small === undefined ? false : _ref$small;\n\n    return React.createElement(\n        'div',\n        { style: Object.assign({}, loadingStatusMask, style) },\n        React.createElement(CircularProgress, { large: large, small: small })\n    );\n}\n\nLoadingMask.propTypes = {\n    style: PropTypes.object,\n    large: PropTypes.bool,\n    small: PropTypes.bool\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d2-ui/lib/loading-mask/LoadingMask.component.js\n// module id = 1779\n// module chunks = 1 7 10","import React from 'react';\nimport log from 'loglevel';\n\nimport Dialog from 'material-ui/Dialog/Dialog';\nimport FlatButton from 'material-ui/FlatButton/FlatButton';\nimport RaisedButton from 'material-ui/RaisedButton/RaisedButton';\nimport Checkbox from 'material-ui/Checkbox/Checkbox';\nimport DropDown from '../forms/form-fields/drop-down';\n\nimport snackActions from '../Snackbar/snack.actions';\n\nimport modelToEditStore from './modelToEditStore';\n\n\nconst styles = {\n    dialogContent: {\n        maxWidth: 'none',\n    },\n    dialogDiv: {\n        overflowX: 'auto',\n        overflowY: 'hidden',\n    },\n    table: {\n        borderSpacing: 0,\n        borderCollapse: 'collapse',\n        margin: '32px auto',\n    },\n    th: {\n        whiteSpace: 'nowrap',\n        textAlign: 'center',\n        border: '1px solid #e0e0e0',\n        padding: 6,\n    },\n    thDataElements: {\n        whiteSpace: 'nowrap',\n        border: '1px solid #e0e0e0',\n        background: '#f0f0f0',\n        textAlign: 'left',\n        padding: 6,\n    },\n    td: {\n        whiteSpace: 'nowrap',\n        padding: 2,\n        border: '1px solid #e0e0e0',\n        minWidth: 105,\n    },\n    tdDataElement: {\n        whiteSpace: 'nowrap',\n        padding: 6,\n        border: '1px solid #e0e0e0',\n    },\n};\n\nclass GreyFieldDialog extends React.Component {\n    constructor(props, context) {\n        super(props, context);\n\n        this.state = {\n            categories: [],\n        };\n\n        this.closeDialog = this.closeDialog.bind(this);\n        this.handleSaveClick = this.handleSaveClick.bind(this);\n\n        this.getTranslation = context.d2.i18n.getTranslation.bind(context.d2.i18n);\n    }\n\n    componentWillReceiveProps(props) {\n        const d2 = this.context.d2;\n\n        if (props.sectionModel) {\n            const dataElements = props.sectionModel.dataElements.toArray();\n            if (dataElements.length < 1) {\n                log.info(`Section ${props.sectionModel.displayName} contains no data elements`);\n                snackActions.show({ message: this.getTranslation('this_section_has_no_data_elements'), action: 'ok' });\n                this.props.onRequestClose();\n                return;\n            }\n\n            let cocMap = {};\n\n            const categoryArrayToMap = (categories) => {\n                let appendage = null;\n\n                const reduceAppendage = (prev, categoryOption) => {\n                    const out = prev;\n                    out[categoryOption.id] = appendage;\n                    return out;\n                };\n\n                while (categories.length > 0) {\n                    appendage = categories.pop().categoryOptions.toArray().reduce(reduceAppendage, {});\n                }\n                return appendage;\n            };\n\n            const assignCocs = (cocMap, options, coc) => {\n                if (options.length > 0) {\n                    return Object.keys(cocMap).reduce((prev, key) => {\n                        const out = prev;\n                        const keyPos = options.indexOf(key);\n                        if (keyPos !== -1) {\n                            options.splice(keyPos, 1);\n                            out[key] = assignCocs(cocMap[key], options, coc);\n                            return out;\n                        }\n                        out[key] = cocMap[key];\n                        return out;\n                    }, {});\n                }\n                return coc;\n            };\n\n            // Use the categoryCombos associated with the section to get categories and their category options\n            d2.models.categoryCombos.list({\n                filter: `id:in:[${props.sectionModel.categoryCombos.toArray().map(coc => coc.id)}]`,\n                paging: false,\n                fields: [\n                    'id,displayName',\n                    'categories[id,displayName,categoryOptions[id,displayName]]',\n                    'categoryOptionCombos[id,displayName',\n                    'categoryOptions[id,displayName]]',\n                ].join(','),\n            })\n            .then((categoryCombos) => {\n                categoryCombos.forEach((categoryCombo) => {\n                    // Build a nested map of categories:\n                    // { cat1_opt1 : { cat2_opt1: { cat3_opt1: null, cat3_opt2: null }, cat2_opt2: {...}, ... }, ... }\n                    //\n                    // Then convert to JSON and back as a fast way to remove any references within the structure\n                    Object.assign(\n                        cocMap,\n                        JSON.parse(JSON.stringify(categoryArrayToMap(categoryCombo.categories.toArray())))\n                    );\n\n                    // Fill in the leaf nodes in the cocMap with the actual coc's\n                    categoryCombo.categoryOptionCombos.toArray().forEach((coc) => {\n                        const optionPath = coc.categoryOptions.toArray().map(o => o.id);\n                        cocMap = assignCocs(cocMap, optionPath, { id: coc.id, displayName: coc.displayName });\n                    });\n                });\n\n                const greyedFields = props.sectionModel.greyedFields.reduce((prev, gf) => {\n                    if (prev.hasOwnProperty(gf.dataElement.id)) {\n                        prev[gf.dataElement.id].push(gf.categoryOptionCombo.id);\n                        return prev;\n                    }\n\n                    const out = prev;\n                    out[gf.dataElement.id] = [gf.categoryOptionCombo.id];\n                    return out;\n                }, {});\n\n                this.setState({\n                    currentCategoryCombo: categoryCombos.toArray()[0].id,\n                    categoryCombos,\n                    optionCount: categoryCombos.toArray()\n                        .reduce((oc, cc) => {\n                            oc[cc.id] = cc.categories.toArray().map(c => c.categoryOptions.size);\n                            return oc;\n                        }, {}),\n                    cocMap,\n                    greyedFields,\n                });\n            });\n        }\n    }\n\n    closeDialog() {\n        this.props.onRequestClose();\n    }\n\n    handleSaveClick() {\n        const greyedFields = [];\n        Object.keys(this.state.greyedFields).forEach((dataElement) => {\n            this.state.greyedFields[dataElement].forEach((coc) => {\n                greyedFields.push({\n                    dataElement: { id: dataElement },\n                    categoryOptionCombo: { id: coc },\n                });\n            });\n        });\n\n        const section = Object.assign(this.props.sectionModel, { greyedFields });\n\n        section\n            .save()\n            .then((res) => {\n                log.info('Section updated', res);\n                snackActions.show({ message: this.getTranslation('section_saved') });\n                this.props.onRequestSave(section);\n            })\n            .catch((err) => {\n                log.error('Failed to save section:', err);\n                snackActions.show({ message: this.getTranslation('failed_to_save_section'), action: 'ok' });\n            });\n    }\n\n    renderTableHeader() {\n        let prevRowColCount = 1;\n\n        return this.state.currentCategoryCombo && (\n            this.state.categoryCombos.get(this.state.currentCategoryCombo).categories.toArray().map((cat, catNum) => {\n                const colSpan = this.state.optionCount[this.state.currentCategoryCombo]\n                    .slice(catNum + 1)\n                    .reduce((product, optionCount) => optionCount * product, 1);\n\n                const isLastHeader = catNum === this.state.categoryCombos.get(this.state.currentCategoryCombo).categories.size - 1;\n                const row = (\n                    <tr key={catNum}>\n                        <th style={styles.thDataElements}>{isLastHeader && this.getTranslation('data_element')}</th>\n                        {\n                            // For each column in the previous row...\n                            Array(...Array(prevRowColCount)).map((e, rep) =>\n                                // ... render the columns for this row\n                                 cat.categoryOptions.toArray().map((opt, optNum) => (\n                                     <th\n                                         key={`${optNum}.${rep}`}\n                                         colSpan={colSpan}\n                                         style={styles.th}\n                                     >{opt.displayName === 'default' ? '' : opt.displayName}</th>\n                                    )))\n                        }\n                    </tr>\n                );\n                prevRowColCount *= cat.categoryOptions.size;\n                return row;\n            })\n        );\n    }\n\n    renderCheckbox(dataElement, fieldArray, fieldNum) {\n        const resolveCoc = (cocMap, fields) => {\n            if (fields.length === 0) {\n                return cocMap;\n            }\n\n            const field = fields.shift();\n            return resolveCoc(cocMap[field], fields);\n        };\n\n        const coc = resolveCoc(this.state.cocMap, fieldArray);\n\n        const isGreyed =\n            this.state.greyedFields.hasOwnProperty(dataElement.id) &&\n            this.state.greyedFields[dataElement.id].indexOf(coc.id) !== -1;\n\n        const toggleBoggle = ((dataElementId, categoryOptionComboId, event, disable) => {\n            this.setState((state) => {\n                const greyedCocs = (state.greyedFields[dataElementId] || []).slice();\n                if (disable) {\n                    if (greyedCocs.includes(categoryOptionComboId)) {\n                        greyedCocs.splice(greyedCocs.indexOf(categoryOptionComboId), 1);\n                    }\n                } else if (!greyedCocs.includes(categoryOptionComboId)) {\n                    greyedCocs.push(categoryOptionComboId);\n                }\n\n                const greyedFields = Object.keys(state.greyedFields)\n                    .reduce((prev, deId) => {\n                        const out = prev;\n                        out[deId] = deId === dataElementId ? greyedCocs : state.greyedFields[deId];\n                        return out;\n                    }, {});\n\n                if (greyedCocs.length > 0 && !greyedFields.hasOwnProperty(dataElementId)) {\n                    greyedFields[dataElementId] = greyedCocs;\n                }\n\n                return { greyedFields };\n            });\n        }).bind(this, dataElement.id, coc.id);\n\n        return (\n            <td key={fieldNum} style={styles.td}>\n                <Checkbox\n                    checked={!isGreyed}\n                    label={isGreyed ? this.getTranslation('disabled') : this.getTranslation('enabled')}\n                    labelPosition=\"right\"\n                    labelStyle={{ whiteSpace: 'nowrap' }}\n                    onCheck={toggleBoggle}\n                />\n            </td>\n        );\n    }\n\n    renderDataElements() {\n        const getCocFields = () => this.state.categoryCombos.get(this.state.currentCategoryCombo).categories\n                .toArray()\n                .reduce((prev, cat) => {\n                    if (prev.length > 0) {\n                        const out = [];\n                        prev.forEach((p) => {\n                            cat.categoryOptions.toArray().forEach((opt) => {\n                                const pout = p.slice();\n                                pout.push(opt.id);\n                                out.push(pout);\n                            });\n                        });\n                        return out;\n                    }\n\n                    cat.categoryOptions.toArray().forEach((opt) => {\n                        prev.push([opt.id]);\n                    });\n                    return prev;\n                }, []);\n\n        const currentSectionDataElementIds = this.props.sectionModel.dataElements.toArray().map(de => de.id);\n        return this.state.currentCategoryCombo ?\n            modelToEditStore.state.dataSetElements\n                .filter(dse => currentSectionDataElementIds.includes(dse.dataElement.id))\n                .filter(dse => (dse.categoryCombo ? dse.categoryCombo.id : dse.dataElement.categoryCombo.id) === this.state.currentCategoryCombo)\n                .sort((a, b) => currentSectionDataElementIds.indexOf(a.dataElement.id) - currentSectionDataElementIds.indexOf(b.dataElement.id))\n                .map((dse, deNum) => {\n                    const cocFields = getCocFields();\n                    return (\n                        <tr key={deNum} style={{ background: deNum % 2 === 0 ? 'none' : '#f0f0f0' }}>\n                            <td style={styles.tdDataElement}>{dse.dataElement.displayName}</td>\n                            {cocFields.map((fields, fieldNum) => this.renderCheckbox(dse.dataElement, fields, fieldNum))}\n                        </tr>\n                    );\n                }) : null;\n    }\n\n    render() {\n        const title = this.props.sectionModel.displayName;\n        const {\n            open,\n            ...extraProps\n        } = this.props;\n\n        let uniqueCatComboIds = [],\n            sectionDataElementIds = [],\n            categoryCombosForSection = [];\n\n        if (this.props.sectionModel) {\n            // Get data element ids for the current section\n            sectionDataElementIds = this.props.sectionModel.dataElements.toArray().map(de => de.id);\n\n            // Get unique cat combos for data elements in current section\n            categoryCombosForSection = modelToEditStore.state.dataSetElements\n                .filter(dse => sectionDataElementIds.includes(dse.dataElement.id))\n                .map(dse => dse.categoryCombo || dse.dataElement.categoryCombo)\n                .reduce((catCombos, catCombo) => {\n                    if (!uniqueCatComboIds.includes(catCombo.id)) {\n                        uniqueCatComboIds.push(catCombo.id);\n                        catCombos.push(catCombo);\n                    }\n                    return catCombos;\n                }, [])\n                .sort((a, b) => a.displayName.localeCompare(b.displayName));\n        }\n\n        return (\n            <Dialog\n                autoScrollBodyContent\n                autoDetectWindowHeight\n                title={`${this.getTranslation('manage_grey_fields')}: ${title}`}\n                style={{ maxWidth: 'none' }}\n                contentStyle={styles.dialogContent}\n                open={open && this.props.sectionModel.dataElements.size > 0}\n                {...extraProps}\n                actions={[\n                    <FlatButton\n                        label={this.getTranslation('cancel')}\n                        onTouchTap={this.closeDialog}\n                        style={{ marginRight: 16 }}\n                    />,\n                    <RaisedButton\n                        primary\n                        label={this.getTranslation('save')}\n                        onTouchTap={this.handleSaveClick}\n                    />,\n                ]}\n                onRequestClose={this.closeDialog}\n            >\n                {this.props.sectionModel && this.props.sectionModel.categoryCombos && this.props.sectionModel.categoryCombos.size > 1 ? (\n                    <DropDown\n                        options={categoryCombosForSection.map(cc => ({\n                            value: cc.id,\n                            text: cc.displayName === 'default' ? this.getTranslation('none') : cc.displayName,\n                        }))}\n                        labelText={this.getTranslation('category_combo')}\n                        value={this.state.currentCategoryCombo}\n                        onChange={e => this.setState({\n                            currentCategoryCombo: e.target.value,\n                        })}\n                        style={{ width: '33%' }}\n                        isRequired\n                    />\n                ) : null}\n                <div style={styles.dialogDiv}>\n                    <table style={styles.table}>\n                        <tbody>\n                            {this.renderTableHeader()}\n                            {this.state.currentCategoryCombo && this.props.sectionModel && this.renderDataElements()}\n                        </tbody>\n                    </table>\n                </div>\n            </Dialog>\n        );\n    }\n}\n\nGreyFieldDialog.contextTypes = { d2: React.PropTypes.any.isRequired };\nGreyFieldDialog.propTypes = {\n    open: React.PropTypes.bool.isRequired,\n    sectionModel: React.PropTypes.any.isRequired,\n    onRequestClose: React.PropTypes.func.isRequired,\n    onRequestSave: React.PropTypes.func.isRequired,\n};\n\nexport default GreyFieldDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/EditModel/GreyFieldDialog.component.js","import React from 'react';\nimport log from 'loglevel';\n\nimport Dialog from 'material-ui/Dialog/Dialog';\nimport FlatButton from 'material-ui/FlatButton/FlatButton';\nimport RaisedButton from 'material-ui/RaisedButton/RaisedButton';\nimport TextField from 'material-ui/TextField/TextField';\nimport GroupEditor from 'd2-ui/lib/group-editor/GroupEditorWithOrdering.component';\n\nimport Store from 'd2-ui/lib/store/Store';\nimport Checkbox from 'material-ui/Checkbox';\n\nimport DropDown from '../forms/form-fields/drop-down';\nimport snackActions from '../Snackbar/snack.actions';\n\nimport modelToEditStore from './modelToEditStore';\n\nconst dataElementStore = Store.create();\nconst assignedDataElementStore = Store.create();\nconst indicatorStore = Store.create();\nconst assignedIndicatorStore = Store.create();\n\nclass SectionDialog extends React.Component {\n    constructor(props, context) {\n        super(props, context);\n\n        this.state = {\n            categoryCombo: false,\n        };\n        dataElementStore.setState([]);\n        assignedDataElementStore.setState([]);\n        indicatorStore.setState([]);\n        assignedIndicatorStore.setState([]);\n\n        this.getTranslation = context.d2.i18n.getTranslation.bind(context.d2.i18n);\n    }\n\n    componentDidMount() {\n        this.subscriptions = [];\n        this.subscriptions.push(assignedDataElementStore.subscribe(() => {\n            this.forceUpdate();\n        }));\n    }\n\n    componentWillReceiveProps(props) {\n        if (props.sectionModel) {\n            const currentSectionId = props.sectionModel.id;\n            const sections = modelToEditStore.state.sections;\n            const sectionArray = Array.isArray(sections) ? sections : sections.toArray();\n            const otherSections = sectionArray.filter(s => s.id !== currentSectionId);\n            const filterDataElementIds = otherSections\n                .reduce((elements, section) => elements.concat((Array.isArray(section.dataElements)\n                    ? section.dataElements\n                    : section.dataElements.toArray()\n                ).map(de => de.id)), []);\n\n            // Default category combo filter = no filter\n            const categoryComboId = false;\n\n\n            assignedDataElementStore.setState(\n                props.sectionModel.dataElements\n                    ? props.sectionModel.dataElements.toArray().map(de => de.id)\n                    : [],\n            );\n\n            indicatorStore.setState(\n                modelToEditStore.state.indicators\n                    .toArray()\n                    .map(i => ({ value: i.id, text: i.displayName }))\n                    .sort((a, b) => a.text.localeCompare(b.text)),\n            );\n            assignedIndicatorStore.setState(\n                props.sectionModel.indicators\n                    ? props.sectionModel.indicators.toArray().map(i => i.id)\n                    : [],\n            );\n\n            this.setState({\n                name: props.sectionModel.name,\n                code: props.sectionModel.code,\n                nameError: '',\n                codeError: '',\n                description: props.sectionModel.description,\n                showRowTotals: props.sectionModel.showRowTotals,\n                showColumnTotals: props.sectionModel.showColumnTotals,\n                filterText: '',\n                filterDataElementIds,\n            }, () => {\n                this.handleCategoryComboChange({ target: { value: categoryComboId } });\n                this.forceUpdate();\n            });\n        }\n    }\n\n    componentWillUnmount() {\n        this.subscriptions.forEach(disposable => disposable.unsubscribe());\n    }\n\n    setAssignedDataElements = (dataElements) => {\n        assignedDataElementStore.setState(dataElements);\n    }\n\n    setAssignedIndicators = (indicators) => {\n        assignedIndicatorStore.setState(indicators);\n    }\n\n    removeIndicators = (indicators) => {\n        assignedIndicatorStore.setState(assignedIndicatorStore.state.filter(i => indicators.indexOf(i) === -1));\n        return Promise.resolve();\n    }\n\n    assignIndicators = (indicators) => {\n        assignedIndicatorStore.setState(assignedIndicatorStore.state.concat(indicators));\n        return Promise.resolve();\n    }\n\n    handleRowTotalsChange = (e, value) => {\n        this.setState({ showRowTotals: value });\n    }\n\n    handleColumnTotalsChange = (e, value) => {\n        this.setState({ showColumnTotals: value });\n    }\n\n    handleFilterChange = (e) => {\n        this.setState({ filterText: e.target.value });\n    }\n\n    handleNameChange = (e) => {\n        const sectionArray = Array.isArray(modelToEditStore.getState().sections)\n            ? modelToEditStore.getState().sections\n            : modelToEditStore.getState().sections.toArray();\n        const nameDupe = sectionArray\n            .filter(s => s.id !== this.props.sectionModel.id)\n            .reduce((res, s) => res || s.name === e.target.value, false);\n\n        this.setState({ name: e.target.value, nameError: nameDupe ? this.getTranslation('value_not_unique') : '' });\n    }\n\n    handleCodeChange = (e) => {\n        const sectionArray = Array.isArray(modelToEditStore.getState().sections)\n            ? modelToEditStore.getState().sections\n            : modelToEditStore.getState().sections.toArray();\n        const codeDupe = sectionArray\n            .filter(s => s.id !== this.props.sectionModel.id)\n            .reduce((res, s) => res || (s.code && s.code === e.target.value), false);\n\n        this.setState({ code: e.target.value, codeError: codeDupe ? this.getTranslation('value_not_unique') : '' });\n    }\n\n    handleDescriptionChange = (e) => {\n        this.setState({ description: e.target.value });\n    }\n\n    assignDataElements = (dataElements) => {\n        assignedDataElementStore.setState(assignedDataElementStore.state.concat(dataElements));\n        return Promise.resolve();\n    }\n\n    removeDataElements = (dataElements) => {\n        assignedDataElementStore.setState(assignedDataElementStore.state.filter(de => dataElements.indexOf(de) === -1));\n        return Promise.resolve();\n    }\n\n    handleCategoryComboChange = (event) => {\n        const categoryComboId = event.target.value;\n\n        if (modelToEditStore.state.dataSetElements) {\n            dataElementStore.setState(\n                modelToEditStore.state.dataSetElements\n                    .filter((dse) => {\n                        if (categoryComboId) {\n                            return dse.categoryCombo\n                                ? dse.categoryCombo.id === categoryComboId\n                                : dse.dataElement.categoryCombo.id === categoryComboId;\n                        }\n                        return true;\n                    })\n                    .filter(dse => (this.state.filterDataElementIds\n                        ? !this.state.filterDataElementIds.includes(dse.dataElement.id)\n                        : true),\n                    )\n                    .map(dse => ({ value: dse.dataElement.id, text: dse.dataElement.displayName }))\n                    .sort((a, b) => a.text.localeCompare(b.text)),\n            );\n        }\n\n        this.setState({\n            categoryCombo: categoryComboId,\n        });\n    }\n\n    saveSection = () => {\n        if (!this.state.name || this.state.name.trim().length === 0) {\n            snackActions.show({\n                message: this.getTranslation('name_is_required'),\n                action: this.getTranslation('ok'),\n            });\n            return;\n        }\n\n        const sectionModel = this.props.sectionModel.id\n            ? this.props.sectionModel\n            : this.props.sectionModel.modelDefinition.create();\n        Object.assign(sectionModel, {\n            dataSet: { id: modelToEditStore.state.id },\n            name: this.state.name,\n            code: this.state.code,\n            description: this.state.description,\n            showRowTotals: this.state.showRowTotals,\n            showColumnTotals: this.state.showColumnTotals,\n            dataElements: assignedDataElementStore.state.map(de => ({ id: de })),\n            indicators: assignedIndicatorStore.state.map(i => ({ id: i })),\n            sortOrder: this.props.sectionModel.sortOrder || modelToEditStore\n                .state\n                .sections\n                .toArray()\n                .reduce((prev, s) => Math.max(prev, s.sortOrder + 1), 0),\n        });\n        sectionModel.save()\n            .then((res) => {\n                snackActions.show({ message: this.getTranslation('section_saved') });\n                this.context.d2.models.sections.get(res.response.uid, {\n                    fields: [\n                        ':all,dataElements[id,categoryCombo[id,displayName]]',\n                        'greyedFields[categoryOptionCombo,dataElement]',\n                    ].join(','),\n                })\n                    .then((section) => {\n                        this.props.onSaveSection(section);\n                    });\n            })\n            .catch((err) => {\n                log.warn('Failed to save section:', err);\n                snackActions.show({\n                    message: this.getTranslation('failed_to_save_section'),\n                    action: this.getTranslation('ok'),\n                });\n            });\n    }\n\n    renderFilters = () => {\n        const catCombos = [{ value: false, text: this.getTranslation('no_filter') }]\n            .concat(this.props.categoryCombos.sort((a, b) => a.text.localeCompare(b.text)));\n\n        return (\n            <div style={{ minWidth: 605 }}>\n                <DropDown\n                    options={catCombos}\n                    labelText={this.getTranslation('category_combo_filter')}\n                    onChange={this.handleCategoryComboChange}\n                    value={this.state.categoryCombo}\n                    isRequired\n                    disabled={this.props.categoryCombos.length === 1}\n                    style={{ width: 284 }}\n                />\n                <TextField\n                    fullWidth\n                    hintText={this.getTranslation('search_available_selected_items')}\n                    defaultValue={this.state.filterText}\n                    onChange={this.handleFilterChange}\n                />\n            </div>\n        );\n    }\n\n    renderAvailableOptions = () => {\n        const labelStyle = {\n            position: 'relative',\n            display: 'block',\n            width: '100%',\n            lineHeight: '24px',\n            color: 'rgba(0,0,0,0.3)',\n            marginTop: '1.25rem',\n            fontSize: 16,\n        };\n\n        const editorStyle = {\n            marginBottom: 80,\n        };\n\n        return (\n            <div>\n                <TextField\n                    fullWidth\n                    hintText={this.getTranslation('filter')}\n                    defaultValue={this.state.filterText}\n                    onChange={this.handleFilterChange}\n                />\n                <div style={editorStyle}>\n                    <label style={labelStyle}>{this.getTranslation('data_elements')}</label>\n                    <GroupEditor\n                        itemStore={dataElementStore}\n                        assignedItemStore={assignedDataElementStore}\n                        onAssignItems={this.assignDataElements}\n                        onRemoveItems={this.removeDataElements}\n                        onOrderChanged={this.setAssignedDataElements}\n                        height={250}\n                        filterText={this.state.filterText}\n                    />\n                </div>\n                {indicatorStore.state.length ? (\n                    <div style={editorStyle}>\n                        <label style={labelStyle}>{this.getTranslation('indicators')}</label>\n                        <GroupEditor\n                            itemStore={indicatorStore}\n                            assignedItemStore={assignedIndicatorStore}\n                            onAssignItems={this.assignIndicators}\n                            onRemoveItems={this.removeIndicators}\n                            onOrderChanged={this.setAssignedIndicators}\n                            height={250}\n                            filterText={this.state.filterText}\n                        />\n                    </div>\n                ) : null}\n            </div>\n        );\n    }\n\n    render() {\n        let title = this.getTranslation('add_section');\n        let sectionIdDiv = null;\n\n        if (this.props.sectionModel.id) {\n            title = this.getTranslation('edit_section');\n            sectionIdDiv = (\n                <div style={{ float: 'left', padding: 8, color: 'rgba(0,0,0,0.5)' }}>\n                    {this.getTranslation('section_id')}:\n                    <span style={{ fontFamily: 'monospace' }}>{this.props.sectionModel.id}</span>\n                </div>\n            );\n        }\n\n        const validateName = (e) => {\n            this.setState({ nameError: e.target.value.trim().length > 0 ? '' : this.getTranslation('value_required') });\n        };\n\n        return (\n            <Dialog\n                autoScrollBodyContent\n                title={title}\n                actions={[\n                    sectionIdDiv,\n                    <FlatButton\n                        label={this.getTranslation('cancel')}\n                        onTouchTap={this.props.onRequestClose}\n                        style={{ marginRight: 24 }}\n                    />,\n                    <RaisedButton\n                        primary\n                        label={this.getTranslation('save')}\n                        onTouchTap={this.saveSection}\n                    />,\n                ]}\n                {...this.props}\n            >\n                <TextField\n                    floatingLabelText={`${this.getTranslation('name')} *`}\n                    value={this.state.name || ''}\n                    style={{ width: '100%' }}\n                    onChange={this.handleNameChange}\n                    errorText={this.state.nameError}\n                    onBlur={validateName}\n                />\n                <TextField\n                    floatingLabelText={this.getTranslation('code')}\n                    value={this.state.code || ''}\n                    style={{ width: '100%' }}\n                    onChange={this.handleCodeChange}\n                    errorText={this.state.codeError}\n                />\n                <TextField\n                    floatingLabelText={this.getTranslation('description')}\n                    value={this.state.description || ''}\n                    style={{ width: '100%' }}\n                    multiLine\n                    onChange={this.handleDescriptionChange}\n                />\n                <Checkbox\n                    label={this.getTranslation('show_row_totals')}\n                    checked={this.state.showRowTotals}\n                    style={{ margin: '16px 0' }}\n                    onCheck={this.handleRowTotalsChange}\n                />\n                <Checkbox\n                    label={this.getTranslation('show_column_totals')}\n                    checked={this.state.showColumnTotals}\n                    style={{ margin: '16px 0' }}\n                    onCheck={this.handleColumnTotalsChange}\n                />\n                {this.renderFilters()}\n                {this.renderAvailableOptions()}\n            </Dialog>\n        );\n    }\n}\n\nSectionDialog.propTypes = {\n    open: React.PropTypes.bool.isRequired,\n    sectionModel: React.PropTypes.any.isRequired,\n    categoryCombos: React.PropTypes.array.isRequired,\n    onRequestClose: React.PropTypes.func.isRequired,\n    onSaveSection: React.PropTypes.func.isRequired,\n};\nSectionDialog.contextTypes = {\n    d2: React.PropTypes.any.isRequired,\n};\n\nexport default SectionDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/EditModel/SectionDialog.component.js"],"sourceRoot":""}