webpackJsonp([6],{1610:function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e){var t=e.programIndicator,a=r(e,["programIndicator"]),i="programIndicator",u=a.params.groupName,c=n.i(_.get)("name",t),m=n.i(_.get)("program.displayName",t);return o.a.createElement("div",{style:N.navigationWrap},o.a.createElement("div",{style:N.heading},o.a.createElement(p.a,{schema:i,groupName:u},n.i(l.camelCaseToUnderscores)(i)),o.a.createElement(d.a,null,c&&m?c+" for "+m:"")),o.a.createElement(s.a,null),o.a.createElement(f.a,E({schema:i},a)),o.a.createElement(T,null,o.a.createElement(y.a,{groupName:u,schema:i})))}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n.n(i),l=n(339),u=(n.n(l),n(337)),c=n.n(u),p=n(1684),d=n(1776),s=n(2237),f=n(2238),m=n(712),_=n(11),g=(n.n(_),n(1657)),h=n(226),y=n(2236),E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v=n.i(g.a)(h.b),S=n.i(g.b)(h.c),T=n.i(g.c)(S,v),A=c()(function(e){return e.combineLatest(m.a,function(e,t){return E({},e,{programIndicator:t.programIndicator})})}),N={heading:{display:"flex",flexDirection:"column",marginBottom:"1rem"}};t.default=A(a)},1654:function(e,t,n){"use strict";function r(e){return e&&y.a[e]}function a(e){var t=e.major,n=e.minor;return e.snapshot?"master":t+"."+n}function i(e,t){var n=/\$\{(.+?)\}/g;return e.replace(n,function(e,n){return t.has(n)?t.get(n):".+?"})}function o(e,t){return Object.keys(y.a).find(function(n){var r=i(n,t);return new RegExp(r).test(e)})}function l(e,t){return r(e)?i(y.a[e],t):""}function u(e,t){var r=new Map([["objectType",t]]),a=new Map([["objectType",n.i(g.camelCaseToUnderscores)(t)]]);return l(o(e,r),a)}function c(e,t){var n=e.schema,r=t.d2,i=window.location.hash.replace(/^#/,"").replace(/\?.+?$/,""),o="https://docs.dhis2.org/"+a(r.system.version),l=u(i,n);return l?d.a.createElement(_.a,{href:""+o+l,target:"_blank",rel:"noopener noreferrer",tooltip:r.i18n.getTranslation("open_user_guide"),tooltipPosition:"bottom-center",iconClassName:"material-icons",iconStyle:{top:-2}},"help_outline"):null}t.a=c;var p=n(0),d=n.n(p),s=n(1),f=n.n(s),m=n(42),_=n.n(m),g=n(339),h=(n.n(g),n(1656)),y=n.n(h);c.propTypes={schema:f.a.string.isRequired},c.contextTypes={d2:f.a.object}},1655:function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(a,i){try{var o=t[a](i),l=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});e(l)}return r("next")})}}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.props&&t.props.isRequired?e+" (*)":e}function i(e,t){e.validators&&(e.validators=e.validators.map(function(e){return P({},e,{message:t.i18n.getTranslation(e.message)})}))}function o(e,t){e.translatedName=t.i18n.getTranslation(e.props.labelText),e.props.labelText=a(e.translatedName,e)}function l(e,t,n){if(v.a.isGroupedFields(t)&&"programNotificationTemplate"!==t){var r=v.a.groupNoByName(e.name,t),a=v.a.groupNameByStep(r,t);e.step=r+1+": "+n.i18n.getTranslation(a)}}function u(e,t,r){return function(a){if(!a||!a.trim())return Promise.resolve(!0);var i=t.filter().on(e.fieldOptions.referenceProperty).equals(a);return r&&(i=i.filter().on("id").notEqual(r)),i.list().then(function(e){return 0!==e.size?n.i(_.getInstance)().then(function(e){return e.i18n.getTranslation("value_not_unique")}).then(function(e){return Promise.reject(e)}):Promise.resolve(!0)})}}function c(e,t){return e.unique&&(e.asyncValidators=[u(e,t.modelDefinition,t.id)]),e}function p(e,t){var r=e.models[t];return Object.keys(r.attributeProperties).map(function(t){var a=r.attributeProperties[t];return n.i(S.a)({name:a.name,valueType:a.valueType,type:S.b.get(a.optionSet?"CONSTANT":a.valueType),required:Boolean(a.mandatory),fieldOptions:{labelText:a.name,options:a.optionSet?a.optionSet.options.map(function(e){return{name:e.displayName||e.name,value:e.code}}):[]}},r,e.models)})}function d(e,t){return e.attributes&&new Set(Object.keys(e.attributes)).has(t.name)}function s(e,t){return e.map(function(e){return d(t,e)?P({},e,{value:t.attributes[e.name]}):P({},e,{value:t[e.name]})}).map(V).map(R(t))}function f(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:N.identity,a=arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=arguments[5];return r=r||N.identity,A()(function(l){return l.filter(function(e){return e.model}).combineLatest(O.Observable.fromPromise(C(e,t,a,o)),function(t,a){var l=s(a,t.model),u=i?n.i(D.a)(n.i(D.b)(o||e),r(l),t.model):l;return P({},t,{fieldConfigs:u})})})}function m(e,t,r,a,i){function o(e){var r=e.fieldConfigs,a=e.model,o=e.editFieldChanged,l=e.detailsFormStatusChange,u=void 0===l?N.noop:l,c=U(r,o),p=n.i(D.a)(n.i(D.b)(i||t),r,a);return I.a.createElement(L.a,{fields:p,onUpdateField:c,onUpdateFormStatus:u})}return n.i(N.compose)(A()(function(t){return t.combineLatest(e,function(e,t){return P({},e,{model:t})})}),f(t,r,void 0,a,!1,i))(o)}n.d(t,"a",function(){return C}),t.b=c,t.f=d,t.d=f,t.c=m,n.d(t,"e",function(){return H});var _=n(15),g=(n.n(_),n(661)),h=n(662),y=n(646),E=n(659),v=n(1686),S=n(223),T=n(337),A=n.n(T),N=n(11),O=(n.n(N),n(16)),b=(n.n(O),n(0)),I=n.n(b),L=n(648),D=n(1688),w=function(){function e(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C=function(){var e=r(regeneratorRuntime.mark(function e(t,r){var a,u,c,d,s,f,m,v,S,T,A=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],N=arguments[3];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.i(_.getInstance)();case 2:for(a=e.sent,u=new h.a(new g.a(a.models)),u.setFieldOrder(r||y.a.for(t)),c=!0,d=!1,s=void 0,e.prev=8,f=E.a.for(N||t)[Symbol.iterator]();!(c=(m=f.next()).done);c=!0)v=w(m.value,2),S=v[0],T=v[1],u.addFieldOverrideFor(S,T);e.next=16;break;case 12:e.prev=12,e.t0=e.catch(8),d=!0,s=e.t0;case 16:e.prev=16,e.prev=17,!c&&f.return&&f.return();case 19:if(e.prev=19,!d){e.next=22;break}throw s;case 22:return e.finish(19);case 23:return e.finish(16);case 24:return e.abrupt("return",u.getFormFieldsForModel({modelDefinition:a.models[t]},N).map(function(e){return i(e,a),l(e,t,a),o(e,a),e}).concat(A?p(a,t):[]));case 25:case"end":return e.stop()}},e,this,[[8,12,16,24],[17,,19,23]])}));return function(t,n){return e.apply(this,arguments)}}(),V=function(e){return e.beforePassToFieldConverter?P({},e,{value:e.beforePassToFieldConverter(e.value)}):e},R=function(e){return function(t){return P({},t,{props:P({},t.props,{model:e})})}},U=function(e,t){return function(n,r){var a=e.find(function(e){return e.name===n}),i=a.beforeUpdateConverter||N.identity;return t(n,i(r))}},H=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){return t.length<1||t.includes(n.name)?P({},n,{props:P({},n.props,e)}):n}}},1656:function(e,t){e.exports={"/edit/categorySection/categoryOptionGroupSet":"/en/user/html/manage_category.html#create_category_option_group_set","/edit/categorySection/categoryOptionGroup":"/en/user/html/manage_category.html#create_category_option_group","/edit/categorySection/categoryOptionCombo":"/en/user/html/manage_category.html#assign_code_category_option_combo","/edit/categorySection/categoryOption":"/en/user/html/manage_category.html#create_category_option","/edit/categorySection/categoryCombo":"/en/user/html/manage_category.html#create_category_combination","/edit/categorySection/category":"/en/user/html/manage_category.html#create_category","/list/categorySection":"/en/user/html/manage_category.html","/edit/dataElementSection/dataElementGroupSet":"/en/user/html/manage_data_element.html#create_data_element_group_set","/edit/dataElementSection/dataElementGroup":"/en/user/html/manage_data_element.html#create_data_element_group","/edit/dataElementSection/dataElement":"/en/user/html/manage_data_element.html#create_data_element","/list/dataElementSection":"/en/user/html/manage_data_element.html","/edit/dataSetSection/dataSet/${objectId}/sections":"/en/user/html/manage_data_set.html#manage_section_form","/edit/dataSetSection/dataSet":"/en/user/html/manage_data_set.html#create_data_set","/list/dataSetSection/dataSet":"/en/user/html/manage_data_set.html","/edit/indicatorSection/programIndicatorGroup":"/en/user/html/configure_program_indicator.html#create_program_indicator_group","/list/indicatorSection/programIndicatorGroup":"/en/user/html/configure_program_indicator.html","/edit/indicatorSection/programIndicator":"/en/user/html/configure_program_indicator.html#create_program_indicator","/list/indicatorSection/programIndicator":"/en/user/html/configure_program_indicator.html","/edit/indicatorSection/indicatorGroupSet":"/en/user/html/manage_indicator.html#create_indicator_group_set","/edit/indicatorSection/indicatorGroup":"/en/user/html/manage_indicator.html#create_indicator_group","/edit/indicatorSection/indicatorType":"/en/user/html/manage_indicator.html#create_indicator_type","/edit/indicatorSection/indicator":"/en/user/html/manage_indicator.html#create_indicator","/list/indicatorSection":"/en/user/html/manage_indicator.html","/edit/organisationUnitSection/organisationUnitGroupSet":"/en/user/html/manage_organisation_unit.html#create_organisation_unit_group_set","/edit/organisationUnitSection/organisationUnitGroup":"/en/user/html/manage_organisation_unit.html#create_organisation_unit_group","/edit/organisationUnitSection/organisationUnitLevel":"/en/user/html/manage_organisation_unit.html#name_organisation_unit_level","/edit/organisationUnitSection/organisationUnit":"/en/user/html/manage_organisation_unit.html#create_organisation_unit","/list/organisationUnitSection":"/en/user/html/manage_organisation_unit.html","/edit/programSection/trackedEntityAttribute":"/en/user/html/configure_tracked_entity.html#create_tracked_entity_attribute","/edit/programSection/programRuleVariable":"/en/user/html/configure_program_rule.html#create_program_rule_variable","/edit/programSection/relationshipType":"/en/user/html/configure_relationship_type.html#create_relationship_type","/edit/programSection/trackedEntity":"/en/user/html/configure_tracked_entity.html#about_tracked_entity","/edit/programSection/programRule":"/en/user/html/configure_program_rule.html#create_program_rule","/edit/programSection/program":"/en/user/html/configure_event_program_in_maintenance_app.html#create_event_program","/list/programSection":"/en/user/html/configure_programs_in_maintenance_app.html","/edit/validationSection/validationNotificationTemplate":"/en/user/html/manage_validation_rule.html#create_validation_notification","/edit/validationSection/validationRuleGroup":"/en/user/html/manage_validation_rule.html#create_validation_rule_group","/edit/validationSection/validationRule":"/en/user/html/manage_validation_rule.html#create_validation_rule","/list/validationSection":"/en/user/html/manage_validation_rule.html","/edit/otherSection/legendSet":"/en/user/html/manage_legend.html#create_legend","/list/otherSection/legendSet":"/en/user/html/manage_legend.html","/edit/otherSection/pushAnalysis":"/en/user/html/manage_push_report.html#create_push_report","/list/otherSection/pushAnalysis":"/en/user/html/manage_push_report.html","/edit/otherSection/externalMapLayer":"/en/user/html/manage_external_maplayer.html#create_external_map_layer","/list/otherSection/externalMapLayer":"/en/user/html/manage_external_maplayer.html","/edit/otherSection/${objectType}":"/en/user/html/manage_${objectType}.html#create_${objectType}","/list/otherSection/${objectType}":"/en/user/html/manage_${objectType}.html"}},1657:function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t,r){return n.i(I.isString)(e)?e===t.key:e===r}function i(e){var t=e.onBackClick;return c.a.createElement(E.a,{onClick:t},c.a.createElement(A.a,null))}function o(e){var t=e.onForwardClick;return c.a.createElement(E.a,{onClick:t},c.a.createElement(S.a,null))}function l(e,t){var n={buttons:{display:"flex",flexDirection:"row",justifyContent:"space-between",padding:"4rem 1rem 1rem"}};return function(r){var a=r.children;return c.a.createElement("div",{style:n.buttons},c.a.createElement(e,null),a,c.a.createElement(t,null))}}n.d(t,"e",function(){return w}),n.d(t,"d",function(){return P}),t.c=l,n.d(t,"a",function(){return V}),n.d(t,"b",function(){return R});var u=n(0),c=n.n(u),p=n(667),d=n.n(p),s=n(665),f=n.n(s),m=n(666),_=n.n(m),g=n(664),h=n.n(g),y=n(103),E=n.n(y),v=n(2135),S=n.n(v),T=n(2134),A=n.n(T),N=n(86),O=n(20),b=n.n(O),I=n(11),L=(n.n(I),n(213)),D=n(119),w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"horizontal";return function(i){var o=i.activeStep,l=i.stepperClicked,u=i.disabled,p=r(i,["activeStep","stepperClicked","disabled"]),s=function(e){var t=[];return t.push(c.a.createElement(f.a,{key:"button",onClick:function(){return l(e.key)}},c.a.createElement(N.a,null,e.name))),e.content&&t.push(c.a.createElement(_.a,{key:"content"},c.a.createElement(e.content,p))),t};return c.a.createElement(d.a,{linear:!1,orientation:t,activeStep:n.i(I.isNumber)(o)?o:void 0},e.map(function(e,t){return c.a.createElement(h.a,{key:e.key,active:a(o,e,t),disabled:!!u},s(e))}))}},P=function(e){return function(t){var n=t.activeStep,a=r(t,["activeStep"]),i=e.find(function(e){return e.key===n});return i&&i.component?c.a.createElement(i.component,a):(n?b.a.warn("Could not find a content component for a step with key ("+n+") in",e):b.a.warn("The `activeStep` prop is undefined, therefore the component created by `createStepperContentFromConfig` will render null"),null)}},C=function(e){return function(t){return n.i(D.a)(e,t)}},V=function(e){return n.i(L.a)(void 0,C({onForwardClick:e}))(o)},R=function(e){return n.i(L.a)(void 0,C({onBackClick:e}))(i)}},1684:function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){var a=e.level,i=e.schema,l=e.children,u=e.groupName,c=e.isDirtyHandler,_=r(e,["level","schema","children","groupName","isDirtyHandler"]);return o.a.createElement(p.a,m({},_,{level:a}),o.a.createElement(s.a,{onClick:function(){return n.i(f.a)("/list/"+u+"/"+i)},iconStyle:{top:3},isDirtyHandler:c}),t.d2.i18n.getTranslation(l),i&&o.a.createElement(d.a,{schema:i}))}var i=n(0),o=n.n(i),l=n(1),u=n.n(l),c=n(34),p=n(153),d=n(1654),s=n(1687),f=n(82),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};a.propTypes={children:u.a.oneOfType([u.a.string,u.a.array]),level:u.a.number,isDirtyHandler:u.a.func,schema:u.a.string.isRequired,groupName:u.a.string.isRequired},a.defaultProps={isDirtyHandler:function(){},level:2,children:""},t.a=n.i(c.a)(a)},1685:function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){var n=t.d2,a=e.isValid,i=e.isSaving,l=e.onClick,u=r(e,["isValid","isSaving","onClick"]),c=i?n.i18n.getTranslation("saving"):n.i18n.getTranslation("save");return o.a.createElement(p.a,s({},u,{primary:!0,onClick:l,label:c,disabled:i||!a}))}var i=n(0),o=n.n(i),l=n(1),u=n.n(l),c=n(98),p=n.n(c),d=n(34),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};a.propTypes={isSaving:u.a.bool,isValid:u.a.bool,onClick:u.a.func.isRequired},a.defaultProps={isSaving:!1,isValid:!0},t.a=n.i(d.a)(a)},1686:function(e,t,n){"use strict";var r=n(11),a=(n.n(r),n(646)),i=new Map([["programRule",[{label:"enter_program_rule_details",fields:["program","name","description","priority"]},{label:"enter_program_rule_expression",fields:["condition"]},{label:"define_program_rule_actions",fields:["programRuleActions"]}]],["dataSetNotificationTemplate",[{label:"what_to_send",fields:["name","code","dataSets","messageTemplate"]},{label:"when_to_send_it",fields:["dataSetNotificationTrigger","relativeScheduledDays","sendStrategy"]},{label:"who_to_send_it_to",fields:["notificationRecipient","recipientUserGroup","deliveryChannels"]}]],["programNotificationTemplate",[{label:"what_to_send",fields:["name","messageTemplate"]},{label:"when_to_send_it",fields:["notificationTrigger","relativeScheduledDays"]},{label:"who_to_send_it_to",fields:["notificationRecipient","recipientUserGroup","deliveryChannels","recipientProgramAttribute"]}]],["programStageNotificationTemplate",[{label:"what_to_send",fields:["name","messageTemplate"]},{label:"when_to_send_it",fields:["notificationTrigger","relativeScheduledDays"]},{label:"who_to_send_it_to",fields:["notificationRecipient","recipientUserGroup","deliveryChannels","recipientDataElement","recipientProgramAttribute"]}]]]);t.a={for:function(e){return this.isGroupedFields(e)?i.get(e):[{label:"details",fields:a.a.for(e)}]},isGroupedFields:function(e){return e&&i.has(e)},groupNoByName:function(e,t){if(this.isGroupedFields(t)){var a=i.get(t);return n.i(r.findIndex)(function(t){return t.fields.includes(e)},a)}return 0},groupNameByStep:function(e,t){if(this.isGroupedFields(t)){return i.get(t)[e].label}return""},groupsByField:function(e){if(this.isGroupedFields(e))return i.get(e).map(function(e){return e.fields}).reduce(function(e,t,n){return t.map(function(t){return e[t]=n}),e},{})}}},1687:function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){var n=e.tooltip,a=e.onClick,i=e.isDirtyHandler,l=void 0===i?d.a.getState.bind(d.a):i,c=r(e,["tooltip","onClick","isDirtyHandler"]),p=function(){l&&l()&&l().dirty?confirm(t.d2.i18n.getTranslation("abandon_unsaved_changes"))&&a.apply(void 0,arguments):a.apply(void 0,arguments)};return o.a.createElement(u.a,s({tooltip:n||t.d2.i18n.getTranslation("back"),tooltipPosition:"bottom-right",onClick:p},c,{iconClassName:"material-icons"}),"î—„")}var i=n(0),o=n.n(i),l=n(103),u=n.n(l),c=n(34),p=n(15),d=(n.n(p),n(120)),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};a.propTypes={tooltip:o.a.PropTypes.string},t.a=n.i(c.a)(a)},1688:function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e){return P.a.has(e)?P.a.get(e):[]}function i(e,t,n,r){n&&t.setValue(r,e)}function o(e,t,n){if(e)return e.props[t.propName]=n?t.thenValue:t.elseValue}function l(e,t,n){n&&e?(e.hiddenComponent=e.hiddenComponent||e.component,e.component=function(){return null}):e&&e.hiddenComponent&&(e.component=e.hiddenComponent,delete e.hiddenComponent)}function u(e,t,n){n&&e.hiddenComponent?(e.component=e.hiddenComponent,delete e.hiddenComponent):(e.hiddenComponent=e.hiddenComponent||e.component,e.component=function(){return null})}function c(e){return R.has(e)?R.get(e):O.a}function p(e){return V.has(e)?V.get(e):O.a}function d(e){return void 0!==e&&null!==e}function s(e){return d(e)&&e.toString().trim().length>0}function f(e,t){return e===t}function m(e,t){return e!==t}function _(e,t){return t.indexOf(e)>=0}function g(e,t){return t.indexOf(e)<0}function h(e){try{var t=JSON.parse(e);return Array.isArray(t)&&(0===t.length||2===t.length&&!isNaN(t[0])&&!isNaN(t[1]))}catch(e){return!1}}function y(e,t,n){return n.hasOwnProperty("hiddenComponent")}function E(e,t){return!0===(C.a.getState()?C.a.getState()[t]:void 0)}function v(e,t){return!1===(C.a.getState()?C.a.getState()[t]:void 0)}function S(e,t,n){var r=e.whenFieldName,a=e.operatorFn,i=e.whenValue;return a(n[r],i,t,n,r)}function T(e,t,n,r){return e.map(function(a,i){I.a.debug("For field "+t.field+" run the when-rule where field  "+(a.field||t.field)+" "+p(a.operator).name+" "+(a.value||"")+" "+t.field+" "+(e.length>i+1&&"then run"));var o=r.find(function(e){return e.name===(a.field||t.field)});return S({whenFieldName:a.field?a.field:t.field,operatorFn:p(a.operator),whenValue:a.value},o,n)})}function A(e,t,n){return e.forEach(function(e){var a=w()(e.when)?e.when:[e.when],i=T(a,e,n,t).some(function(e){return!0===e});I.a.debug("And the result is",i),(e.operations||[e.operation]).forEach(function(a){var o=t.find(function(t){return t.name===(a.field||e.field)}),l=a.field,u=a.type,p=r(a,["field","type"]);I.a.debug("---- For field "+(l||e.field)+" \n                        execute "+c(u).name+" \n                        with",p),c(u)(o,p,i,n)})}),t}t.b=a,t.a=A;var N=n(227),O=n.n(N),b=n(20),I=n.n(b),L=n(11),D=(n.n(L),n(85)),w=n.n(D),P=n(1770),C=n(230),V=new Map([["EQUALS",f],["NOT_EQUALS",m],["HAS_VALUE",d],["HAS_NO_VALUE",n.i(L.negate)(d)],["HAS_STRING_VALUE",s],["ONEOF",_],["NONEOF",g],["SYSTEM_SETTING_IS_TRUE",E],["SYSTEM_SETTING_IS_FALSE",v],["IS_VALID_POINT",h],["IS_HIDDEN_FIELD",y]]),R=new Map([["SET_PROP",o],["CHANGE_VALUE",i],["HIDE_FIELD",l],["SHOW_FIELD",u]])},1761:function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){var n=e.onClick,a=(e.isPristine,e.isDirtyHandler),i=void 0===a?p.a.getState.bind(p.a):a,l=r(e,["onClick","isPristine","isDirtyHandler"]),c=i&&i()&&i().dirty,s=function(){c?confirm(t.d2.i18n.getTranslation("abandon_unsaved_changes"))&&n.apply(void 0,arguments):n.apply(void 0,arguments)};return o.a.createElement(u.a,d({},l,{onClick:s,secondary:c,label:t.d2.i18n.getTranslation("cancel")}))}var i=n(0),o=n.n(i),l=n(55),u=n.n(l),c=n(34),p=n(120),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};a.propTypes={onClick:o.a.PropTypes.func.isRequired,isDirtyHandler:o.a.PropTypes.func},t.a=n.i(c.a)(a)},1769:function(e,t,n){"use strict";function r(e,t){var r={enrollment:[{analyticsPeriodBoundaryType:i.f,boundaryTarget:i.c},{analyticsPeriodBoundaryType:i.e,boundaryTarget:i.c}],event:[{analyticsPeriodBoundaryType:i.f,boundaryTarget:i.b},{analyticsPeriodBoundaryType:i.e,boundaryTarget:i.b}]};return t&&function(e){return!n.i(a.isEqual)(e,r.event)&&!n.i(a.isEqual)(e,r.enrollment)}(t)?t:r[e]}t.a=r;var a=n(11),i=(n.n(a),n(660))},1770:function(e,t,n){"use strict";function r(e,t){e.optionSet&&e.optionSet.valueType&&(t.value=e.optionSet.valueType,e[t.name]!==e.optionSet.valueType&&(e[t.name]=e.optionSet.valueType))}var a=n(1769);t.a=new Map([["dataElement",[{field:"domainType",when:{operator:"EQUALS",value:"TRACKER"},operations:[{field:"categoryCombo",type:"SET_PROP",propName:"disabled",thenValue:!0,elseValue:!1}]},{field:"valueType",when:{field:"optionSet",operator:"HAS_VALUE"},operations:[{type:"SET_PROP",propName:"disabled",thenValue:!0,elseValue:!1},{type:"CHANGE_VALUE",setValue:r}]},{field:"aggregationType",when:{field:"valueType",operator:"ONEOF",value:["TEXT","LONG_TEXT","LETTER","PHONE_NUMBER","EMAIL","TRACKER_ASSOCIATE","USERNAME","FILE_RESOURCE","COORDINATE"]},operations:[{field:"aggregationType",type:"SET_PROP",propName:"disabled",thenValue:!0,elseValue:!1},{field:"aggregationType",type:"CHANGE_VALUE",setValue:function(e,t){t.value="NONE",e[t.name]="NONE"}}]}]],["dataSetNotificationTemplate",[{when:[{field:"dataSetNotificationTrigger",operator:"NOT_EQUALS",value:"SCHEDULED_DAYS"}],operations:[{field:"relativeScheduledDays",type:"HIDE_FIELD"},{field:"sendStrategy",type:"HIDE_FIELD"}]},{field:"deliveryChannels",when:[{field:"notificationRecipient",operator:"NOT_EQUALS",value:"ORGANISATION_UNIT_CONTACT"}],operations:[{field:"deliveryChannels",type:"HIDE_FIELD"}]}]],["attribute",[{field:"valueType",when:{field:"optionSet",operator:"HAS_VALUE"},operations:[{type:"SET_PROP",propName:"disabled",thenValue:!0,elseValue:!1},{type:"CHANGE_VALUE",setValue:r}]}]],["trackedEntityAttribute",[{field:"unique",when:[{field:"valueType",operator:"ONEOF",value:["BOOLEAN","TRUE_ONLY","DATE","TRACKER_ASSOCIATE","USERNAME","OPTION_SET"]}],operations:[{field:"unique",type:"SET_PROP",propName:"disabled",thenValue:!0,elseValue:!1},{field:"unique",type:"CHANGE_VALUE",setValue:function(e,t){t.value=!1,e.unique=!1}}]},{field:"valueType",when:{field:"optionSet",operator:"HAS_VALUE"},operations:[{type:"SET_PROP",propName:"disabled",thenValue:!0,elseValue:!1},{type:"CHANGE_VALUE",setValue:r}]},{field:"orgunitScope",when:[{field:"unique",operator:"NOT_EQUALS",value:!0},{field:"valueType",operator:"ONEOF",value:["BOOLEAN","TRUE_ONLY","DATE","TRACKER_ASSOCIATE","USERNAME","OPTION_SET"]}],operations:[{type:"HIDE_FIELD"}]},{field:"generated",when:[{field:"orgunitScope",operator:"IS_HIDDEN_FIELD"},{field:"orgunitScope",operator:"ONEOF",value:["organisation_unit"]},{field:"orgunitScope",operator:"EQUALS",value:!0}],operations:[{type:"HIDE_FIELD"},{type:"CHANGE_VALUE",setValue:function(e,t){t.value=!1,e.generated=!1}}]},{field:"pattern",when:[{field:"generated",operator:"IS_HIDDEN_FIELD"},{field:"generated",operator:"NOT_EQUALS",value:!0}],operations:[{type:"HIDE_FIELD"},{type:"CHANGE_VALUE",setValue:function(e,t){t.value=null,e.pattern=null}}]}]],["externalMapLayer",[{field:"legendSetUrl",when:[{field:"legendSet",operator:"HAS_VALUE"}],operations:[{field:"legendSetUrl",type:"SET_PROP",propName:"disabled",thenValue:!0,elseValue:!1}]},{field:"legendSet",when:[{field:"legendSetUrl",operator:"HAS_STRING_VALUE"}],operations:[{field:"legendSet",type:"SET_PROP",propName:"disabled",thenValue:!0,elseValue:!1}]}]],["organisationUnit",[{field:"dataSets",when:[{operator:"SYSTEM_SETTING_IS_FALSE",value:"keyAllowObjectAssignment"}],operations:[{field:"dataSets",type:"HIDE_FIELD"}]},{field:"programs",when:[{operator:"SYSTEM_SETTING_IS_FALSE",value:"keyAllowObjectAssignment"}],operations:[{field:"programs",type:"HIDE_FIELD"}]},{field:"featureType",when:[{field:"coordinates",operator:"HAS_VALUE"}],operations:[{type:"CHANGE_VALUE",setValue:function(e){e.coordinates?function(e){try{var t=JSON.parse(e);return Array.isArray(t)&&(0===t.length||2===t.length&&!isNaN(t[0])&&!isNaN(t[1]))}catch(e){}return!1}(e.coordinates)&&(e.featureType="POINT"):e.featureType=null}}]}]],["programRule",[{field:"name",when:[{field:"program",operator:"HAS_VALUE"}],operations:[{type:"SET_PROP",propName:"disabled",thenValue:!1,elseValue:!0}]},{field:"description",when:[{field:"program",operator:"HAS_VALUE"}],operations:[{type:"SET_PROP",propName:"disabled",thenValue:!1,elseValue:!0}]},{field:"priority",when:[{field:"program",operator:"HAS_VALUE"}],operations:[{type:"SET_PROP",propName:"disabled",thenValue:!1,elseValue:!0}]},{field:"condition",when:[{field:"program",operator:"HAS_VALUE"}],operations:[{type:"SET_PROP",propName:"disabled",thenValue:!1,elseValue:!0}]},{field:"programRuleActions",when:[{field:"program",operator:"HAS_VALUE"}],operations:[{type:"SET_PROP",propName:"disabled",thenValue:!1,elseValue:!0}]}]],["programRuleVariable",[{field:"program",when:[{field:"dataElement",operator:"HAS_STRING_VALUE"},{field:"trackedEntityAttribute",operator:"HAS_STRING_VALUE"},{field:"programStage",operator:"HAS_STRING_VALUE"}],operations:[{type:"SET_PROP",propName:"disabled",thenValue:!0,elseValue:!1}]},{field:"dataElement",when:[{field:"programRuleVariableSourceType",operator:"ONEOF",value:["CALCULATED_VALUE","TEI_ATTRIBUTE"]}],operations:[{field:"dataElement",type:"HIDE_FIELD"}]},{field:"trackedEntityAttribute",when:[{field:"programRuleVariableSourceType",operator:"NOT_EQUALS",value:"TEI_ATTRIBUTE"}],operations:[{field:"trackedEntityAttribute",type:"HIDE_FIELD"}]},{field:"programStage",when:[{field:"programRuleVariableSourceType",operator:"NOT_EQUALS",value:"DATAELEMENT_NEWEST_EVENT_PROGRAM_STAGE"}],operations:[{field:"programStage",type:"HIDE_FIELD"}]},{field:"programStage",when:[{field:"dataElement",operator:"HAS_STRING_VALUE"}],operations:[{type:"SET_PROP",propName:"disabled",thenValue:!0,elseValue:!1}]}]],["programStage",[{field:"autoGenerateEvent",when:[{field:"autoGenerateEvent",operator:"NOT_EQUALS",value:!0}],operations:[{field:"openAfterEnrollment",type:"HIDE_FIELD"},{field:"reportDateToUse",type:"HIDE_FIELD"}]},{field:"reportDateToUse",when:[{field:"openAfterEnrollment",operator:"NOT_EQUALS",value:!0}],operations:[{type:"SET_PROP",propName:"disabled",thenValue:!0,elseValue:!1}]}]],["enrollment",[{field:"relationshipType",when:[{field:"relationshipType",operator:"HAS_NO_VALUE"}],operations:[{field:"relationshipFromA",type:"HIDE_FIELD"},{field:"relationshipText",type:"HIDE_FIELD"},{field:"relatedProgram",type:"HIDE_FIELD"}]},{field:"relationshipFromA",when:[{field:"relationshipType",operator:"HAS_VALUE"}],operations:[{field:"relatedProgram",type:"SET_PROP",propName:"isRequired",thenValue:!0,elseValue:!1},{field:"relationshipFromA",type:"SET_PROP",propName:"isRequired",thenValue:!0,elseValue:!1},{field:"relationshipText",type:"SET_PROP",propName:"required",thenValue:!0,elseValue:!1}]}]],["programIndicator",[{field:"analyticsPeriodBoundaries",when:[{field:"analyticsType",operator:"EQUALS",value:"EVENT"}],operations:[{type:"CHANGE_VALUE",setValue:function(e,t){t&&(t.value=n.i(a.a)("event",t.value),e[t.name]=n.i(a.a)("event",t.value))}}]},{field:"analyticsPeriodBoundaries",when:[{field:"analyticsType",operator:"EQUALS",value:"ENROLLMENT"}],operations:[{type:"CHANGE_VALUE",setValue:function(e,t){t&&(t.value=n.i(a.a)("enrollment",t.value),e[t.name]=n.i(a.a)("enrollment",t.value))}}]}]],["programStageNotificationTemplate",[{field:"notificationTrigger",when:[{field:"notificationTrigger",operator:"NOT_EQUALS",value:"SCHEDULED_DAYS_DUE_DATE"}],operations:[{field:"relativeScheduledDays",type:"HIDE_FIELD"}]},{field:"notificationRecipient",when:[{field:"notificationRecipient",operator:"NONEOF",value:["TRACKED_ENTITY_INSTANCE","ORGANISATION_UNIT_CONTACT"]}],operations:[{field:"deliveryChannels",type:"HIDE_FIELD"}]},{field:"notificationRecipient",when:[{field:"notificationRecipient",operator:"NOT_EQUALS",value:"DATA_ELEMENT"}],operations:[{field:"recipientDataElement",type:"HIDE_FIELD"}]},{field:"notificationRecipient",when:[{field:"notificationRecipient",operator:"NOT_EQUALS",value:"PROGRAM_ATTRIBUTE"}],operations:[{field:"recipientProgramAttribute",type:"HIDE_FIELD"}]}]],["programNotificationTemplate",[{field:"notificationTrigger",when:[{field:"notificationTrigger",operator:"NONEOF",value:["SCHEDULED_DAYS_INCIDENT_DATE","SCHEDULED_DAYS_ENROLLMENT_DATE"]}],operations:[{field:"relativeScheduledDays",type:"HIDE_FIELD"}]},{field:"notificationRecipient",when:[{field:"notificationRecipient",operator:"NONEOF",value:["TRACKED_ENTITY_INSTANCE","ORGANISATION_UNIT_CONTACT"]}],operations:[{field:"deliveryChannels",type:"HIDE_FIELD"}]},{field:"notificationRecipient",when:[{field:"notificationRecipient",operator:"NOT_EQUALS",value:"PROGRAM_ATTRIBUTE"}],operations:[{field:"recipientProgramAttribute",type:"HIDE_FIELD"}]}]],["categoryCombo",[{field:"dataDimensionType",when:[{field:"dataDimensionType",operator:"HAS_NO_VALUE"}],operations:[{type:"CHANGE_VALUE",setValue:function(e,t){t.value=e[t.name]="DISAGGREGATION"}}]}]]])},1776:function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e){var t=e.level,n=e.children,a=r(e,["level","children"]),i=Object.assign({},c,a.style);return o.a.createElement(l.a,u({},a,{style:i,level:t||3}),n)}var i=n(0),o=n.n(i),l=n(153),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c={fontSize:"1.25rem",paddingTop:".5rem",fontWeight:100};a.propTypes={children:o.a.PropTypes.string,level:o.a.PropTypes.number},t.a=a},1777:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return f}),n.d(t,"c",function(){return m});var r=n(0),a=n.n(r),i=n(11),o=(n.n(i),n(154)),l=n.n(o),u=n(122),c=n.n(u),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=function(e){return function(t){var r=n.i(i.isNil)(e)?{padding:"3rem"}:e;return function(e){return a.a.createElement(l.a,{style:r},a.a.createElement(t,e))}}},s=d(),f=c()(function(e){return p({},e,{groupName:e.params.groupName,modelType:e.schema,modelId:e.params.modelId})}),m=function(e){return d({padding:"3rem",marginTop:"15px"})(e)}},2088:function(e,t,n){"use strict";function r(e){var t=e.onSaveAction,n=e.onCancelAction,r=e.isDirtyHandler,a=e.isSaving;return o.a.createElement("div",null,o.a.createElement(d.a,{onClick:t,isSaving:a}),o.a.createElement(s.a,{onClick:n,isDirtyHandler:r,style:m.cancelButton}))}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=function(e,t){return function(){return n.i(f.a)("/list/"+e+"/"+t)}};return n.i(p.compose)(c()(function(e){var t=e.groupName,n=e.schema;return{onCancelAction:a(t,n)}}),n.i(l.a)(t,e))(r)}t.b=r,t.a=a;var i=n(0),o=n.n(i),l=n(213),u=n(238),c=n.n(u),p=n(11),d=(n.n(p),n(1685)),s=n(1761),f=n(82),m=(n(100),{cancelButton:{marginLeft:"1rem"}})},2134:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),i=r(a),o=n(13),l=r(o),u=n(12),c=r(u),p=function(e){return i.default.createElement(c.default,e,i.default.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}))};p=(0,l.default)(p),p.displayName="NavigationArrowBack",p.muiName="SvgIcon",t.default=p},2135:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),i=r(a),o=n(13),l=r(o),u=n(12),c=r(u),p=function(e){return i.default.createElement(c.default,e,i.default.createElement("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}))};p=(0,l.default)(p),p.displayName="NavigationArrowForward",p.muiName="SvgIcon",t.default=p},2236:function(e,t,n){"use strict";var r=n(0),a=(n.n(r),n(119)),i=n(226),o=n(2088),l=function(e){return n.i(a.a)({onSaveAction:i.d},e)},u=n.i(o.a)(l);t.a=u},2237:function(e,t,n){"use strict";var r=n(1657),a=n(713),i=n(213),o=n(711),l=n(226),u=n(119),c=function(e){return{activeStep:n.i(a.a)(e)}},p=function(e){return n.i(u.a)({stepperClicked:l.f},e)},d=n.i(i.a)(c,p)(n.i(r.e)(o.a));t.a=d},2238:function(e,t,n){"use strict";var r=n(213),a=n(119),i=n(11),o=(n.n(i),n(105)),l=n.n(o),u=n(337),c=n.n(u),p=n(1657),d=n(713),s=n(711),f=n(712),m=n(226),_=n(1655),g=n(646),h=n(1777),y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E=function(e){return{activeStep:n.i(d.a)(e)}},v=l()(n.i(r.a)(E),c()(function(e){return e.combineLatest(Observable.of({}),function(e,t){var n=t.program;return y({},e,{modelToEdit:n})})}))(n.i(p.d)(function(){var e=n.i(i.difference)(g.a.for("programIndicator"),["expression","filter"]),t=function(e){return n.i(a.a)({editFieldChanged:m.e},e)},o=f.a.map(n.i(i.get)("programIndicator")),u=l()(h.a,n.i(r.a)(null,t)),c={EditProgramIndicatorDetailsForm:u(n.i(h.b)(n.i(_.c)(o,"programIndicator",e))),DataExpressionForm:u(n.i(_.c)(o,"programIndicator",["expression"],!1)),FilterExpressionForm:u(n.i(_.c)(o,"programIndicator",["filter"],!1))};return s.a.map(function(e){return e.component=c[e.componentName],e})}()));t.a=v}});
//# sourceMappingURL=6-d3b981caa3eb21697c96.js.map