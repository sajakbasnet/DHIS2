{"version":3,"sources":["webpack:///9-d3b981caa3eb21697c96.js","webpack:///./src/GroupEditor/GroupEditor.component.js","webpack:///./src/GroupEditor/ItemSelector.component.js","webpack:///./src/GroupEditor/ModelTypeSelector.component.js","webpack:///./src/GroupEditor/GroupsForItemManager.component.js","webpack:///./src/GroupEditor/ItemsInGroupManager.component.js"],"names":["webpackJsonp","1611","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","n","__WEBPACK_IMPORTED_MODULE_1_material_ui_Tabs_Tabs__","__WEBPACK_IMPORTED_MODULE_1_material_ui_Tabs_Tabs___default","__WEBPACK_IMPORTED_MODULE_2_material_ui_Tabs_Tab__","__WEBPACK_IMPORTED_MODULE_2_material_ui_Tabs_Tab___default","__WEBPACK_IMPORTED_MODULE_3_material_ui_Paper_Paper__","__WEBPACK_IMPORTED_MODULE_3_material_ui_Paper_Paper___default","__WEBPACK_IMPORTED_MODULE_4__ItemsInGroupManager_component__","__WEBPACK_IMPORTED_MODULE_5__GroupsForItemManager_component__","React","createClass","displayName","render","a","createElement","onChange","this","_tabChanged","label","ref","refs","itemsForGroup","reset","groupsForItem","2148","__WEBPACK_IMPORTED_MODULE_1_material_ui_SelectField_SelectField__","__WEBPACK_IMPORTED_MODULE_1_material_ui_SelectField_SelectField___default","__WEBPACK_IMPORTED_MODULE_2_material_ui_MenuItem_MenuItem__","__WEBPACK_IMPORTED_MODULE_2_material_ui_MenuItem_MenuItem___default","propTypes","itemListStore","PropTypes","object","isRequired","onItemSelected","func","getInitialState","items","componentWillMount","_this","subscription","props","map","modelList","model","text","payload","id","subscribe","length","setState","componentWillUnmount","unsubscribe","renderOptions","state","option","index","key","primaryText","_onChange","fullWidth","event","2149","hasNameInArray","listToCheck","indexOf","name","__WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__","__WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default","__WEBPACK_IMPORTED_MODULE_4_d2_utilizr_lib_camelCaseToUnderscores__","__WEBPACK_IMPORTED_MODULE_4_d2_utilizr_lib_camelCaseToUnderscores___default","__WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_i18n_Translate_mixin__","_extends","assign","target","i","arguments","source","prototype","hasOwnProperty","call","nameListFilter","arrayOf","string","mixins","Translate","getDefaultProps","selectedModel","d2lib","getInstance","then","d2","models","modelType","_this2","mapThroughDefinitions","v","filter","getTranslation","camelCaseToUnderscores","plural","hintText","2239","__WEBPACK_IMPORTED_MODULE_1_material_ui_TextField_TextField__","__WEBPACK_IMPORTED_MODULE_1_material_ui_TextField_TextField___default","__WEBPACK_IMPORTED_MODULE_2_loglevel__","__WEBPACK_IMPORTED_MODULE_2_loglevel___default","__WEBPACK_IMPORTED_MODULE_4__ModelTypeSelector_component__","__WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_store_Store__","__WEBPACK_IMPORTED_MODULE_6__ItemSelector_component__","__WEBPACK_IMPORTED_MODULE_7_d2_ui_lib_i18n_Translate_mixin__","__WEBPACK_IMPORTED_MODULE_8_d2_ui_lib_group_editor_GroupEditor_component__","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","err","Array","isArray","TypeError","itemStore","Store","create","assignedItemStore","filterText","showGroupEditor","renderGroupEditor","modelToEdit","_workItemChanged","defaultValue","_setFilterText","onAssignItems","_assignItems","onRemoveItems","_removeItems","contentStyle","padding","context","accessibleModels","schemaName","currentUser","canCreate","style","_typeChanged","createUrls","_state","itemDefinition","modelDefinition","requests","url","Api","getApi","api","post","Promise","all","get","_ref","_ref2","fullModel","catch","message","log","error","delete","_ref3","_ref4","modelDef","_this3","list","paging","fields","modelCollection","toArray","_this4","reject","availablePromise","modelPromise","_ref5","_ref6","availableItems","_this5","_ref7","_ref8","2240","contextTypes","accessibleGroups","groupName","replace"],"mappings":"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","file":"9-d3b981caa3eb21697c96.js","sourcesContent":["webpackJsonp([9],{\n\n/***/ 1611:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_Tabs_Tabs__ = __webpack_require__(167);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_Tabs_Tabs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_material_ui_Tabs_Tabs__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_Tabs_Tab__ = __webpack_require__(128);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_Tabs_Tab___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_material_ui_Tabs_Tab__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_Paper_Paper__ = __webpack_require__(154);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_Paper_Paper___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_material_ui_Paper_Paper__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ItemsInGroupManager_component__ = __webpack_require__(2240);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__GroupsForItemManager_component__ = __webpack_require__(2239);\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (__WEBPACK_IMPORTED_MODULE_0_react___default.a.createClass({\n    displayName: 'GroupEditor.component',\n    render: function render() {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            __WEBPACK_IMPORTED_MODULE_3_material_ui_Paper_Paper___default.a,\n            null,\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                __WEBPACK_IMPORTED_MODULE_1_material_ui_Tabs_Tabs___default.a,\n                { onChange: this._tabChanged },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    __WEBPACK_IMPORTED_MODULE_2_material_ui_Tabs_Tab___default.a,\n                    { label: 'Manage items in group' },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__ItemsInGroupManager_component__[\"a\" /* default */], { ref: 'itemsForGroup' })\n                ),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    __WEBPACK_IMPORTED_MODULE_2_material_ui_Tabs_Tab___default.a,\n                    { label: 'Manage groups for item' },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5__GroupsForItemManager_component__[\"a\" /* default */], { ref: 'groupsForItem' })\n                )\n            )\n        );\n    },\n    _tabChanged: function _tabChanged() {\n        this.refs.itemsForGroup.reset();\n        this.refs.groupsForItem.reset();\n    }\n}));\n\n/***/ }),\n\n/***/ 2148:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_SelectField_SelectField__ = __webpack_require__(155);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_SelectField_SelectField___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_material_ui_SelectField_SelectField__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_MenuItem_MenuItem__ = __webpack_require__(102);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_MenuItem_MenuItem___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_material_ui_MenuItem_MenuItem__);\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (__WEBPACK_IMPORTED_MODULE_0_react___default.a.createClass({\n    displayName: 'ItemSelector.component',\n\n    propTypes: {\n        itemListStore: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.object.isRequired,\n        onItemSelected: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func.isRequired\n    },\n\n    getInitialState: function getInitialState() {\n        return {\n            items: []\n        };\n    },\n    componentWillMount: function componentWillMount() {\n        var _this = this;\n\n        this.subscription = this.props.itemListStore.map(function (modelList) {\n            return modelList.map(function (model) {\n                return {\n                    text: model.displayName,\n                    payload: model.id,\n                    model: model\n                };\n            });\n        }).subscribe(function (items) {\n            if (items.length) {\n                _this.props.onItemSelected(items[0].model);\n            }\n\n            _this.setState({ items: items });\n        });\n    },\n    componentWillUnmount: function componentWillUnmount() {\n        if (this.subscription && this.subscription.unsubscribe) {\n            this.subscription.unsubscribe();\n        }\n    },\n    renderOptions: function renderOptions() {\n        return this.state.items.map(function (option, index) {\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_material_ui_MenuItem_MenuItem___default.a, { key: index, primaryText: option.text, value: option.payload });\n        });\n    },\n    render: function render() {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            null,\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                __WEBPACK_IMPORTED_MODULE_1_material_ui_SelectField_SelectField___default.a,\n                { onChange: this._onChange, value: this.props.value && this.props.value.id, fullWidth: true },\n                this.renderOptions()\n            )\n        );\n    },\n    _onChange: function _onChange(event, index, value) {\n        if (this.state.items && this.state.items[index]) {\n            this.props.onItemSelected(this.state.items[index].model);\n        }\n    }\n}));\n\n/***/ }),\n\n/***/ 2149:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_SelectField_SelectField__ = __webpack_require__(155);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_SelectField_SelectField___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_material_ui_SelectField_SelectField__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_MenuItem_MenuItem__ = __webpack_require__(102);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_MenuItem_MenuItem___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_material_ui_MenuItem_MenuItem__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_d2_utilizr_lib_camelCaseToUnderscores__ = __webpack_require__(71);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_d2_utilizr_lib_camelCaseToUnderscores___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_d2_utilizr_lib_camelCaseToUnderscores__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_i18n_Translate_mixin__ = __webpack_require__(647);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n\n\n\n\n\n\n\nfunction hasNameInArray(listToCheck) {\n    return function hasNameInArrayInner(value) {\n        // If no list has been given the result is always true\n        if (listToCheck.length === 0) {\n            return true;\n        }\n        return listToCheck.indexOf(value.name) !== -1;\n    };\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (__WEBPACK_IMPORTED_MODULE_0_react___default.a.createClass({\n    displayName: 'ModelTypeSelector.component',\n\n    propTypes: {\n        nameListFilter: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.arrayOf(__WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.string),\n        onChange: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func.isRequired\n    },\n\n    mixins: [__WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_i18n_Translate_mixin__[\"a\" /* default */]],\n\n    getDefaultProps: function getDefaultProps() {\n        return {\n            nameListFilter: []\n        };\n    },\n    getInitialState: function getInitialState() {\n        return {\n            selectedModel: null\n        };\n    },\n    componentWillMount: function componentWillMount() {\n        var _this = this;\n\n        __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n            return _this.setState({ models: d2.models });\n        });\n    },\n    _onChange: function _onChange(event, index, modelType) {\n        this.setState({\n            selectedModel: modelType\n        });\n\n        this.props.onChange(modelType);\n    },\n    renderOptions: function renderOptions() {\n        var _this2 = this;\n\n        if (this.state && this.state.models) {\n            return this.state.models.mapThroughDefinitions(function (v) {\n                return v;\n            }).filter(hasNameInArray(this.props.nameListFilter)).map(function (value) {\n                return {\n                    text: _this2.getTranslation(__WEBPACK_IMPORTED_MODULE_4_d2_utilizr_lib_camelCaseToUnderscores___default()(value.plural)),\n                    payload: value\n                };\n            }).map(function (option, index) {\n                return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_material_ui_MenuItem_MenuItem___default.a, { key: index, primaryText: option.text, value: option.payload });\n            });\n        }\n        return [];\n    },\n    render: function render() {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            null,\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                __WEBPACK_IMPORTED_MODULE_1_material_ui_SelectField_SelectField___default.a,\n                _extends({\n                    value: this.state.selectedModel,\n                    hintText: this.getTranslation('select_an_object_type'),\n                    fullWidth: true\n                }, this.props, {\n                    onChange: this._onChange\n                }),\n                this.renderOptions()\n            )\n        );\n    }\n}));\n\n/***/ }),\n\n/***/ 2239:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_TextField_TextField__ = __webpack_require__(54);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_TextField_TextField___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_material_ui_TextField_TextField__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_loglevel__ = __webpack_require__(20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_loglevel___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_loglevel__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ModelTypeSelector_component__ = __webpack_require__(2149);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_store_Store__ = __webpack_require__(24);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__ItemSelector_component__ = __webpack_require__(2148);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_d2_ui_lib_i18n_Translate_mixin__ = __webpack_require__(647);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_d2_ui_lib_group_editor_GroupEditor_component__ = __webpack_require__(222);\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (__WEBPACK_IMPORTED_MODULE_0_react___default.a.createClass({\n    displayName: 'GroupsForItemManager.component',\n\n    mixins: [__WEBPACK_IMPORTED_MODULE_7_d2_ui_lib_i18n_Translate_mixin__[\"a\" /* default */]],\n\n    getInitialState: function getInitialState() {\n        var itemStore = __WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_store_Store__[\"a\" /* default */].create();\n        var assignedItemStore = __WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_store_Store__[\"a\" /* default */].create();\n        var itemListStore = __WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_store_Store__[\"a\" /* default */].create();\n\n        itemStore.state = [];\n        assignedItemStore.state = [];\n\n        return {\n            itemListStore: itemListStore,\n            itemStore: itemStore,\n            assignedItemStore: assignedItemStore,\n            filterText: '',\n            showGroupEditor: false\n        };\n    },\n    renderGroupEditor: function renderGroupEditor() {\n        if (!this.state.showGroupEditor) {\n            return [];\n        }\n\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            null,\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6__ItemSelector_component__[\"a\" /* default */], {\n                value: this.state.modelToEdit || this.state.itemListStore.state[0],\n                itemListStore: this.state.itemListStore,\n                onItemSelected: this._workItemChanged\n            }),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_material_ui_TextField_TextField___default.a, {\n                fullWidth: true,\n                hintText: this.getTranslation('search_available_selected_items'),\n                defaultValue: this.state.filterText,\n                onChange: this._setFilterText\n            }),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8_d2_ui_lib_group_editor_GroupEditor_component__[\"a\" /* default */], {\n                itemStore: this.state.itemStore,\n                assignedItemStore: this.state.assignedItemStore,\n                onAssignItems: this._assignItems,\n                onRemoveItems: this._removeItems,\n                filterText: this.state.filterText\n            })\n        );\n    },\n    render: function render() {\n        var contentStyle = {\n            padding: '2rem'\n        };\n\n        var d2 = this.context.d2;\n        var accessibleModels = ['indicator', 'dataElement', 'categoryOption'].filter(function (schemaName) {\n            return d2.currentUser.canCreate(d2.models[schemaName + 'Group']);\n        });\n\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            { style: contentStyle },\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__ModelTypeSelector_component__[\"a\" /* default */], {\n                nameListFilter: accessibleModels,\n                onChange: this._typeChanged\n            }),\n            this.renderGroupEditor()\n        );\n    },\n    createUrls: function createUrls(items) {\n        var _state = this.state,\n            modelToEdit = _state.modelToEdit,\n            itemDefinition = _state.itemDefinition;\n\n\n        return items.map(function (id) {\n            return modelToEdit.modelDefinition.plural + '/' + modelToEdit.id + '/' + itemDefinition + '/' + id;\n        });\n    },\n    _assignItems: function _assignItems(items) {\n        var _this = this;\n\n        var requests = this.createUrls(items).map(function (url) {\n            return __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n                return d2.Api.getApi();\n            }).then(function (api) {\n                return api.post(url);\n            });\n        });\n\n        return Promise.all(requests).then(function () {\n            var itemDefinition = _this.state.modelToEdit.modelDefinition.name + 'Group';\n\n            return __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n                return Promise.all([d2, d2.models[_this.state.modelToEdit.modelDefinition.name].get(_this.state.modelToEdit.id)]);\n            }).then(function (_ref) {\n                var _ref2 = _slicedToArray(_ref, 2),\n                    d2 = _ref2[0],\n                    fullModel = _ref2[1];\n\n                _this.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n                _this.setState({\n                    modelToEdit: fullModel\n                });\n            });\n        }).catch(function (message) {\n            return __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.error(message);\n        });\n    },\n    _removeItems: function _removeItems(items) {\n        var _this2 = this;\n\n        var requests = this.createUrls(items).map(function (url) {\n            return __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n                return d2.Api.getApi();\n            }).then(function (api) {\n                return api.delete(url);\n            });\n        });\n\n        return Promise.all(requests).then(function () {\n            var itemDefinition = _this2.state.modelToEdit.modelDefinition.name + 'Group';\n\n            return __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n                return Promise.all([d2, d2.models[_this2.state.modelToEdit.modelDefinition.name].get(_this2.state.modelToEdit.id)]);\n            }).then(function (_ref3) {\n                var _ref4 = _slicedToArray(_ref3, 2),\n                    d2 = _ref4[0],\n                    fullModel = _ref4[1];\n\n                _this2.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n                _this2.setState({\n                    modelToEdit: fullModel\n                });\n            });\n        }).catch(function (message) {\n            return __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.error(message);\n        });\n    },\n    _typeChanged: function _typeChanged(modelDef) {\n        var _this3 = this;\n\n        modelDef.list({ paging: false, fields: 'id,displayName,name' }).then(function (modelCollection) {\n            return modelCollection.toArray();\n        }).then(function (models) {\n            return _this3.state.itemListStore.setState(models);\n        }).then(function () {\n            return _this3.setState({ showGroupEditor: true });\n        }).catch(function (message) {\n            return __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.error(message);\n        });\n    },\n    _setFilterText: function _setFilterText(event) {\n        this.setState({\n            filterText: event.target.value\n        });\n    },\n    _workItemChanged: function _workItemChanged(model) {\n        var _this4 = this;\n\n        var itemDefinition = model.modelDefinition.name + 'Group';\n\n        __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n            if (!d2.models[itemDefinition]) {\n                return Promise.reject('This groupType does not have a model named: ' + itemDefinition);\n            }\n\n            var availablePromise = d2.models[itemDefinition].list({ paging: false });\n            var modelPromise = d2.models[model.modelDefinition.name].get(model.id);\n\n            Promise.all([availablePromise, modelPromise]).then(function (_ref5) {\n                var _ref6 = _slicedToArray(_ref5, 2),\n                    availableItems = _ref6[0],\n                    fullModel = _ref6[1];\n\n                _this4.state.itemStore.setState(availableItems);\n                _this4.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n                _this4.setState({\n                    modelToEdit: fullModel,\n                    itemDefinition: d2.models[itemDefinition].plural\n                });\n            });\n        }).catch(function (message) {\n            return __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.error(message);\n        });\n    },\n    reset: function reset() {\n        var _this5 = this;\n\n        if (!this.state.modelToEdit) {\n            return;\n        }\n\n        var itemDefinition = this.state.modelToEdit.modelDefinition.name + 'Group';\n\n        __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n            return Promise.all([d2, d2.models[_this5.state.modelToEdit.modelDefinition.name].get(_this5.state.modelToEdit.id)]);\n        }).then(function (_ref7) {\n            var _ref8 = _slicedToArray(_ref7, 2),\n                d2 = _ref8[0],\n                fullModel = _ref8[1];\n\n            _this5.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n            _this5.setState({\n                modelToEdit: fullModel\n            });\n        }).catch(function (message) {\n            return __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.error(message);\n        });\n    }\n}));\n\n/***/ }),\n\n/***/ 2240:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_TextField_TextField__ = __webpack_require__(54);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_TextField_TextField___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_material_ui_TextField_TextField__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_loglevel__ = __webpack_require__(20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_loglevel___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_loglevel__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ModelTypeSelector_component__ = __webpack_require__(2149);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_store_Store__ = __webpack_require__(24);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__ItemSelector_component__ = __webpack_require__(2148);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_d2_ui_lib_i18n_Translate_mixin__ = __webpack_require__(647);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_d2_ui_lib_group_editor_GroupEditor_component__ = __webpack_require__(222);\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (__WEBPACK_IMPORTED_MODULE_0_react___default.a.createClass({\n    displayName: 'ItemsInGroupManager.component',\n\n    mixins: [__WEBPACK_IMPORTED_MODULE_7_d2_ui_lib_i18n_Translate_mixin__[\"a\" /* default */]],\n\n    contextTypes: {\n        d2: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.object\n    },\n\n    getInitialState: function getInitialState() {\n        var itemStore = __WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_store_Store__[\"a\" /* default */].create();\n        var assignedItemStore = __WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_store_Store__[\"a\" /* default */].create();\n        var itemListStore = __WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_store_Store__[\"a\" /* default */].create();\n\n        itemStore.state = [];\n        assignedItemStore.state = [];\n\n        return {\n            itemListStore: itemListStore,\n            itemStore: itemStore,\n            assignedItemStore: assignedItemStore,\n            filterText: '',\n            showGroupEditor: false\n        };\n    },\n    renderGroupEditor: function renderGroupEditor() {\n        if (!this.state.showGroupEditor) {\n            return null;\n        }\n\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            null,\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6__ItemSelector_component__[\"a\" /* default */], {\n                value: this.state.modelToEdit || this.state.itemListStore.state[0],\n                itemListStore: this.state.itemListStore,\n                onItemSelected: this._workItemChanged\n            }),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_material_ui_TextField_TextField___default.a, {\n                fullWidth: true,\n                hintText: this.getTranslation('search_available_selected_items'),\n                defaultValue: this.state.filterText,\n                onChange: this._setFilterText\n            }),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8_d2_ui_lib_group_editor_GroupEditor_component__[\"a\" /* default */], {\n                itemStore: this.state.itemStore,\n                assignedItemStore: this.state.assignedItemStore,\n                onAssignItems: this._assignItems,\n                onRemoveItems: this._removeItems,\n                filterText: this.state.filterText\n            })\n        );\n    },\n    createUrls: function createUrls(items) {\n        var _state = this.state,\n            modelToEdit = _state.modelToEdit,\n            itemDefinition = _state.itemDefinition;\n\n\n        return items.map(function (id) {\n            return modelToEdit.modelDefinition.plural + '/' + modelToEdit.id + '/' + itemDefinition + '/' + id;\n        });\n    },\n    render: function render() {\n        var d2 = this.context.d2;\n\n        var accessibleGroups = ['indicatorGroup', 'dataElementGroup', 'categoryOptionGroup'].filter(function (groupName) {\n            return d2.currentUser.canCreate(d2.models[groupName]);\n        });\n\n        var contentStyle = {\n            padding: '2rem'\n        };\n\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            { style: contentStyle },\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__ModelTypeSelector_component__[\"a\" /* default */], {\n                nameListFilter: accessibleGroups,\n                onChange: this._typeChanged\n            }),\n            this.renderGroupEditor()\n        );\n    },\n    _assignItems: function _assignItems(items) {\n        var _this = this;\n\n        var requests = this.createUrls(items).map(function (url) {\n            return __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n                return d2.Api.getApi();\n            }).then(function (api) {\n                return api.post(url);\n            });\n        });\n\n        return Promise.all(requests).then(function () {\n            var itemDefinition = _this.state.modelToEdit.modelDefinition.name.replace('Group', '');\n\n            return __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n                return Promise.all([d2, d2.models[_this.state.modelToEdit.modelDefinition.name].get(_this.state.modelToEdit.id)]);\n            }).then(function (_ref) {\n                var _ref2 = _slicedToArray(_ref, 2),\n                    d2 = _ref2[0],\n                    fullModel = _ref2[1];\n\n                _this.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n                _this.setState({\n                    modelToEdit: fullModel\n                });\n            }).catch(function (message) {\n                return __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.error(message);\n            });\n        });\n    },\n    _removeItems: function _removeItems(items) {\n        var _this2 = this;\n\n        var requests = this.createUrls(items).map(function (url) {\n            return __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n                return d2.Api.getApi();\n            }).then(function (api) {\n                return api.delete(url);\n            });\n        });\n\n        return Promise.all(requests).then(function () {\n            var itemDefinition = _this2.state.modelToEdit.modelDefinition.name.replace('Group', '');\n\n            return __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n                return Promise.all([d2, d2.models[_this2.state.modelToEdit.modelDefinition.name].get(_this2.state.modelToEdit.id)]);\n            }).then(function (_ref3) {\n                var _ref4 = _slicedToArray(_ref3, 2),\n                    d2 = _ref4[0],\n                    fullModel = _ref4[1];\n\n                _this2.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n                _this2.setState({\n                    modelToEdit: fullModel\n                });\n            }).catch(function (message) {\n                return __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.error(message);\n            });\n        });\n    },\n    _typeChanged: function _typeChanged(modelDef) {\n        var _this3 = this;\n\n        if (!modelDef) {\n            return;\n        }\n\n        modelDef.list({ paging: false, fields: 'id,displayName,name' }).then(function (modelCollection) {\n            return modelCollection.toArray();\n        }).then(function (models) {\n            return _this3.state.itemListStore.setState(models);\n        }).then(function () {\n            return _this3.setState({ showGroupEditor: true });\n        }).catch(function (message) {\n            return __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.error(message);\n        });\n    },\n    _setFilterText: function _setFilterText(event) {\n        this.setState({\n            filterText: event.target.value\n        });\n    },\n    _workItemChanged: function _workItemChanged(model) {\n        var _this4 = this;\n\n        var itemDefinition = model.modelDefinition.name.replace('Group', '');\n\n        __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n            if (!d2.models[itemDefinition]) {\n                return Promise.reject('This groupType does not have a model named: ' + itemDefinition);\n            }\n\n            var availablePromise = d2.models[itemDefinition].list({ paging: false });\n            var modelPromise = d2.models[model.modelDefinition.name].get(model.id);\n\n            Promise.all([availablePromise, modelPromise]).then(function (_ref5) {\n                var _ref6 = _slicedToArray(_ref5, 2),\n                    availableItems = _ref6[0],\n                    fullModel = _ref6[1];\n\n                _this4.state.itemStore.setState(availableItems);\n                _this4.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n                _this4.setState({\n                    modelToEdit: fullModel,\n                    itemDefinition: d2.models[itemDefinition].plural\n                });\n            });\n        }).catch(function (message) {\n            return __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.error(message);\n        });\n    },\n    reset: function reset() {\n        var _this5 = this;\n\n        if (!this.state.modelToEdit) {\n            return;\n        }\n\n        var itemDefinition = this.state.modelToEdit.modelDefinition.name.replace('Group', '');\n\n        __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n            return Promise.all([d2, d2.models[_this5.state.modelToEdit.modelDefinition.name].get(_this5.state.modelToEdit.id)]);\n        }).then(function (_ref7) {\n            var _ref8 = _slicedToArray(_ref7, 2),\n                d2 = _ref8[0],\n                fullModel = _ref8[1];\n\n            _this5.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n            _this5.setState({\n                modelToEdit: fullModel\n            });\n        }).catch(function (message) {\n            return __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.error(message);\n        });\n    }\n}));\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 9-d3b981caa3eb21697c96.js","import React from 'react';\n\nimport Tabs from 'material-ui/Tabs/Tabs';\nimport Tab from 'material-ui/Tabs/Tab';\nimport Paper from 'material-ui/Paper/Paper';\n\nimport ItemsInGroupManager from './ItemsInGroupManager.component';\nimport GroupsForItemManager from './GroupsForItemManager.component';\n\nexport default React.createClass({\n    render() {\n        return (\n            <Paper>\n                <Tabs onChange={this._tabChanged}>\n                    <Tab label=\"Manage items in group\">\n                        <ItemsInGroupManager ref=\"itemsForGroup\" />\n                    </Tab>\n                    <Tab label=\"Manage groups for item\">\n                        <GroupsForItemManager ref=\"groupsForItem\" />\n                    </Tab>\n                </Tabs>\n            </Paper>\n        );\n    },\n\n    _tabChanged() {\n        this.refs.itemsForGroup.reset();\n        this.refs.groupsForItem.reset();\n    },\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/GroupEditor/GroupEditor.component.js","import React from 'react';\n\nimport SelectField from 'material-ui/SelectField/SelectField';\nimport MenuItem from 'material-ui/MenuItem/MenuItem';\n\nexport default React.createClass({\n    propTypes: {\n        itemListStore: React.PropTypes.object.isRequired,\n        onItemSelected: React.PropTypes.func.isRequired,\n    },\n\n    getInitialState() {\n        return {\n            items: [],\n        };\n    },\n\n    componentWillMount() {\n        this.subscription = this.props.itemListStore\n            .map(modelList => modelList\n                    .map(model => ({\n                        text: model.displayName,\n                        payload: model.id,\n                        model,\n                    })))\n            .subscribe((items) => {\n                if (items.length) {\n                    this.props.onItemSelected(items[0].model);\n                }\n\n                this.setState({ items });\n            });\n    },\n\n    componentWillUnmount() {\n        if (this.subscription && this.subscription.unsubscribe) {\n            this.subscription.unsubscribe();\n        }\n    },\n\n    renderOptions() {\n        return this.state.items\n            .map((option, index) => <MenuItem key={index} primaryText={option.text} value={option.payload} />);\n    },\n\n    render() {\n        return (\n            <div>\n                <SelectField onChange={this._onChange} value={this.props.value && this.props.value.id} fullWidth>{this.renderOptions()}</SelectField>\n            </div>\n        );\n    },\n\n    _onChange(event, index, value) {\n        if (this.state.items && this.state.items[index]) {\n            this.props.onItemSelected(this.state.items[index].model);\n        }\n    },\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/GroupEditor/ItemSelector.component.js","import React from 'react';\nimport SelectField from 'material-ui/SelectField/SelectField';\nimport MenuItem from 'material-ui/MenuItem/MenuItem';\nimport d2lib from 'd2/lib/d2';\nimport camelCaseToUnderscores from 'd2-utilizr/lib/camelCaseToUnderscores';\nimport Translate from 'd2-ui/lib/i18n/Translate.mixin';\n\nfunction hasNameInArray(listToCheck) {\n    return function hasNameInArrayInner(value) {\n        // If no list has been given the result is always true\n        if (listToCheck.length === 0) {\n            return true;\n        }\n        return listToCheck.indexOf(value.name) !== -1;\n    };\n}\n\nexport default React.createClass({\n    propTypes: {\n        nameListFilter: React.PropTypes.arrayOf(React.PropTypes.string),\n        onChange: React.PropTypes.func.isRequired,\n    },\n\n    mixins: [Translate],\n\n    getDefaultProps() {\n        return {\n            nameListFilter: [],\n        };\n    },\n\n    getInitialState() {\n        return {\n            selectedModel: null,\n        };\n    },\n\n    componentWillMount() {\n        d2lib.getInstance()\n            .then(d2 => this.setState({ models: d2.models }));\n    },\n\n    _onChange(event, index, modelType) {\n        this.setState({\n            selectedModel: modelType,\n        });\n\n        this.props.onChange(modelType);\n    },\n\n    renderOptions() {\n        if (this.state && this.state.models) {\n            return this.state.models\n                .mapThroughDefinitions(v => v)\n                .filter(hasNameInArray(this.props.nameListFilter))\n                .map(value => ({\n                    text: this.getTranslation(camelCaseToUnderscores(value.plural)),\n                    payload: value,\n                }))\n                .map((option, index) => (\n                    <MenuItem key={index} primaryText={option.text} value={option.payload} />\n                    ));\n        }\n        return [];\n    },\n\n    render() {\n        return (\n            <div>\n                <SelectField\n                    value={this.state.selectedModel}\n                    hintText={this.getTranslation('select_an_object_type')}\n                    fullWidth\n                    {...this.props}\n                    onChange={this._onChange}\n                >\n                    {this.renderOptions()}\n                </SelectField>\n            </div>\n        );\n    },\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/GroupEditor/ModelTypeSelector.component.js","import React from 'react';\n\nimport TextField from 'material-ui/TextField/TextField';\nimport log from 'loglevel';\n\nimport d2lib from 'd2/lib/d2';\nimport ModelTypeSelector from './ModelTypeSelector.component';\nimport Store from 'd2-ui/lib/store/Store';\nimport ItemSelector from './ItemSelector.component';\nimport Translate from 'd2-ui/lib/i18n/Translate.mixin';\nimport GroupEditor from 'd2-ui/lib/group-editor/GroupEditor.component';\n\nexport default React.createClass({\n    mixins: [Translate],\n\n    getInitialState() {\n        const itemStore = Store.create();\n        const assignedItemStore = Store.create();\n        const itemListStore = Store.create();\n\n        itemStore.state = [];\n        assignedItemStore.state = [];\n\n        return {\n            itemListStore,\n            itemStore,\n            assignedItemStore,\n            filterText: '',\n            showGroupEditor: false,\n        };\n    },\n\n    renderGroupEditor() {\n        if (!this.state.showGroupEditor) {\n            return [];\n        }\n\n        return (\n            <div>\n                <ItemSelector\n                    value={this.state.modelToEdit || this.state.itemListStore.state[0]}\n                    itemListStore={this.state.itemListStore}\n                    onItemSelected={this._workItemChanged}\n                />\n                <TextField\n                    fullWidth\n                    hintText={this.getTranslation('search_available_selected_items')}\n                    defaultValue={this.state.filterText}\n                    onChange={this._setFilterText}\n                />\n                <GroupEditor\n                    itemStore={this.state.itemStore}\n                    assignedItemStore={this.state.assignedItemStore}\n                    onAssignItems={this._assignItems}\n                    onRemoveItems={this._removeItems}\n                    filterText={this.state.filterText}\n                />\n            </div>\n        );\n    },\n\n    render() {\n        const contentStyle = {\n            padding: '2rem',\n        };\n\n        const d2 = this.context.d2;\n        const accessibleModels = ['indicator', 'dataElement', 'categoryOption']\n            .filter(schemaName => d2.currentUser.canCreate(d2.models[`${schemaName}Group`]));\n\n        return (\n            <div style={contentStyle}>\n                <ModelTypeSelector\n                    nameListFilter={accessibleModels}\n                    onChange={this._typeChanged}\n                />\n                {this.renderGroupEditor()}\n            </div>\n        );\n    },\n\n    createUrls(items) {\n        const { modelToEdit, itemDefinition } = this.state;\n\n        return items\n            .map(id => `${modelToEdit.modelDefinition.plural}/${modelToEdit.id}/${itemDefinition}/${id}`);\n    },\n\n    _assignItems(items) {\n        const requests = this.createUrls(items)\n            .map(url => d2lib.getInstance()\n                    .then(d2 => d2.Api.getApi())\n                    .then(api => api.post(url)));\n\n        return Promise.all(requests)\n            .then(() => {\n                const itemDefinition = `${this.state.modelToEdit.modelDefinition.name}Group`;\n\n                return d2lib.getInstance()\n                    .then(d2 => Promise.all([d2, d2.models[this.state.modelToEdit.modelDefinition.name].get(this.state.modelToEdit.id)]))\n                    .then(([d2, fullModel]) => {\n                        this.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n                        this.setState({\n                            modelToEdit: fullModel,\n                        });\n                    });\n            })\n            .catch(message => log.error(message));\n    },\n\n    _removeItems(items) {\n        const requests = this.createUrls(items)\n            .map(url => d2lib.getInstance()\n                    .then(d2 => d2.Api.getApi())\n                    .then(api => api.delete(url)));\n\n        return Promise.all(requests)\n            .then(() => {\n                const itemDefinition = `${this.state.modelToEdit.modelDefinition.name}Group`;\n\n                return d2lib.getInstance()\n                    .then(d2 => Promise.all([d2, d2.models[this.state.modelToEdit.modelDefinition.name].get(this.state.modelToEdit.id)]))\n                    .then(([d2, fullModel]) => {\n                        this.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n                        this.setState({\n                            modelToEdit: fullModel,\n                        });\n                    });\n            })\n            .catch(message => log.error(message));\n    },\n\n    _typeChanged(modelDef) {\n        modelDef.list({ paging: false, fields: 'id,displayName,name' })\n            .then(modelCollection => modelCollection.toArray())\n            .then(models => this.state.itemListStore.setState(models))\n            .then(() => this.setState({ showGroupEditor: true }))\n            .catch(message => log.error(message));\n    },\n\n    _setFilterText(event) {\n        this.setState({\n            filterText: event.target.value,\n        });\n    },\n\n    _workItemChanged(model) {\n        const itemDefinition = `${model.modelDefinition.name}Group`;\n\n        d2lib.getInstance()\n            .then((d2) => {\n                if (!d2.models[itemDefinition]) {\n                    return Promise.reject(`This groupType does not have a model named: ${itemDefinition}`);\n                }\n\n                const availablePromise = d2.models[itemDefinition].list({ paging: false });\n                const modelPromise = d2.models[model.modelDefinition.name].get(model.id);\n\n                Promise.all([availablePromise, modelPromise])\n                    .then(([availableItems, fullModel]) => {\n                        this.state.itemStore.setState(availableItems);\n                        this.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n                        this.setState({\n                            modelToEdit: fullModel,\n                            itemDefinition: d2.models[itemDefinition].plural,\n                        });\n                    });\n            })\n            .catch(message => log.error(message));\n    },\n\n    reset() {\n        if (!this.state.modelToEdit) { return; }\n\n        const itemDefinition = `${this.state.modelToEdit.modelDefinition.name}Group`;\n\n        d2lib.getInstance()\n            .then(d2 => Promise.all([d2, d2.models[this.state.modelToEdit.modelDefinition.name].get(this.state.modelToEdit.id)]))\n            .then(([d2, fullModel]) => {\n                this.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n                this.setState({\n                    modelToEdit: fullModel,\n                });\n            })\n            .catch(message => log.error(message));\n    },\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/GroupEditor/GroupsForItemManager.component.js","import React from 'react';\n\nimport TextField from 'material-ui/TextField/TextField';\nimport log from 'loglevel';\n\nimport d2lib from 'd2/lib/d2';\nimport ModelTypeSelector from './ModelTypeSelector.component';\nimport Store from 'd2-ui/lib/store/Store';\nimport ItemSelector from './ItemSelector.component';\nimport Translate from 'd2-ui/lib/i18n/Translate.mixin';\nimport GroupEditor from 'd2-ui/lib/group-editor/GroupEditor.component';\n\nexport default React.createClass({\n    mixins: [Translate],\n\n    contextTypes: {\n        d2: React.PropTypes.object,\n    },\n\n    getInitialState() {\n        const itemStore = Store.create();\n        const assignedItemStore = Store.create();\n        const itemListStore = Store.create();\n\n        itemStore.state = [];\n        assignedItemStore.state = [];\n\n        return {\n            itemListStore,\n            itemStore,\n            assignedItemStore,\n            filterText: '',\n            showGroupEditor: false,\n        };\n    },\n\n    renderGroupEditor() {\n        if (!this.state.showGroupEditor) {\n            return null;\n        }\n\n        return (\n            <div>\n                <ItemSelector\n                    value={this.state.modelToEdit || this.state.itemListStore.state[0]}\n                    itemListStore={this.state.itemListStore}\n                    onItemSelected={this._workItemChanged}\n                />\n                <TextField\n                    fullWidth\n                    hintText={this.getTranslation('search_available_selected_items')}\n                    defaultValue={this.state.filterText}\n                    onChange={this._setFilterText}\n                />\n                <GroupEditor\n                    itemStore={this.state.itemStore}\n                    assignedItemStore={this.state.assignedItemStore}\n                    onAssignItems={this._assignItems}\n                    onRemoveItems={this._removeItems}\n                    filterText={this.state.filterText}\n                />\n            </div>\n        );\n    },\n\n    createUrls(items) {\n        const { modelToEdit, itemDefinition } = this.state;\n\n        return items\n            .map(id => `${modelToEdit.modelDefinition.plural}/${modelToEdit.id}/${itemDefinition}/${id}`);\n    },\n\n    render() {\n        const d2 = this.context.d2;\n\n        const accessibleGroups = ['indicatorGroup', 'dataElementGroup', 'categoryOptionGroup']\n            .filter(groupName => d2.currentUser.canCreate(d2.models[groupName]));\n\n        const contentStyle = {\n            padding: '2rem',\n        };\n\n        return (\n            <div style={contentStyle}>\n                <ModelTypeSelector\n                    nameListFilter={accessibleGroups}\n                    onChange={this._typeChanged}\n                />\n                {this.renderGroupEditor()}\n            </div>\n        );\n    },\n\n    _assignItems(items) {\n        const requests = this.createUrls(items)\n            .map(url => d2lib\n                .getInstance()\n                .then(d2 => d2.Api.getApi())\n                .then(api => api.post(url))\n            );\n\n        return Promise.all(requests)\n            .then(() => {\n                const itemDefinition = this.state.modelToEdit.modelDefinition.name.replace('Group', '');\n\n                return d2lib.getInstance()\n                    .then(d2 => Promise.all([d2, d2.models[this.state.modelToEdit.modelDefinition.name].get(this.state.modelToEdit.id)]))\n                    .then(([d2, fullModel]) => {\n                        this.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n                        this.setState({\n                            modelToEdit: fullModel,\n                        });\n                    })\n                    .catch(message => log.error(message));\n            });\n    },\n\n    _removeItems(items) {\n        const requests = this.createUrls(items)\n            .map(url => d2lib.getInstance()\n                    .then(d2 => d2.Api.getApi())\n                    .then(api => api.delete(url)));\n\n        return Promise.all(requests)\n            .then(() => {\n                const itemDefinition = this.state.modelToEdit.modelDefinition.name.replace('Group', '');\n\n                return d2lib.getInstance()\n                    .then(d2 => Promise.all([d2, d2.models[this.state.modelToEdit.modelDefinition.name].get(this.state.modelToEdit.id)]))\n                    .then(([d2, fullModel]) => {\n                        this.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n                        this.setState({\n                            modelToEdit: fullModel,\n                        });\n                    })\n                    .catch(message => log.error(message));\n            });\n    },\n\n    _typeChanged(modelDef) {\n        if (!modelDef) {\n            return;\n        }\n\n        modelDef.list({ paging: false, fields: 'id,displayName,name' })\n            .then(modelCollection => modelCollection.toArray())\n            .then(models => this.state.itemListStore.setState(models))\n            .then(() => this.setState({ showGroupEditor: true }))\n            .catch(message => log.error(message));\n    },\n\n    _setFilterText(event) {\n        this.setState({\n            filterText: event.target.value,\n        });\n    },\n\n    _workItemChanged(model) {\n        const itemDefinition = model.modelDefinition.name.replace('Group', '');\n\n        d2lib.getInstance()\n            .then((d2) => {\n                if (!d2.models[itemDefinition]) {\n                    return Promise.reject(`This groupType does not have a model named: ${itemDefinition}`);\n                }\n\n                const availablePromise = d2.models[itemDefinition].list({ paging: false });\n                const modelPromise = d2.models[model.modelDefinition.name].get(model.id);\n\n                Promise.all([availablePromise, modelPromise])\n                    .then(([availableItems, fullModel]) => {\n                        this.state.itemStore.setState(availableItems);\n                        this.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n                        this.setState({\n                            modelToEdit: fullModel,\n                            itemDefinition: d2.models[itemDefinition].plural,\n                        });\n                    });\n            })\n            .catch(message => log.error(message));\n    },\n\n    reset() {\n        if (!this.state.modelToEdit) { return; }\n\n        const itemDefinition = this.state.modelToEdit.modelDefinition.name.replace('Group', '');\n\n        d2lib.getInstance()\n            .then(d2 => Promise\n                    .all([d2, d2.models[this.state.modelToEdit.modelDefinition.name].get(this.state.modelToEdit.id)]))\n            .then(([d2, fullModel]) => {\n                this.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n                this.setState({\n                    modelToEdit: fullModel,\n                });\n            })\n            .catch(message => log.error(message));\n    },\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/GroupEditor/ItemsInGroupManager.component.js"],"sourceRoot":""}